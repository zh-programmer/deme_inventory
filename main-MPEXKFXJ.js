import{a as Sn}from"./chunk-FK6H3RFT.js";import{a as xm,b as ND,d as fo,e as xD,f as Rm}from"./chunk-GCSYRHVK.js";import{a as Re,b as pt,c as Nm,f as G}from"./chunk-EQDQRRRY.js";function c1(n,e){return Object.is(n,e)}var Rr=null,Pm=!1,u1=1,Fs=Symbol("SIGNAL");function Jt(n){let e=Rr;return Rr=n,e}function l1(){return Rr}var tp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function np(n){if(Pm)throw new Error("");if(Rr===null)return;Rr.consumerOnSignalRead(n);let e=Rr.nextProducerIndex++;if(Lm(Rr),e<Rr.producerNode.length&&Rr.producerNode[e]!==n&&ep(Rr)){let t=Rr.producerNode[e];Om(t,Rr.producerIndexOfThis[e])}Rr.producerNode[e]!==n&&(Rr.producerNode[e]=n,Rr.producerIndexOfThis[e]=ep(Rr)?PD(n,Rr,e):0),Rr.producerLastReadVersion[e]=n.version}function RD(){u1++}function d1(n){if(!(ep(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===u1)){if(!n.producerMustRecompute(n)&&!g1(n)){a1(n);return}n.producerRecomputeValue(n),a1(n)}}function h1(n){if(n.liveConsumerNode===void 0)return;let e=Pm;Pm=!0;try{for(let t of n.liveConsumerNode)t.dirty||qV(t)}finally{Pm=e}}function f1(){return Rr?.consumerAllowSignalWrites!==!1}function qV(n){n.dirty=!0,h1(n),n.consumerMarkedDirty?.(n)}function a1(n){n.dirty=!1,n.lastCleanEpoch=u1}function km(n){return n&&(n.nextProducerIndex=0),Jt(n)}function p1(n,e){if(Jt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ep(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Om(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function g1(n){Lm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(d1(t),r!==t.version))return!0}return!1}function m1(n){if(Lm(n),ep(n))for(let e=0;e<n.producerNode.length;e++)Om(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function PD(n,e,t){if(MD(n),n.liveConsumerNode.length===0&&kD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=PD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Om(n,e){if(MD(n),n.liveConsumerNode.length===1&&kD(n))for(let r=0;r<n.producerNode.length;r++)Om(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Lm(i),i.producerIndexOfThis[r]=e}}function ep(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Lm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function MD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function kD(n){return n.producerNode!==void 0}function y1(n,e){let t=Object.create($V);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(d1(t),np(t),t.value===Mm)throw t.error;return t.value};return r[Fs]=t,r}var s1=Symbol("UNSET"),o1=Symbol("COMPUTING"),Mm=Symbol("ERRORED"),$V=pt(Re({},tp),{value:s1,dirty:!0,error:null,equal:c1,kind:"computed",producerMustRecompute(n){return n.value===s1||n.value===o1},producerRecomputeValue(n){if(n.value===o1)throw new Error("Detected cycle in computations.");let e=n.value;n.value=o1;let t=km(n),r,i=!1;try{r=n.computation(),Jt(null),i=e!==s1&&e!==Mm&&r!==Mm&&n.equal(e,r)}catch(s){r=Mm,n.error=s}finally{p1(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function zV(){throw new Error}var OD=zV;function LD(n){OD(n)}function v1(n){OD=n}var HV=null;function _1(n,e){let t=Object.create(Fm);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(np(t),t.value);return r[Fs]=t,r}function rp(n,e){f1()||LD(n),n.equal(n.value,e)||(n.value=e,WV(n))}function w1(n,e){f1()||LD(n),rp(n,e(n.value))}var Fm=pt(Re({},tp),{equal:c1,value:void 0,kind:"signal"});function WV(n){n.version++,RD(),h1(n),HV?.()}function b1(n){let e=Jt(null);try{return n()}finally{Jt(e)}}var E1;function ip(){return E1}function Ya(n){let e=E1;return E1=n,e}var Vm=Symbol("NotFound");function Mt(n){return typeof n=="function"}function Ud(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jm=Ud(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ul(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Yn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Mt(r))try{r()}catch(s){e=s instanceof jm?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{FD(s)}catch(o){e=e??[],o instanceof jm?e=[...e,...o.errors]:e.push(o)}}if(e)throw new jm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ul(t,e)}remove(e){let{_finalizers:t}=this;t&&ul(t,e),e instanceof n&&e._removeParent(this)}};Yn.EMPTY=(()=>{let n=new Yn;return n.closed=!0,n})();var I1=Yn.EMPTY;function Bm(n){return n instanceof Yn||n&&"closed"in n&&Mt(n.remove)&&Mt(n.add)&&Mt(n.unsubscribe)}function FD(n){Mt(n)?n():n.unsubscribe()}var po={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qd={setTimeout(n,e,...t){let{delegate:r}=qd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=qd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Um(n){qd.setTimeout(()=>{let{onUnhandledError:e}=po;if(e)e(n);else throw n})}function sp(){}var VD=S1("C",void 0,void 0);function jD(n){return S1("E",void 0,n)}function BD(n){return S1("N",n,void 0)}function S1(n,e,t){return{kind:n,value:e,error:t}}var ll=null;function $d(n){if(po.useDeprecatedSynchronousErrorHandling){let e=!ll;if(e&&(ll={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ll;if(ll=null,t)throw r}}else n()}function UD(n){po.useDeprecatedSynchronousErrorHandling&&ll&&(ll.errorThrown=!0,ll.error=n)}var dl=class extends Yn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bm(e)&&e.add(this)):this.destination=JV}static create(e,t,r){return new zd(e,t,r)}next(e){this.isStopped?C1(BD(e),this):this._next(e)}error(e){this.isStopped?C1(jD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?C1(VD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YV=Function.prototype.bind;function T1(n,e){return YV.call(n,e)}var A1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){qm(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){qm(r)}else qm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qm(t)}}},zd=class extends dl{constructor(e,t,r){super();let i;if(Mt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&po.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&T1(e.next,s),error:e.error&&T1(e.error,s),complete:e.complete&&T1(e.complete,s)}):i=e}this.destination=new A1(i)}};function qm(n){po.useDeprecatedSynchronousErrorHandling?UD(n):Um(n)}function ZV(n){throw n}function C1(n,e){let{onStoppedNotification:t}=po;t&&qd.setTimeout(()=>t(n,e))}var JV={closed:!0,next:sp,error:ZV,complete:sp};var Hd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function as(n){return n}function $m(...n){return D1(n)}function D1(n){return n.length===0?as:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ut=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=e6(t)?t:new zd(t,r,i);return $d(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=qD(r),new r((i,s)=>{let o=new zd({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Hd](){return this}pipe(...t){return D1(t)(this)}toPromise(t){return t=qD(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function qD(n){var e;return(e=n??po.Promise)!==null&&e!==void 0?e:Promise}function XV(n){return n&&Mt(n.next)&&Mt(n.error)&&Mt(n.complete)}function e6(n){return n&&n instanceof dl||XV(n)&&Bm(n)}function N1(n){return Mt(n?.lift)}function nn(n){return e=>{if(N1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xt(n,e,t,r,i){return new x1(n,e,t,r,i)}var x1=class extends dl{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wd(){return nn((n,e)=>{let t=null;n._refCount++;let r=Xt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Gd=class extends Ut{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,N1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yn;let t=this.getSubject();e.add(this.source.subscribe(Xt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yn.EMPTY)}return e}refCount(){return Wd()(this)}};var $D=Ud(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tn=(()=>{class n extends Ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new zm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $D}next(t){$d(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){$d(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$d(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?I1:(this.currentObservers=null,s.push(t),new Yn(()=>{this.currentObservers=null,ul(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Ut;return t.source=this,t}}return n.create=(e,t)=>new zm(e,t),n})(),zm=class extends Tn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:I1}};var Kr=class extends Tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var R1={now(){return(R1.delegate||Date).now()},delegate:void 0};var Hm=class extends Yn{constructor(e,t){super()}schedule(e,t=0){return this}};var op={setInterval(n,e,...t){let{delegate:r}=op;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=op;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Kd=class extends Hm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return op.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&op.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ul(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Qd=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Qd.now=R1.now;var Yd=class extends Qd{constructor(e,t=Qd.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var P1=new Yd(Kd);var Wm=class extends Kd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Gm=class extends Yd{};var M1=new Gm(Wm);var Li=new Ut(n=>n.complete());function zD(n){return n&&Mt(n.schedule)}function HD(n){return n[n.length-1]}function Km(n){return Mt(HD(n))?n.pop():void 0}function iu(n){return zD(HD(n))?n.pop():void 0}function k1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function GD(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(g){o(g)}}function c(h){try{u(r.throw(h))}catch(g){o(g)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function WD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hl(n){return this instanceof hl?(this.v=n,this):new hl(n)}function KD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(E){return Promise.resolve(E).then(p,g)}}function a(p,E){r[p]&&(i[p]=function(S){return new Promise(function(R,x){s.push([p,S,R,x])>1||c(p,S)})},E&&(i[p]=E(i[p])))}function c(p,E){try{u(r[p](E))}catch(S){v(s[0][3],S)}}function u(p){p.value instanceof hl?Promise.resolve(p.value.v).then(h,g):v(s[0][2],p)}function h(p){c("next",p)}function g(p){c("throw",p)}function v(p,E){p(E),s.shift(),s.length&&c(s[0][0],s[0][1])}}function QD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof WD=="function"?WD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Qm=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ym(n){return Mt(n?.then)}function Zm(n){return Mt(n[Hd])}function Jm(n){return Symbol.asyncIterator&&Mt(n?.[Symbol.asyncIterator])}function Xm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function t6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ey=t6();function ty(n){return Mt(n?.[ey])}function ny(n){return KD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield hl(t.read());if(i)return yield hl(void 0);yield yield hl(r)}}finally{t.releaseLock()}})}function ry(n){return Mt(n?.getReader)}function _r(n){if(n instanceof Ut)return n;if(n!=null){if(Zm(n))return n6(n);if(Qm(n))return r6(n);if(Ym(n))return i6(n);if(Jm(n))return YD(n);if(ty(n))return s6(n);if(ry(n))return o6(n)}throw Xm(n)}function n6(n){return new Ut(e=>{let t=n[Hd]();if(Mt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function r6(n){return new Ut(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function i6(n){return new Ut(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Um)})}function s6(n){return new Ut(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function YD(n){return new Ut(e=>{a6(n,e).catch(t=>e.error(t))})}function o6(n){return YD(ny(n))}function a6(n,e){var t,r,i,s;return GD(this,void 0,void 0,function*(){try{for(t=QD(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Fi(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function su(n,e=0){return nn((t,r)=>{t.subscribe(Xt(r,i=>Fi(r,n,()=>r.next(i),e),()=>Fi(r,n,()=>r.complete(),e),i=>Fi(r,n,()=>r.error(i),e)))})}function ou(n,e=0){return nn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ZD(n,e){return _r(n).pipe(ou(e),su(e))}function JD(n,e){return _r(n).pipe(ou(e),su(e))}function XD(n,e){return new Ut(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function e5(n,e){return new Ut(t=>{let r;return Fi(t,e,()=>{r=n[ey](),Fi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Mt(r?.return)&&r.return()})}function iy(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ut(t=>{Fi(t,e,()=>{let r=n[Symbol.asyncIterator]();Fi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function t5(n,e){return iy(ny(n),e)}function n5(n,e){if(n!=null){if(Zm(n))return ZD(n,e);if(Qm(n))return XD(n,e);if(Ym(n))return JD(n,e);if(Jm(n))return iy(n,e);if(ty(n))return e5(n,e);if(ry(n))return t5(n,e)}throw Xm(n)}function Ln(n,e){return e?n5(n,e):_r(n)}function yt(...n){let e=iu(n);return Ln(n,e)}function Zd(n,e){let t=Mt(n)?n:()=>n,r=i=>i.error(t());return new Ut(e?i=>e.schedule(r,0,i):r)}function O1(n){return!!n&&(n instanceof Ut||Mt(n.lift)&&Mt(n.subscribe))}var Za=Ud(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function qt(n,e){return nn((t,r)=>{let i=0;t.subscribe(Xt(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:c6}=Array;function u6(n,e){return c6(e)?n(...e):n(e)}function sy(n){return qt(e=>u6(n,e))}var{isArray:l6}=Array,{getPrototypeOf:d6,prototype:h6,keys:f6}=Object;function oy(n){if(n.length===1){let e=n[0];if(l6(e))return{args:e,keys:null};if(p6(e)){let t=f6(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function p6(n){return n&&typeof n=="object"&&d6(n)===h6}function ay(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ap(...n){let e=iu(n),t=Km(n),{args:r,keys:i}=oy(n);if(r.length===0)return Ln([],e);let s=new Ut(g6(r,e,i?o=>ay(i,o):as));return t?s.pipe(sy(t)):s}function g6(n,e,t=as){return r=>{r5(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)r5(e,()=>{let u=Ln(n[c],e),h=!1;u.subscribe(Xt(r,g=>{s[c]=g,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function r5(n,e,t){n?Fi(t,n,e):e()}function i5(n,e,t,r,i,s,o,a){let c=[],u=0,h=0,g=!1,v=()=>{g&&!c.length&&!u&&e.complete()},p=S=>u<r?E(S):c.push(S),E=S=>{s&&e.next(S),u++;let R=!1;_r(t(S,h++)).subscribe(Xt(e,x=>{i?.(x),s?p(x):e.next(x)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;c.length&&u<r;){let x=c.shift();o?Fi(e,o,()=>E(x)):E(x)}v()}catch(x){e.error(x)}}))};return n.subscribe(Xt(e,p,()=>{g=!0,v()})),()=>{a?.()}}function wr(n,e,t=1/0){return Mt(e)?wr((r,i)=>qt((s,o)=>e(r,s,i,o))(_r(n(r,i))),t):(typeof e=="number"&&(t=e),nn((r,i)=>i5(r,i,n,t)))}function au(n=1/0){return wr(as,n)}function s5(){return au(1)}function Jd(...n){return s5()(Ln(n,iu(n)))}function cy(n){return new Ut(e=>{_r(n()).subscribe(e)})}function L1(...n){let e=Km(n),{args:t,keys:r}=oy(n),i=new Ut(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let h=0;h<o;h++){let g=!1;_r(t[h]).subscribe(Xt(s,v=>{g||(g=!0,u--),a[h]=v},()=>c--,void 0,()=>{(!c||!g)&&(u||s.next(r?ay(r,a):a),s.complete())}))}});return e?i.pipe(sy(e)):i}function Vi(n,e){return nn((t,r)=>{let i=0;t.subscribe(Xt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function cu(n){return nn((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Xt(t,void 0,void 0,o=>{s=_r(n(o,cu(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function o5(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(Xt(o,h=>{let g=u++;c=a?n(c,h,g):(a=!0,h),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function uu(n,e){return Mt(e)?wr(n,e,1):wr(n,1)}function lu(n){return nn((e,t)=>{let r=!1;e.subscribe(Xt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ja(n){return n<=0?()=>Li:nn((e,t)=>{let r=0;e.subscribe(Xt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uy(n=m6){return nn((e,t)=>{let r=!1;e.subscribe(Xt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function m6(){return new Za}function Xd(n){return nn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xa(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Vi((i,s)=>n(i,s,r)):as,Ja(1),t?lu(e):uy(()=>new Za))}function eh(n){return n<=0?()=>Li:nn((e,t)=>{let r=[];e.subscribe(Xt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function F1(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Vi((i,s)=>n(i,s,r)):as,eh(1),t?lu(e):uy(()=>new Za))}function ly(n,e){return nn(o5(n,e,arguments.length>=2,!0))}function dy(...n){let e=iu(n);return nn((t,r)=>{(e?Jd(n,t,e):Jd(n,t)).subscribe(r)})}function cs(n,e){return nn((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Xt(r,c=>{i?.unsubscribe();let u=0,h=s++;_r(n(c,h)).subscribe(i=Xt(r,g=>r.next(e?e(c,g,h,u++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function V1(n){return nn((e,t)=>{_r(n).subscribe(Xt(t,()=>t.complete(),sp)),!t.closed&&e.subscribe(t)})}function Pr(n,e,t){let r=Mt(n)||e||t?{next:n,error:e,complete:t}:n;return r?nn((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Xt(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):as}var $1={JSACTION:"jsaction"},z1={JSACTION:"__jsaction",OWNER:"__owner"},l5={};function y6(n){return n[z1.JSACTION]}function a5(n,e){n[z1.JSACTION]=e}function v6(n){return l5[n]}function _6(n,e){l5[n]=e}var ht={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},w6=[ht.MOUSEENTER,ht.MOUSELEAVE,"pointerenter","pointerleave"],hce=[ht.CLICK,ht.DBLCLICK,ht.FOCUSIN,ht.FOCUSOUT,ht.KEYDOWN,ht.KEYUP,ht.KEYPRESS,ht.MOUSEOVER,ht.MOUSEOUT,ht.SUBMIT,ht.TOUCHSTART,ht.TOUCHEND,ht.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],b6=[ht.FOCUS,ht.BLUR,ht.ERROR,ht.LOAD,ht.TOGGLE],H1=n=>b6.indexOf(n)>=0;function E6(n){return n===ht.MOUSEENTER?ht.MOUSEOVER:n===ht.MOUSELEAVE?ht.MOUSEOUT:n===ht.POINTERENTER?ht.POINTEROVER:n===ht.POINTERLEAVE?ht.POINTEROUT:n}function I6(n,e,t,r){let i=!1;H1(e)&&(i=!0);let s=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(e,t,s),{eventType:e,handler:t,capture:i,passive:r}}function S6(n,e){if(n.removeEventListener){let t=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;n.removeEventListener(e.eventType,e.handler,t)}else n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}function T6(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var c5=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function C6(n){return n.which===2||n.which==null&&n.button===4}function A6(n){return c5&&n.metaKey||!c5&&n.ctrlKey||C6(n)||n.shiftKey}function D6(n,e,t){let r=n.relatedTarget;return(n.type===ht.MOUSEOVER&&e===ht.MOUSEENTER||n.type===ht.MOUSEOUT&&e===ht.MOUSELEAVE||n.type===ht.POINTEROVER&&e===ht.POINTERENTER||n.type===ht.POINTEROUT&&e===ht.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function N6(n,e){let t={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,s=n[i];typeof s!="function"&&(t[i]=s)}return n.type===ht.MOUSEOVER?t.type=ht.MOUSEENTER:n.type===ht.MOUSEOUT?t.type=ht.MOUSELEAVE:n.type===ht.POINTEROVER?t.type=ht.POINTERENTER:t.type=ht.POINTERLEAVE,t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}var x6=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),gy=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){x6&&(this.element.style.cursor="pointer"),this.handlerInfos.push(I6(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)S6(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},R6={EVENT_ACTION_SEPARATOR:":"};function du(n){return n.eventType}function W1(n,e){n.eventType=e}function fy(n){return n.event}function d5(n,e){n.event=e}function h5(n){return n.targetElement}function f5(n,e){n.targetElement=e}function p5(n){return n.eic}function P6(n,e){n.eic=e}function M6(n){return n.timeStamp}function k6(n,e){n.timeStamp=e}function py(n){return n.eia}function g5(n,e,t){n.eia=[e,t]}function j1(n){n.eia=void 0}function hy(n){return n[1]}function O6(n){return n.eirp}function m5(n,e){n.eirp=e}function y5(n){return n.eir}function v5(n,e){n.eir=e}function _5(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function L6(n,e,t,r,i,s,o,a){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:s,eirp:o,eiack:a}}var B1=class n{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return du(this.eventInfo)}setEventType(e){W1(this.eventInfo,e)}getEvent(){return fy(this.eventInfo)}setEvent(e){d5(this.eventInfo,e)}getTargetElement(){return h5(this.eventInfo)}setTargetElement(e){f5(this.eventInfo,e)}getContainer(){return p5(this.eventInfo)}setContainer(e){P6(this.eventInfo,e)}getTimestamp(){return M6(this.eventInfo)}setTimestamp(e){k6(this.eventInfo,e)}getAction(){let e=py(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){j1(this.eventInfo);return}g5(this.eventInfo,e.name,e.element)}getIsReplay(){return O6(this.eventInfo)}setIsReplay(e){m5(this.eventInfo,e)}getResolved(){return y5(this.eventInfo)}setResolved(e){v5(this.eventInfo,e)}clone(){return new n(_5(this.eventInfo))}},F6={},V6=/\s*;\s*/,j6=ht.CLICK,U1=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&du(e)===ht.CLICK&&A6(fy(e))?W1(e,ht.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){y5(e)||(this.populateAction(e,h5(e)),v5(e,!0))}resolveParentAction(e){let t=py(e),r=t&&hy(t);j1(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==p5(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!py(e));)r=this.getParentNode(r);let i=py(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(du(e)===ht.MOUSEENTER||du(e)===ht.MOUSELEAVE||du(e)===ht.POINTERENTER||du(e)===ht.POINTERLEAVE)))if(D6(fy(e),du(e),hy(i))){let s=N6(fy(e),hy(i));d5(e,s),f5(e,hy(i))}else j1(e)}getParentNode(e){let t=e[z1.OWNER];if(t)return t;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,t){let r=this.parseActions(e),i=r[du(t)];i!==void 0&&g5(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=y6(e);if(!t){let r=e.getAttribute($1.JSACTION);if(!r)t=F6,a5(e,t);else{if(t=v6(r),!t){t={};let i=r.split(V6);for(let s=0;s<i.length;s++){let o=i[s];if(!o)continue;let a=o.indexOf(R6.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?o.substr(0,a).trim():j6,h=c?o.substr(a+1).trim():o;t[u]=h}_6(r,t)}a5(e,t)}}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},w5=function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n}(w5||{}),q1=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){let t=new B1(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=t.getAction();if(r&&B6(r.element,t)&&T6(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function B6(n,e){return n.tagName==="A"&&(e.getEventType()===ht.CLICK||e.getEventType()===ht.CLICKMOD)}var b5=Symbol.for("propagationStopped"),G1={REPLAY:101};var U6="`preventDefault` called during event replay.";var q6="`composedPath` called during event replay.",my=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new U1({clickModSupport:t}),this.dispatcher=new q1(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&H6(e),$6(e);e.getAction();){if(W6(e),H1(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),z6(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function $6(n){let e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[b5]=!0,t()};fl(e,"stopPropagation",r),fl(e,"stopImmediatePropagation",r)}function z6(n){return!!n.getEvent()[b5]}function H6(n){let e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);fl(e,"target",t),fl(e,"eventPhase",G1.REPLAY),fl(e,"preventDefault",()=>{throw r(),new Error(U6+"")}),fl(e,"composedPath",()=>{throw new Error(q6+"")})}function W6(n){let e=n.getEvent(),t=n.getAction()?.element;t&&fl(e,"currentTarget",t,{configurable:!0})}function fl(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function E5(n,e){n.ecrd(t=>{e.dispatch(t)},w5.I_AM_THE_JSACTION_FRAMEWORK)}function G6(n){return n?.q??[]}function K6(n){n&&(u5(n.c,n.et,n.h),u5(n.c,n.etc,n.h,!0))}function u5(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}var Q6=!1,I5=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=Q6;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let s=L6(t,r,r.target,i,Date.now());this.handleEventInfo(s)}handleEventInfo(t){if(!this.dispatcher){m5(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&w6.indexOf(t)>=0)return;let s=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[t]=s;let o=E6(r||t);if(o!==t){let a=this.browserEventTypeToExtraEventTypes[o]||[];a.push(t),this.browserEventTypeToExtraEventTypes[o]=a}this.containerManager.addEventListener(o,a=>c=>{s(t,c,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),K6(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],s=this.getEventTypesForBrowserEventType(i.eventType);for(let o=0;o<s.length;o++){let a=_5(i);W1(a,s[o]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function S5(n,e=window){return G6(e._ejsas?.[n])}function K1(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}var DN="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Oe=class extends Error{code;constructor(e,t){super(rv(e,t)),this.code=e}};function rv(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var NN=Symbol("InputSignalNode#UNSET"),Y6=pt(Re({},Fm),{transformFn:void 0,applyValueToInputSignal(n,e){rp(n,e)}});function xN(n,e){let t=Object.create(Y6);t.value=n,t.transformFn=e?.transform;function r(){if(np(t),t.value===NN){let i=null;throw new Oe(-950,i)}return t.value}return r[Fs]=t,r}function vp(n){return{toString:n}.toString()}var yy="__parameters__";function Z6(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function RN(n,e,t){return vp(()=>{let r=Z6(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,h){let g=c.hasOwnProperty(yy)?c[yy]:Object.defineProperty(c,yy,{value:[]})[yy];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ec=globalThis;function Nn(n){for(let e in n)if(n[e]===Nn)return e;throw Error("Could not find renamed property on target object.")}function J6(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ui(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ui).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function fb(n,e){return n?e?`${n} ${e}`:n:e||""}var X6=Nn({__forward_ref__:Nn});function Bs(n){return n.__forward_ref__=Bs,n.toString=function(){return Ui(this())},n}function _i(n){return PN(n)?n():n}function PN(n){return typeof n=="function"&&n.hasOwnProperty(X6)&&n.__forward_ref__===Bs}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ra(n){return{providers:n.providers||[],imports:n.imports||[]}}function iv(n){return T5(n,kN)||T5(n,ON)}function MN(n){return iv(n)!==null}function T5(n,e){return n.hasOwnProperty(e)?n[e]:null}function ej(n){let e=n&&(n[kN]||n[ON]);return e||null}function C5(n){return n&&(n.hasOwnProperty(A5)||n.hasOwnProperty(tj))?n[A5]:null}var kN=Nn({\u0275prov:Nn}),A5=Nn({\u0275inj:Nn}),ON=Nn({ngInjectableDef:Nn}),tj=Nn({ngInjectorDef:Nn}),Je=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=et({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function LN(n){return n&&!!n.\u0275providers}var nj=Nn({\u0275cmp:Nn}),rj=Nn({\u0275dir:Nn}),ij=Nn({\u0275pipe:Nn}),sj=Nn({\u0275mod:Nn}),Py=Nn({\u0275fac:Nn}),dp=Nn({__NG_ELEMENT_ID__:Nn}),D5=Nn({__NG_ENV_ID__:Nn});function yl(n){return typeof n=="string"?n:n==null?"":String(n)}function oj(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():yl(n)}function FN(n,e){throw new Oe(-200,n)}function vE(n,e){throw new Oe(-201,!1)}var $t=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}($t||{}),pb;function VN(){return pb}function ji(n){let e=pb;return pb=n,e}function jN(n,e,t){let r=iv(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&$t.Optional)return null;if(e!==void 0)return e;vE(n,"Injector")}var aj={},gl=aj,gb="__NG_DI_FLAG__",My=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Vm:gl,r)}},ky="ngTempTokenPath",cj="ngTokenPath",uj=/\n/gm,lj="\u0275",N5="__source";function dj(n,e=$t.Default){if(ip()===void 0)throw new Oe(-203,!1);if(ip()===null)return jN(n,void 0,e);{let t=ip(),r;return t instanceof My?r=t.injector:r=t,r.get(n,e&$t.Optional?null:void 0,e)}}function at(n,e=$t.Default){return(VN()||dj)(_i(n),e)}function Ce(n,e=$t.Default){return at(n,sv(e))}function sv(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mb(n){let e=[];for(let t=0;t<n.length;t++){let r=_i(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Oe(900,!1);let i,s=$t.Default;for(let o=0;o<r.length;o++){let a=r[o],c=hj(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(at(i,s))}else e.push(at(r))}return e}function BN(n,e){return n[gb]=e,n.prototype[gb]=e,n}function hj(n){return n[gb]}function fj(n,e,t,r){let i=n[ky];throw e[N5]&&i.unshift(e[N5]),n.message=pj(`
`+n.message,i,t,r),n[cj]=i,n[ky]=null,n}function pj(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==lj?n.slice(2):n;let i=Ui(e);if(Array.isArray(e))i=e.map(Ui).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ui(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uj,`
  `)}`}var ia=BN(RN("Optional"),8);var gj=BN(RN("SkipSelf"),4);function vl(n,e){let t=n.hasOwnProperty(Py);return t?n[Py]:null}function mj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function yj(n){return n.flat(Number.POSITIVE_INFINITY)}function _E(n,e){n.forEach(t=>Array.isArray(t)?_E(t,e):e(t))}function UN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Oy(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function wE(n,e,t){let r=_p(n,e);return r>=0?n[r|1]=t:(r=~r,vj(n,r,e,t)),r}function Q1(n,e){let t=_p(n,e);if(t>=0)return n[t|1]}function _p(n,e){return _j(n,e,1)}function _j(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var _l={},Bi=[],fu=new Je(""),qN=new Je("",-1),$N=new Je(""),Ly=class{get(e,t=gl){if(t===gl){let r=new Error(`NullInjectorError: No provider for ${Ui(e)}!`);throw r.name="NullInjectorError",r}return t}};function zN(n,e){let t=n[sj]||null;if(!t&&e===!0)throw new Error(`Type ${Ui(n)} does not have '\u0275mod' property.`);return t}function pu(n){return n[nj]||null}function HN(n){return n[rj]||null}function WN(n){return n[ij]||null}function ls(n){return{\u0275providers:n}}function wj(...n){return{\u0275providers:bE(!0,n),\u0275fromNgModule:!0}}function bE(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return _E(e,o=>{let a=o;yb(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GN(i,s),t}function GN(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];EE(i,s=>{e(s,r)})}}function yb(n,e,t,r){if(n=_i(n),!n)return!1;let i=null,s=C5(n),o=!s&&pu(n);if(!s&&!o){let c=n.ngModule;if(s=C5(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)yb(u,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{_E(s.imports,h=>{yb(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&GN(u,e)}if(!a){let u=vl(i)||(()=>new i);e({provide:i,useFactory:u,deps:Bi},i),e({provide:$N,useValue:i,multi:!0},i),e({provide:fu,useValue:()=>at(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=n;EE(c,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function EE(n,e){for(let t of n)LN(t)&&(t=t.\u0275providers),Array.isArray(t)?EE(t,e):e(t)}var bj=Nn({provide:String,useValue:Nn});function KN(n){return n!==null&&typeof n=="object"&&bj in n}function Ej(n){return!!(n&&n.useExisting)}function Ij(n){return!!(n&&n.useFactory)}function lh(n){return typeof n=="function"}function Sj(n){return!!n.useClass}var ov=new Je(""),Sy={},x5={},Y1;function IE(){return Y1===void 0&&(Y1=new Ly),Y1}var ti=class{},hp=class extends ti{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_b(e,o=>this.processProvider(o)),this.records.set(qN,th(void 0,this)),i.has("environment")&&this.records.set(ti,th(void 0,this));let s=this.records.get(ov);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($N,Bi,$t.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Vm:gl,r)}destroy(){up(this),this._destroyed=!0;let e=Jt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Jt(e)}}onDestroy(e){return up(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){up(this);let t=Ya(this),r=ji(void 0),i;try{return e()}finally{Ya(t),ji(r)}}get(e,t=gl,r=$t.Default){if(up(this),e.hasOwnProperty(D5))return e[D5](this);r=sv(r);let i,s=Ya(this),o=ji(void 0);try{if(!(r&$t.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Nj(e)&&iv(e);u&&this.injectableDefInScope(u)?c=th(vb(e),Sy):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$t.Self?IE():this.parent;return t=r&$t.Optional&&t===gl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ky]=a[ky]||[]).unshift(Ui(e)),s)throw a;return fj(a,e,"R3InjectorError",this.source)}else throw a}finally{ji(o),Ya(s)}}resolveInjectorInitializers(){let e=Jt(null),t=Ya(this),r=ji(void 0),i;try{let s=this.get(fu,Bi,$t.Self);for(let o of s)o()}finally{Ya(t),ji(r),Jt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ui(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_i(e);let t=lh(e)?e:_i(e&&e.provide),r=Cj(e);if(!lh(e)&&e.multi===!0){let i=this.records.get(t);i||(i=th(void 0,Sy,!0),i.factory=()=>mb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Jt(null);try{return t.value===x5?FN(Ui(e)):t.value===Sy&&(t.value=x5,t.value=t.factory()),typeof t.value=="object"&&t.value&&Dj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Jt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=_i(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vb(n){let e=iv(n),t=e!==null?e.factory:vl(n);if(t!==null)return t;if(n instanceof Je)throw new Oe(204,!1);if(n instanceof Function)return Tj(n);throw new Oe(204,!1)}function Tj(n){if(n.length>0)throw new Oe(204,!1);let t=ej(n);return t!==null?()=>t.factory(n):()=>new n}function Cj(n){if(KN(n))return th(void 0,n.useValue);{let e=QN(n);return th(e,Sy)}}function QN(n,e,t){let r;if(lh(n)){let i=_i(n);return vl(i)||vb(i)}else if(KN(n))r=()=>_i(n.useValue);else if(Ij(n))r=()=>n.useFactory(...mb(n.deps||[]));else if(Ej(n))r=()=>at(_i(n.useExisting));else{let i=_i(n&&(n.useClass||n.provide));if(Aj(n))r=()=>new i(...mb(n.deps));else return vl(i)||vb(i)}return r}function up(n){if(n.destroyed)throw new Oe(205,!1)}function th(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Aj(n){return!!n.deps}function Dj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Nj(n){return typeof n=="function"||typeof n=="object"&&n instanceof Je}function _b(n,e){for(let t of n)Array.isArray(t)?_b(t,e):t&&LN(t)?_b(t.\u0275providers,e):e(t)}function Qr(n,e){let t;n instanceof hp?(up(n),t=n):t=new My(n);let r,i=Ya(t),s=ji(void 0);try{return e()}finally{Ya(i),ji(s)}}function YN(){return VN()!==void 0||ip()!=null}function av(n){if(!YN())throw new Oe(-203,!1)}function xj(n){return typeof n=="function"}var $i=0,It=1,xt=2,Or=3,yo=4,bo=5,Xo=6,Fy=7,zi=8,tc=9,nc=10,xn=11,fp=12,R5=13,yh=14,js=15,wl=16,nh=17,rc=18,cv=19,ZN=20,hu=21,Z1=22,Vy=23,Vs=24,oh=25,br=26,SE=1,ic=6,sc=7,jy=8,dh=9,qi=10;function vo(n){return Array.isArray(n)&&typeof n[SE]=="object"}function sa(n){return Array.isArray(n)&&n[SE]===!0}function TE(n){return(n.flags&4)!==0}function Dl(n){return n.componentOffset>-1}function uv(n){return(n.flags&1)===1}function _o(n){return!!n.template}function pp(n){return(n[xt]&512)!==0}function vh(n){return(n[xt]&256)===256}var wb=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function JN(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var mu=(()=>{let n=()=>XN;return n.ngInherit=!0,n})();function XN(n){return n.type.prototype.ngOnChanges&&(n.setInput=Pj),Rj}function Rj(){let n=tx(this),e=n?.current;if(e){let t=n.previous;if(t===_l)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Pj(n,e,t,r,i){let s=this.declaredInputs[r],o=tx(n)||Mj(n,{previous:_l,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new wb(u&&u.currentValue,t,c===_l),JN(n,e,i,t)}var ex="__ngSimpleChanges__";function tx(n){return n[ex]||null}function Mj(n,e){return n[ex]=e}var P5=null;var gn=function(n,e=null,t){P5?.(n,e,t)},kj="svg",Oj="math";function wo(n){for(;Array.isArray(n);)n=n[$i];return n}function Lj(n){for(;Array.isArray(n);){if(typeof n[SE]=="object")return n;n=n[$i]}return null}function nx(n,e){return wo(e[n])}function Eo(n,e){return wo(e[n.index])}function lv(n,e){return n.data[e]}function Fj(n,e){return n[e]}function ea(n,e){let t=e[n];return vo(t)?t:t[$i]}function Vj(n){return(n[xt]&4)===4}function CE(n){return(n[xt]&128)===128}function jj(n){return sa(n[Or])}function hh(n,e){return e==null?null:n[e]}function rx(n){n[nh]=0}function ix(n){n[xt]&1024||(n[xt]|=1024,CE(n)&&wp(n))}function Bj(n,e){for(;n>0;)e=e[yh],n--;return e}function dv(n){return!!(n[xt]&9216||n[Vs]?.dirty)}function bb(n){n[nc].changeDetectionScheduler?.notify(8),n[xt]&64&&(n[xt]|=1024),dv(n)&&wp(n)}function wp(n){n[nc].changeDetectionScheduler?.notify(0);let e=bl(n);for(;e!==null&&!(e[xt]&8192||(e[xt]|=8192,!CE(e)));)e=bl(e)}function sx(n,e){if(vh(n))throw new Oe(911,!1);n[hu]===null&&(n[hu]=[]),n[hu].push(e)}function Uj(n,e){if(n[hu]===null)return;let t=n[hu].indexOf(e);t!==-1&&n[hu].splice(t,1)}function bl(n){let e=n[Or];return sa(e)?e[Or]:e}function ox(n){return n[Fy]??=[]}function ax(n){return n.cleanup??=[]}function qj(n,e,t,r){let i=ox(e);i.push(t),n.firstCreatePass&&ax(n).push(r,i.length-1)}var Bt={lFrame:gx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Eb=!1;function $j(){return Bt.lFrame.elementDepthCount}function zj(){Bt.lFrame.elementDepthCount++}function Hj(){Bt.lFrame.elementDepthCount--}function AE(){return Bt.bindingsEnabled}function bp(){return Bt.skipHydrationRootTNode!==null}function Wj(n){return Bt.skipHydrationRootTNode===n}function Gj(n){Bt.skipHydrationRootTNode=n}function Kj(){Bt.skipHydrationRootTNode=null}function sn(){return Bt.lFrame.lView}function Er(){return Bt.lFrame.tView}function ar(n){return Bt.lFrame.contextLView=n,n[zi]}function cr(n){return Bt.lFrame.contextLView=null,n}function ni(){let n=cx();for(;n!==null&&n.type===64;)n=n.parent;return n}function cx(){return Bt.lFrame.currentTNode}function Qj(){let n=Bt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Nl(n,e){let t=Bt.lFrame;t.currentTNode=n,t.isParent=e}function DE(){return Bt.lFrame.isParent}function ux(){Bt.lFrame.isParent=!1}function lx(){return Eb}function M5(n){let e=Eb;return Eb=n,e}function Yj(){let n=Bt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Zj(){return Bt.lFrame.bindingIndex}function Jj(n){return Bt.lFrame.bindingIndex=n}function Ep(){return Bt.lFrame.bindingIndex++}function NE(n){let e=Bt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Xj(){return Bt.lFrame.inI18n}function e8(n,e){let t=Bt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ib(e)}function t8(){return Bt.lFrame.currentDirectiveIndex}function Ib(n){Bt.lFrame.currentDirectiveIndex=n}function dx(n){let e=Bt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function hx(){return Bt.lFrame.currentQueryIndex}function xE(n){Bt.lFrame.currentQueryIndex=n}function n8(n){let e=n[It];return e.type===2?e.declTNode:e.type===1?n[bo]:null}function fx(n,e,t){if(t&$t.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&$t.Host);)if(i=n8(s),i===null||(s=s[yh],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Bt.lFrame=px();return r.currentTNode=e,r.lView=n,!0}function RE(n){let e=px(),t=n[It];Bt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function px(){let n=Bt.lFrame,e=n===null?null:n.child;return e===null?gx(n):e}function gx(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function mx(){let n=Bt.lFrame;return Bt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var yx=mx;function PE(){let n=mx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function r8(n){return(Bt.lFrame.contextLView=Bj(n,Bt.lFrame.contextLView))[zi]}function yu(){return Bt.lFrame.selectedIndex}function El(n){Bt.lFrame.selectedIndex=n}function hv(){let n=Bt.lFrame;return lv(n.tView,n.selectedIndex)}function vx(){return Bt.lFrame.currentNamespace}var _x=!0;function fv(){return _x}function vu(n){_x=n}function i8(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=XN(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function ME(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ty(n,e,t){wx(n,e,3,t)}function Cy(n,e,t,r){(n[xt]&3)===t&&wx(n,e,t,r)}function J1(n,e){let t=n[xt];(t&3)===e&&(t&=16383,t+=1,n[xt]=t)}function wx(n,e,t,r){let i=r!==void 0?n[nh]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[nh]+=65536),(a<s||s==-1)&&(s8(n,t,e,c),n[nh]=(n[nh]&4294901760)+c+2),c++}function k5(n,e){gn(4,n,e);let t=Jt(null);try{e.call(n)}finally{Jt(t),gn(5,n,e)}}function s8(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[xt]>>14<n[nh]>>16&&(n[xt]&3)===e&&(n[xt]+=16384,k5(a,s)):k5(a,s)}var ah=-1,Il=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function o8(n){return(n.flags&8)!==0}function a8(n){return(n.flags&16)!==0}function c8(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];u8(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function bx(n){return n===3||n===4||n===6}function u8(n){return n.charCodeAt(0)===64}function fh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?O5(n,t,i,null,e[++r]):O5(n,t,i,null,null))}}return n}function O5(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}var X1={},ch=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=sv(r);let i=this.injector.get(e,X1,r);return i!==X1||t===X1?i:this.parentInjector.get(e,t,r)}};function Ex(n){return n!==ah}function By(n){return n&32767}function l8(n){return n>>16}function Uy(n,e){let t=l8(n),r=e;for(;t>0;)r=r[yh],t--;return r}var Sb=!0;function qy(n){let e=Sb;return Sb=n,e}var d8=256,Ix=d8-1,Sx=5,h8=0,Jo={};function f8(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(dp)&&(r=t[dp]),r==null&&(r=t[dp]=h8++);let i=r&Ix,s=1<<i;e.data[n+(i>>Sx)]|=s}function $y(n,e){let t=Tx(n,e);if(t!==-1)return t;let r=e[It];r.firstCreatePass&&(n.injectorIndex=e.length,eb(r.data,n),eb(e,null),eb(r.blueprint,null));let i=kE(n,e),s=n.injectorIndex;if(Ex(i)){let o=By(i),a=Uy(i,e),c=a[It].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function eb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Tx(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function kE(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=xx(i),r===null)return ah;if(t++,i=i[yh],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ah}function Tb(n,e,t){f8(n,e,t)}function p8(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(bx(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function Cx(n,e,t){if(t&$t.Optional||n!==void 0)return n;vE(e,"NodeInjector")}function Ax(n,e,t,r){if(t&$t.Optional&&r===void 0&&(r=null),(t&($t.Self|$t.Host))===0){let i=n[tc],s=ji(void 0);try{return i?i.get(e,r,t&$t.Optional):jN(e,r,t&$t.Optional)}finally{ji(s)}}return Cx(r,e,t)}function Dx(n,e,t,r=$t.Default,i){if(n!==null){if(e[xt]&2048&&!(r&$t.Self)){let o=v8(n,e,t,r,Jo);if(o!==Jo)return o}let s=Nx(n,e,t,r,Jo);if(s!==Jo)return s}return Ax(e,t,r,i)}function Nx(n,e,t,r,i){let s=m8(t);if(typeof s=="function"){if(!fx(e,n,r))return r&$t.Host?Cx(i,t,r):Ax(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&$t.Optional))vE(t);else return o}finally{yx()}}else if(typeof s=="number"){let o=null,a=Tx(n,e),c=ah,u=r&$t.Host?e[js][bo]:null;for((a===-1||r&$t.SkipSelf)&&(c=a===-1?kE(n,e):e[a+8],c===ah||!F5(r,!1)?a=-1:(o=e[It],a=By(c),e=Uy(c,e)));a!==-1;){let h=e[It];if(L5(s,a,h.data)){let g=g8(a,e,t,o,r,u);if(g!==Jo)return g}c=e[a+8],c!==ah&&F5(r,e[It].data[a+8]===u)&&L5(s,a,e)?(o=h,a=By(c),e=Uy(c,e)):a=-1}}return i}function g8(n,e,t,r,i,s){let o=e[It],a=o.data[n+8],c=r==null?Dl(a)&&Sb:r!=o&&(a.type&3)!==0,u=i&$t.Host&&s===a,h=Ay(a,o,t,c,u);return h!==null?gp(e,o,h,a):Jo}function Ay(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,h=s>>20,g=r?a:a+h,v=i?a+h:u;for(let p=g;p<v;p++){let E=o[p];if(p<c&&t===E||p>=c&&E.type===t)return p}if(i){let p=o[c];if(p&&_o(p)&&p.type===t)return c}return null}function gp(n,e,t,r){let i=n[t],s=e.data;if(i instanceof Il){let o=i;o.resolving&&FN(oj(s[t]));let a=qy(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?ji(o.injectImpl):null,h=fx(n,r,$t.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&i8(t,s[t],e)}finally{u!==null&&ji(u),qy(a),o.resolving=!1,yx()}}return i}function m8(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(dp)?n[dp]:void 0;return typeof e=="number"?e>=0?e&Ix:y8:e}function L5(n,e,t){let r=1<<n;return!!(t[e+(n>>Sx)]&r)}function F5(n,e){return!(n&$t.Self)&&!(n&$t.Host&&e)}var ml=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Dx(this._tNode,this._lView,e,sv(r),t)}};function y8(){return new ml(ni(),sn())}function Io(n){return vp(()=>{let e=n.prototype.constructor,t=e[Py]||Cb(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Py]||Cb(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cb(n){return PN(n)?()=>{let e=Cb(_i(n));return e&&e()}:vl(n)}function v8(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[xt]&2048&&!pp(o);){let a=Nx(s,o,t,r|$t.Self,Jo);if(a!==Jo)return a;let c=s.parent;if(!c){let u=o[ZN];if(u){let h=u.get(t,Jo,r);if(h!==Jo)return h}c=xx(o),o=o[yh]}s=c}return i}function xx(n){let e=n[It],t=e.type;return t===2?e.declTNode:t===1?n[bo]:null}function OE(n){return p8(ni(),n)}function V5(n,e=null,t=null,r){let i=Rx(n,e,t,r);return i.resolveInjectorInitializers(),i}function Rx(n,e=null,t=null,r,i=new Set){let s=[t||Bi,wj(n)];return r=r||(typeof n=="object"?void 0:Ui(n)),new hp(s,e||IE(),r||null,i)}var $n=class n{static THROW_IF_NOT_FOUND=gl;static NULL=new Ly;static create(e,t){if(Array.isArray(e))return V5({name:""},t,e,"");{let r=e.name??"";return V5({name:r},e.parent,e.providers,r)}}static \u0275prov=et({token:n,providedIn:"any",factory:()=>at(qN)});static __NG_ELEMENT_ID__=-1};var _8=new Je("");_8.__NG_ELEMENT_ID__=n=>{let e=ni();if(e===null)throw new Oe(204,!1);if(e.type&2)return e.value;if(n&$t.Optional)return null;throw new Oe(204,!1)};var Px=!1,_h=(()=>{class n{static __NG_ELEMENT_ID__=w8;static __NG_ENV_ID__=t=>t}return n})(),Ab=class extends _h{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return sx(this._lView,e),()=>Uj(this._lView,e)}};function w8(){return new Ab(sn())}var Sl=class{},pv=new Je("",{providedIn:"root",factory:()=>!1});var Mx=new Je(""),kx=new Je(""),oa=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Kr(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=et({token:n,providedIn:"root",factory:()=>new n})}return n})(),gv=(()=>{class n{internalPendingTasks=Ce(oa);scheduler=Ce(Sl);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return G(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=et({token:n,providedIn:"root",factory:()=>new n})}return n})(),Db=class extends Tn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,YN()&&(this.destroyRef=Ce(_h,{optional:!0})??void 0,this.pendingTasks=Ce(oa,{optional:!0})??void 0)}emit(e){let t=Jt(null);try{super.next(e)}finally{Jt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Yn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Mr=Db;function zy(...n){}function Ox(n){let e,t;function r(){n=zy;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function j5(n){return queueMicrotask(()=>n()),()=>{n=zy}}var LE="isAngularZone",Hy=LE+"_ID",b8=0,rn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Mr(!1);onMicrotaskEmpty=new Mr(!1);onStable=new Mr(!1);onError=new Mr(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Px}=e;if(typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,S8(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(LE)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Oe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,E8,zy,zy);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},E8={};function FE(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function I8(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Ox(()=>{n.callbackScheduled=!1,Nb(n),n.isCheckStableRunning=!0,FE(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Nb(n)}function S8(n){let e=()=>{I8(n)},t=b8++;n._inner=n._inner.fork({name:"angular",properties:{[LE]:!0,[Hy]:t,[Hy+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(T8(c))return r.invokeTask(s,o,a,c);try{return B5(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),U5(n)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return B5(n),r.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!C8(c)&&e(),U5(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Nb(n),FE(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Nb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function B5(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U5(n){n._nesting--,FE(n)}var xb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Mr;onMicrotaskEmpty=new Mr;onStable=new Mr;onError=new Mr;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function T8(n){return Lx(n,"__ignore_ng_zone__")}function C8(n){return Lx(n,"__scheduler_tick__")}function Lx(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ta=class{_console=console;handleError(e){this._console.error("ERROR",e)}},A8=new Je("",{providedIn:"root",factory:()=>{let n=Ce(rn),e=Ce(ta);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function q5(n,e){return xN(n,e)}function D8(n){return xN(NN,n)}var Fx=(q5.required=D8,q5);function N8(){return wh(ni(),sn())}function wh(n,e){return new wi(Eo(n,e))}var wi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=N8}return n})();function x8(n){return n instanceof wi?n.nativeElement:n}function R8(n){return typeof n=="function"&&n[Fs]!==void 0}function Us(n,e){let t=_1(n,e?.equal),r=t[Fs];return t.set=i=>rp(r,i),t.update=i=>w1(r,i),t.asReadonly=P8.bind(t),t}function P8(){let n=this[Fs];if(n.readonlyFn===void 0){let e=()=>this();e[Fs]=n,n.readonlyFn=e}return n.readonlyFn}function Vx(n){return R8(n)&&typeof n.set=="function"}function M8(){return this._results[Symbol.iterator]()}var Rb=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Tn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=yj(e);(this._changesDetected=!mj(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=M8},k8="ngSkipHydration",O8="ngskiphydration";function jx(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===O8)return!0}return!1}function Bx(n){return n.hasAttribute(k8)}function Wy(n){return(n.flags&128)===128}function L8(n){if(Wy(n))return!0;let e=n.parent;for(;e;){if(Wy(n)||jx(e))return!0;e=e.parent}return!1}var Ux=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ux||{}),qx=new Map,F8=0;function V8(){return F8++}function j8(n){qx.set(n[cv],n)}function Pb(n){qx.delete(n[cv])}var $5="__ngContext__";function bh(n,e){vo(e)?(n[$5]=e[cv],j8(e)):n[$5]=e}function $x(n){return Hx(n[fp])}function zx(n){return Hx(n[yo])}function Hx(n){for(;n!==null&&!sa(n);)n=n[yo];return n}var Mb;function Wx(n){Mb=n}function Ip(){if(Mb!==void 0)return Mb;if(typeof document<"u")return document;throw new Oe(210,!1)}var Tl=new Je("",{providedIn:"root",factory:()=>B8}),B8="ng",VE=new Je(""),_u=new Je("",{providedIn:"platform",factory:()=>"unknown"});var jE=new Je(""),BE=new Je("",{providedIn:"root",factory:()=>Ip().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function U8(){let n=new Eh;return n.store=q8(Ip(),Ce(Tl)),n}var Eh=(()=>{class n{static \u0275prov=et({token:n,providedIn:"root",factory:U8});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function q8(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Gx="h",Kx="b",$8="f",z8="n",H8="e",W8="t",UE="c",Qx="x",Gy="r",G8="i",K8="n",Yx="d";var Q8="di",Y8="s",Z8="p";var vy=new Je(""),Zx=!1,Jx=new Je("",{providedIn:"root",factory:()=>Zx});var Xx=new Je(""),J8=!1,X8=new Je(""),z5=new Je("",{providedIn:"root",factory:()=>new Map}),qE=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(qE||{}),Ih=new Je(""),H5=new Set;function aa(n){H5.has(n)||(H5.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var eR=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=eB}return n})();function eB(){return new eR(sn(),ni())}var rh=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(rh||{}),tR=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=et({token:n,providedIn:"root",factory:()=>new n})}return n})(),tB=[rh.EarlyRead,rh.Write,rh.MixedReadWrite,rh.Read],nB=(()=>{class n{ngZone=Ce(rn);scheduler=Ce(Sl);errorHandler=Ce(ta,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ce(Ih,{optional:!0})}execute(){let t=this.sequences.size>0;t&&gn(16),this.executing=!0;for(let r of tB)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&gn(17)}register(t){let{view:r}=t;r!==void 0?((r[oh]??=[]).push(t),wp(r),r[xt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(qE.AFTER_NEXT_RENDER,t):t()}static \u0275prov=et({token:n,providedIn:"root",factory:()=>new n})}return n})(),kb=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[oh];e&&(this.view[oh]=e.filter(t=>t!==this))}};function mv(n,e){!e?.injector&&av(mv);let t=e?.injector??Ce($n);return aa("NgAfterNextRender"),iB(n,t,e,!0)}function rB(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function iB(n,e,t,r){let i=e.get(tR);i.impl??=e.get(nB);let s=e.get(Ih,null,{optional:!0}),o=t?.phase??rh.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(_h):null,c=e.get(eR,null,{optional:!0}),u=new kb(i.impl,rB(n,o),c?.view,r,a,s?.snapshot(null));return i.impl.register(u),u}var us=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(us||{}),W5=0,sB=1,kr=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(kr||{});var oB=0,yv=1;var aB=4,cB=5;var uB=7,uh=8,lB=9,nR=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(nR||{});function Dy(n,e){let t=hB(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function dB(n){Dy(1,n),Dy(0,n),Dy(2,n)}function hB(n){let e=aB;return n===1?e=cB:n===2&&(e=lB),e}function rR(n){return n+1}function Sp(n,e){let t=n[It],r=rR(e.index);return n[r]}function vv(n,e){let t=rR(e.index);return n.data[t]}function fB(n,e,t){let r=e[It],i=vv(r,t);switch(n){case kr.Complete:return i.primaryTmplIndex;case kr.Loading:return i.loadingTmplIndex;case kr.Error:return i.errorTmplIndex;case kr.Placeholder:return i.placeholderTmplIndex;default:return null}}function G5(n,e){return e===kr.Placeholder?n.placeholderBlockConfig?.[W5]??null:e===kr.Loading?n.loadingBlockConfig?.[W5]??null:null}function pB(n){return n.loadingBlockConfig?.[sB]??null}function K5(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function gB(n,e){let t=e.primaryTmplIndex+br;return lv(n,t)}var _v="ngb";var mB=(n,e,t)=>{let r=n,i=r.__jsaction_fns??new Map,s=i.get(e)??[];s.push(t),i.set(e,s),r.__jsaction_fns=i},yB=(n,e)=>{let t=n,r=t.getAttribute(_v)??"",i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)};var vB=n=>{n.removeAttribute($1.JSACTION),n.removeAttribute(_v),n.__jsaction_fns=void 0},_B=new Je("",{providedIn:"root",factory:()=>({})});function iR(n,e){let t=e?.__jsaction_fns?.get(n.type);if(!(!t||!e?.isConnected))for(let r of t)r(n)}var $E=new Je("");var wB="__nghData__",sR=wB,bB="__nghDeferData__",EB=bB,tb="ngh",IB="nghm",oR=()=>null;function SB(n,e,t=!1){let r=n.getAttribute(tb);if(r==null)return null;let[i,s]=r.split("|");if(r=t?s:i,!r)return null;let o=s?`|${s}`:"",a=t?i:o,c={};if(r!==""){let h=e.get(Eh,null,{optional:!0});h!==null&&(c=h.get(sR,[])[Number(r)])}let u={data:c,firstChild:n.firstChild??null};return t&&(u.firstChild=n,wv(u,0,n.nextSibling)),a?n.setAttribute(tb,a):n.removeAttribute(tb),u}function TB(){oR=SB}function aR(n,e,t=!1){return oR(n,e,t)}function CB(n){let e=n._lView;return e[It].type===2?null:(pp(e)&&(e=e[br]),e)}function AB(n){return n.textContent?.replace(/\s/gm,"")}function DB(n){let e=Ip(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=AB(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function wv(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Ob(n,e){return n.segmentHeads?.[e]??null}function NB(n){return n.get(X8,!1,{optional:!0})}function xB(n,e){let t=n.data,r=t[H8]?.[e]??null;return r===null&&t[UE]?.[e]&&(r=zE(n,e)),r}function cR(n,e){return n.data[UE]?.[e]??null}function zE(n,e){let t=cR(n,e)??[],r=0;for(let i of t)r+=i[Gy]*(i[Qx]??1);return r}function RB(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[Yx];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function Tp(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[Yx];n.disconnectedNodes=t?new Set(t):null}return!!RB(n)?.has(e)}function PB(n,e){let t=e.get($E),i=e.get(Eh).get(EB,{}),s=!1,o=n,a=null,c=[];for(;!s&&o;){s=t.has(o);let u=t.hydrating.get(o);if(a===null&&u!=null){a=u.promise;break}c.unshift(o),o=i[o][Z8]}return{parentBlockPromise:a,hydrationQueue:c}}function nb(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===IB}function Q5(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function MB(n){for(let r of n.body.childNodes)if(nb(r))return;let e=Q5(n.body.previousSibling);if(nb(e))return;let t=Q5(n.head.lastChild);if(!nb(t))throw new Oe(-507,!1)}function uR(n,e){let t=n.contentQueries;if(t!==null){let r=Jt(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];xE(s),a.contentQueries(2,e[o],o)}}}finally{Jt(r)}}}function Lb(n,e,t){xE(0);let r=Jt(null);try{e(n,t)}finally{Jt(r)}}function HE(n,e,t){if(TE(e)){let r=Jt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{Jt(r)}}}var na=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(na||{}),_y;function kB(){if(_y===void 0&&(_y=null,ec.trustedTypes))try{_y=ec.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _y}function bv(n){return kB()?.createHTML(n)||n}var wy;function lR(){if(wy===void 0&&(wy=null,ec.trustedTypes))try{wy=ec.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wy}function Y5(n){return lR()?.createHTML(n)||n}function Z5(n){return lR()?.createScriptURL(n)||n}var oc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DN})`}},Fb=class extends oc{getTypeName(){return"HTML"}},Vb=class extends oc{getTypeName(){return"Style"}},jb=class extends oc{getTypeName(){return"Script"}},Bb=class extends oc{getTypeName(){return"URL"}},Ub=class extends oc{getTypeName(){return"ResourceURL"}};function qs(n){return n instanceof oc?n.changingThisBreaksApplicationSecurity:n}function lc(n,e){let t=OB(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${DN})`)}return t===e}function OB(n){return n instanceof oc&&n.getTypeName()||null}function dR(n){return new Fb(n)}function hR(n){return new Vb(n)}function fR(n){return new jb(n)}function pR(n){return new Bb(n)}function gR(n){return new Ub(n)}function LB(n){let e=new $b(n);return FB()?new qb(e):e}var qb=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(bv(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},$b=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=bv(e),t}};function FB(){try{return!!new window.DOMParser().parseFromString(bv(""),"text/html")}catch{return!1}}var VB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ev(n){return n=String(n),n.match(VB)?n:"unsafe:"+n}function dc(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Cp(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var mR=dc("area,br,col,hr,img,wbr"),yR=dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vR=dc("rp,rt"),jB=Cp(vR,yR),BB=Cp(yR,dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),UB=Cp(vR,dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),J5=Cp(mR,BB,UB,jB),_R=dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qB=dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$B=dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),zB=Cp(_R,qB,$B),HB=dc("script,style,template"),zb=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=KB(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=GB(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=X5(e).toLowerCase();if(!J5.hasOwnProperty(t))return this.sanitizedSomething=!0,!HB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!zB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;_R[a]&&(c=Ev(c)),this.buf.push(" ",o,'="',eN(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=X5(e).toLowerCase();J5.hasOwnProperty(t)&&!mR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(eN(e))}};function WB(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function GB(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw wR(e);return e}function KB(n){let e=n.firstChild;if(e&&WB(n,e))throw wR(e);return e}function X5(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function wR(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var QB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YB=/([^\#-~ |!])/g;function eN(n){return n.replace(/&/g,"&amp;").replace(QB,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(YB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var by;function WE(n,e){let t=null;try{by=by||LB(n);let r=e?String(e):"";t=by.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=by.getInertBodyElement(r)}while(r!==s);let a=new zb().sanitizeChildren(tN(t)||t);return bv(a)}finally{if(t){let r=tN(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function tN(n){return"content"in n&&ZB(n)?n.content:null}function ZB(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var ds=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ds||{});function GE(n){let e=KE();return e?Y5(e.sanitize(ds.HTML,n)||""):lc(n,"HTML")?Y5(qs(n)):WE(Ip(),yl(n))}function JB(n){let e=KE();return e?e.sanitize(ds.URL,n)||"":lc(n,"URL")?qs(n):Ev(yl(n))}function XB(n){let e=KE();if(e)return Z5(e.sanitize(ds.RESOURCE_URL,n)||"");if(lc(n,"ResourceURL"))return Z5(qs(n));throw new Oe(904,!1)}function eU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?XB:JB}function bR(n,e,t){return eU(e,t)(n)}function KE(){let n=sn();return n&&n[nc].sanitizer}var tU=/^>|^->|<!--|-->|--!>|<!-$/g,nU=/(<|>)/g,rU="\u200B$1\u200B";function iU(n){return n.replace(tU,e=>e.replace(nU,rU))}function sU(n){return n.ownerDocument.body}function ER(n){return n instanceof Function?n():n}function oU(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var IR="ng-template";function aU(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oU(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(QE(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function QE(n){return n.type===4&&n.value!==IR}function cU(n,e,t){let r=n.type===4&&!t?IR:n.value;return e===r}function uU(n,e,t){let r=4,i=n.attrs,s=i!==null?hU(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!go(r)&&!go(c))return!1;if(o&&go(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!cU(n,c,t)||c===""&&e.length===1){if(go(r))return!1;o=!0}}else if(r&8){if(i===null||!aU(n,i,c,t)){if(go(r))return!1;o=!0}}else{let u=e[++a],h=lU(c,i,QE(n),t);if(h===-1){if(go(r))return!1;o=!0;continue}if(u!==""){let g;if(h>s?g="":g=i[h+1].toLowerCase(),r&2&&u!==g){if(go(r))return!1;o=!0}}}}return go(r)||o}function go(n){return(n&1)===0}function lU(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return fU(e,n)}function dU(n,e,t=!1){for(let r=0;r<e.length;r++)if(uU(n,e[r],t))return!0;return!1}function hU(n){for(let e=0;e<n.length;e++){let t=n[e];if(bx(t))return e}return n.length}function fU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function nN(n,e){return n?":not("+e.trim()+")":e}function pU(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!go(o)&&(e+=nN(s,i),i=""),r=o,s=s||!go(r);t++}return i!==""&&(e+=nN(s,i)),e}function gU(n){return n.map(pU).join(",")}function mU(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!go(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var So={};function SR(n,e){return n.createText(e)}function yU(n,e,t){n.setValue(e,t)}function TR(n,e){return n.createComment(iU(e))}function YE(n,e,t){return n.createElement(e,t)}function Ky(n,e,t,r,i){n.insertBefore(e,t,r,i)}function CR(n,e,t){n.appendChild(e,t)}function rN(n,e,t,r,i){r!==null?Ky(n,e,t,r,i):CR(n,e,t)}function ZE(n,e,t){n.removeChild(null,e,t)}function AR(n){n.textContent=""}function vU(n,e,t){n.setAttribute(e,"style",t)}function _U(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function DR(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&c8(n,e,r),i!==null&&_U(n,e,i),s!==null&&vU(n,e,s)}function JE(n,e,t,r,i,s,o,a,c,u,h){let g=br+r,v=g+i,p=wU(g,v),E=typeof u=="function"?u():u;return p[It]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}function wU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:So);return t}function bU(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=JE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function XE(n,e,t,r,i,s,o,a,c,u,h){let g=e.blueprint.slice();return g[$i]=i,g[xt]=r|4|128|8|64|1024,(u!==null||n&&n[xt]&2048)&&(g[xt]|=2048),rx(g),g[Or]=g[yh]=n,g[zi]=t,g[nc]=o||n&&n[nc],g[xn]=a||n&&n[xn],g[tc]=c||n&&n[tc]||null,g[bo]=s,g[cv]=V8(),g[Xo]=h,g[ZN]=u,g[js]=e.type==2?n[js]:g,g}function EU(n,e,t){let r=Eo(e,n),i=bU(t),s=n[nc].rendererFactory,o=eI(n,XE(n,i,null,NR(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function NR(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xR(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function eI(n,e){return n[fp]?n[R5][yo]=e:n[fp]=e,n[R5]=e,e}function Le(n=1){RR(Er(),sn(),yu()+n,!1)}function RR(n,e,t,r){if(!r)if((e[xt]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ty(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Cy(e,s,0,t)}El(t)}var Iv=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Iv||{});function Hb(n,e,t,r){let i=Jt(null);try{let[s,o,a]=n.inputs[t],c=null;(o&Iv.SignalBased)!==0&&(c=e[s][Fs]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):JN(e,c,s,r)}finally{Jt(i)}}function PR(n,e,t,r,i){let s=yu(),o=r&2;try{El(-1),o&&e.length>br&&RR(n,e,br,!1),gn(o?2:0,i),t(r,i)}finally{El(s),gn(o?3:1,i)}}function Sv(n,e,t){NU(n,e,t),(t.flags&64)===64&&xU(n,e,t)}function tI(n,e,t=Eo){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function IU(n,e,t,r){let s=r.get(Jx,Zx)||t===na.ShadowDom,o=n.selectRootElement(e,s);return SU(o),o}function SU(n){MR(n)}var MR=()=>null;function TU(n){Bx(n)?AR(n):DB(n)}function CU(){MR=TU}function AU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function nI(n,e,t,r,i,s,o,a){if(!a&&sI(e,n,t,r,i)){Dl(e)&&DU(t,e.index);return}if(e.type&3){let c=Eo(e,t);r=AU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)}else e.type&12}function DU(n,e){let t=ea(e,n);t[xt]&16||(t[xt]|=64)}function NU(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Dl(t)&&EU(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$y(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=gp(e,n,o,t);if(bh(c,e),s!==null&&kU(e,o-r,c,a,t,s),_o(a)){let u=ea(t.index,e);u[zi]=gp(e,n,o,t)}}}function xU(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=t8();try{El(s);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Ib(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&RU(c,u)}}finally{El(-1),Ib(o)}}function RU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function rI(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];dU(e,s.selectors,!1)&&(r??=[],_o(s)?r.unshift(s):r.push(s))}return r}function PU(n,e,t,r,i,s){let o=Eo(n,e);MU(e[xn],o,s,n.value,t,r,i)}function MU(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?yl(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function kU(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],u=o[a+1];Hb(r,t,c,u)}}function OU(n,e,t){return(n===null||_o(n))&&(t=Lj(t[e.index])),t[xn]}function iI(n,e){let t=n[tc],r=t?t.get(ta,null):null;r&&r.handleError(e)}function sI(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let u=o[c],h=o[c+1],g=e.data[u];Hb(g,t[u],h,i),a=!0}if(s)for(let c of s){let u=t[c],h=e.data[c];Hb(h,u,r,i),a=!0}return a}function LU(n,e){let t=ea(e,n),r=t[It];FU(r,t);let i=t[$i];i!==null&&t[Xo]===null&&(t[Xo]=aR(i,t[tc])),gn(18),oI(r,t,t[zi]),gn(19,t[zi])}function FU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function oI(n,e,t){RE(e);try{let r=n.viewQuery;r!==null&&Lb(1,r,t);let i=n.template;i!==null&&PR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[rc]?.finishViewCreation(n),n.staticContentQueries&&uR(n,e),n.staticViewQueries&&Lb(2,n.viewQuery,t);let s=n.components;s!==null&&VU(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[xt]&=-5,PE()}}function VU(n,e){for(let t=0;t<e.length;t++)LU(n,e[t])}function kR(n,e,t,r){let i=Jt(null);try{let s=e.tView,a=n[xt]&4096?4096:16,c=XE(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[wl]=u;let h=n[rc];return h!==null&&(c[rc]=h.createEmbeddedView(s)),oI(s,c,t),c}finally{Jt(i)}}function Wb(n,e){return!e||e.firstChild===null||Wy(n)}var jU;function aI(n,e){return jU(n,e)}var ac=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ac||{});function Sh(n){return(n.flags&32)===32}function ih(n,e,t,r,i){if(r!=null){let s,o=!1;sa(r)?s=r:vo(r)&&(o=!0,r=r[$i]);let a=wo(r);n===0&&t!==null?i==null?CR(e,t,a):Ky(e,t,a,i||null,!0):n===1&&t!==null?Ky(e,t,a,i||null,!0):n===2?ZE(e,a,o):n===3&&e.destroyNode(a),s!=null&&ZU(e,n,s,t,i)}}function BU(n,e){OR(n,e),e[$i]=null,e[bo]=null}function UU(n,e,t,r,i,s){r[$i]=i,r[bo]=e,Cv(n,r,t,1,i,s)}function OR(n,e){e[nc].changeDetectionScheduler?.notify(9),Cv(n,e,e[xn],2,null,null)}function qU(n){let e=n[fp];if(!e)return rb(n[It],n);for(;e;){let t=null;if(vo(e))t=e[fp];else{let r=e[qi];r&&(t=r)}if(!t){for(;e&&!e[yo]&&e!==n;)vo(e)&&rb(e[It],e),e=e[Or];e===null&&(e=n),vo(e)&&rb(e[It],e),t=e&&e[yo]}e=t}}function cI(n,e){let t=n[dh],r=t.indexOf(e);t.splice(r,1)}function uI(n,e){if(vh(e))return;let t=e[xn];t.destroyNode&&Cv(n,e,t,3,null,null),qU(e)}function rb(n,e){if(vh(e))return;let t=Jt(null);try{e[xt]&=-129,e[xt]|=256,e[Vs]&&m1(e[Vs]),zU(n,e),$U(n,e),e[It].type===1&&e[xn].destroy();let r=e[wl];if(r!==null&&sa(e[Or])){r!==e[Or]&&cI(r,e);let i=e[rc];i!==null&&i.detachView(n)}Pb(e)}finally{Jt(t)}}function $U(n,e){let t=n.cleanup,r=e[Fy];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Fy]=null);let i=e[hu];if(i!==null){e[hu]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Vy];if(s!==null){e[Vy]=null;for(let o of s)o.destroy()}}function zU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Il)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];gn(4,a,c);try{c.call(a)}finally{gn(5,a,c)}}else{gn(4,i,s);try{s.call(i)}finally{gn(5,i,s)}}}}}function HU(n,e,t){return WU(n,e.parent,t)}function WU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[$i];if(Dl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===na.None||i===na.Emulated)return null}return Eo(r,t)}function GU(n,e,t){return QU(n,e,t)}function KU(n,e,t){return n.type&40?Eo(n,t):null}var QU=KU,iN;function Tv(n,e,t,r){let i=HU(n,r,e),s=e[xn],o=r.parent||e[bo],a=GU(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)rN(s,i,t[c],a,!1);else rN(s,i,t,a,!1);iN!==void 0&&iN(s,r,e,t,i)}function lp(n,e){if(e!==null){let t=e.type;if(t&3)return Eo(e,n);if(t&4)return Gb(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return lp(n,r);{let i=n[e.index];return sa(i)?Gb(-1,i):wo(i)}}else{if(t&128)return lp(n,e.next);if(t&32)return aI(e,n)()||wo(n[e.index]);{let r=LR(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bl(n[js]);return lp(i,r)}else return lp(n,e.next)}}}return null}function LR(n,e){if(e!==null){let r=n[js][bo],i=e.projection;return r.projection[i]}return null}function Gb(n,e){let t=qi+n+1;if(t<e.length){let r=e[t],i=r[It].firstChild;if(i!==null)return lp(r,i)}return e[sc]}function lI(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&bh(wo(a),r),t.flags|=2),!Sh(t))if(c&8)lI(n,e,t.child,r,i,s,!1),ih(e,n,i,a,s);else if(c&32){let u=aI(t,r),h;for(;h=u();)ih(e,n,i,h,s);ih(e,n,i,a,s)}else c&16?YU(n,e,r,t,i,s):ih(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Cv(n,e,t,r,i,s){lI(t,r,n.firstChild,e,i,s,!1)}function YU(n,e,t,r,i,s){let o=t[js],c=o[bo].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];ih(e,n,i,h,s)}else{let u=c,h=o[Or];Wy(r)&&(u.flags|=128),lI(n,e,u,h,i,s,!0)}}function ZU(n,e,t,r,i){let s=t[sc],o=wo(t);s!==o&&ih(e,n,r,s,i);for(let a=qi;a<t.length;a++){let c=t[a];Cv(c[It],c,n,e,r,s)}}function JU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:ac.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ac.Important),n.setStyle(t,r,i,s))}}function Qy(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(wo(s)),sa(s)&&XU(s,r);let o=t.type;if(o&8)Qy(n,e,t.child,r);else if(o&32){let a=aI(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=LR(e,t);if(Array.isArray(a))r.push(...a);else{let c=bl(e[js]);Qy(c[It],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XU(n,e){for(let t=qi;t<n.length;t++){let r=n[t],i=r[It].firstChild;i!==null&&Qy(r[It],r,i,e)}n[sc]!==n[$i]&&e.push(n[sc])}function FR(n){if(n[oh]!==null){for(let e of n[oh])e.impl.addSequence(e);n[oh].length=0}}var VR=[];function e7(n){return n[Vs]??t7(n)}function t7(n){let e=VR.pop()??Object.create(r7);return e.lView=n,e}function n7(n){n.lView[Vs]!==n&&(n.lView=null,VR.push(n))}var r7=pt(Re({},tp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{wp(n.lView)},consumerOnSignalRead(){this.lView[Vs]=this}});function i7(n){let e=n[Vs]??Object.create(s7);return e.lView=n,e}var s7=pt(Re({},tp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=bl(n.lView);for(;e&&!jR(e[It]);)e=bl(e);e&&ix(e)},consumerOnSignalRead(){this.lView[Vs]=this}});function jR(n){return n.type!==2}function BR(n){if(n[Vy]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Vy])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[xt]&8192)}}var o7=100;function UR(n,e=!0,t=0){let i=n[nc].rendererFactory,s=!1;s||i.begin?.();try{a7(n,t)}catch(o){throw e&&iI(n,o),o}finally{s||i.end?.()}}function a7(n,e){let t=lx();try{M5(!0),Kb(n,e);let r=0;for(;dv(n);){if(r===o7)throw new Oe(103,!1);r++,Kb(n,1)}}finally{M5(t)}}function c7(n,e,t,r){if(vh(e))return;let i=e[xt],s=!1,o=!1;RE(e);let a=!0,c=null,u=null;s||(jR(n)?(u=e7(e),c=km(u)):l1()===null?(a=!1,u=i7(e),c=km(u)):e[Vs]&&(m1(e[Vs]),e[Vs]=null));try{rx(e),Jj(n.bindingStartIndex),t!==null&&PR(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let p=n.preOrderCheckHooks;p!==null&&Ty(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Cy(e,p,0,null),J1(e,0)}if(o||u7(e),BR(e),qR(e,0),n.contentQueries!==null&&uR(n,e),!s)if(h){let p=n.contentCheckHooks;p!==null&&Ty(e,p)}else{let p=n.contentHooks;p!==null&&Cy(e,p,1),J1(e,1)}d7(n,e);let g=n.components;g!==null&&zR(e,g,0);let v=n.viewQuery;if(v!==null&&Lb(2,v,r),!s)if(h){let p=n.viewCheckHooks;p!==null&&Ty(e,p)}else{let p=n.viewHooks;p!==null&&Cy(e,p,2),J1(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Z1]){for(let p of e[Z1])p();e[Z1]=null}s||(FR(e),e[xt]&=-73)}catch(h){throw s||wp(e),h}finally{u!==null&&(p1(u,c),a&&n7(u)),PE()}}function qR(n,e){for(let t=$x(n);t!==null;t=zx(t))for(let r=qi;r<t.length;r++){let i=t[r];$R(i,e)}}function u7(n){for(let e=$x(n);e!==null;e=zx(e)){if(!(e[xt]&2))continue;let t=e[dh];for(let r=0;r<t.length;r++){let i=t[r];ix(i)}}}function l7(n,e,t){gn(18);let r=ea(e,n);$R(r,t),gn(19,r[zi])}function $R(n,e){CE(n)&&Kb(n,e)}function Kb(n,e){let r=n[It],i=n[xt],s=n[Vs],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&g1(s)),o||=!1,s&&(s.dirty=!1),n[xt]&=-9217,o)c7(r,n,r.template,n[zi]);else if(i&8192){BR(n),qR(n,1);let a=r.components;a!==null&&zR(n,a,1),FR(n)}}function zR(n,e,t){for(let r=0;r<e.length;r++)l7(n,e[r],t)}function d7(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)El(~i);else{let s=i,o=t[++r],a=t[++r];e8(o,s);let c=e[s];gn(24,c),a(2,c),gn(25,c)}}}finally{El(-1)}}function Av(n,e){let t=lx()?64:1088;for(n[nc].changeDetectionScheduler?.notify(e);n;){n[xt]|=t;let r=bl(n);if(pp(n)&&!r)return n;n=r}return null}function HR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function WR(n,e,t,r=!0){let i=e[It];if(f7(i,e,n,t),r){let o=Gb(t,n),a=e[xn],c=a.parentNode(n[sc]);c!==null&&UU(i,n[bo],a,e,c,o)}let s=e[Xo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function h7(n,e){let t=Yy(n,e);return t!==void 0&&uI(t[It],t),t}function Yy(n,e){if(n.length<=qi)return;let t=qi+e,r=n[t];if(r){let i=r[wl];i!==null&&i!==n&&cI(i,r),e>0&&(n[t-1][yo]=r[yo]);let s=Oy(n,qi+e);BU(r[It],r);let o=s[rc];o!==null&&o.detachView(s[It]),r[Or]=null,r[yo]=null,r[xt]&=-129}return r}function f7(n,e,t,r){let i=qi+r,s=t.length;r>0&&(t[i-1][yo]=e),r<s-qi?(e[yo]=t[i],UN(t,qi+r,e)):(t.push(e),e[yo]=null),e[Or]=t;let o=e[wl];o!==null&&t!==o&&GR(o,e);let a=e[rc];a!==null&&a.insertView(n),bb(e),e[xt]|=128}function GR(n,e){let t=n[dh],r=e[Or];if(vo(r))n[xt]|=2;else{let i=r[Or][js];e[js]!==i&&(n[xt]|=2)}t===null?n[dh]=[e]:t.push(e)}var mp=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[It];return Qy(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[zi]}set context(e){this._lView[zi]=e}get destroyed(){return vh(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Or];if(sa(e)){let t=e[jy],r=t?t.indexOf(this):-1;r>-1&&(Yy(e,r),Oy(t,r))}this._attachedToViewContainer=!1}uI(this._lView[It],this._lView)}onDestroy(e){sx(this._lView,e)}markForCheck(){Av(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[xt]&=-129}reattach(){bb(this._lView),this._lView[xt]|=128}detectChanges(){this._lView[xt]|=1024,UR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pp(this._lView),t=this._lView[wl];t!==null&&!e&&cI(t,this._lView),OR(this._lView[It],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=e;let t=pp(this._lView),r=this._lView[wl];r!==null&&!t&&GR(r,this._lView),bb(this._lView)}};var Cl=(()=>{class n{static __NG_ELEMENT_ID__=m7}return n})(),p7=Cl,g7=class extends p7{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=kR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new mp(i)}};function m7(){return dI(ni(),sn())}function dI(n,e){return n.type&4?new g7(e,n,wh(n,e)):null}function Dv(n,e,t,r,i){let s=n.data[e];if(s===null)s=y7(n,e,t,r,i),Xj()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=Qj();s.injectorIndex=o===null?-1:o.injectorIndex}return Nl(s,!0),s}function y7(n,e,t,r,i){let s=cx(),o=DE(),a=o?s:s&&s.parent,c=n.data[e]=_7(n,a,t,e,r,i);return v7(n,c,s,o),c}function v7(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function _7(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return bp()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var w7=new RegExp(`^(\\d+)*(${Kx}|${Gx})*(.*)`);function b7(n){let e=n.match(w7),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,h]of s.matchAll(/(f|n)(\d*)/g)){let g=parseInt(h,10)||1;a.push(u,g)}return[o,...a]}function E7(n){return!n.prev&&n.parent?.type===8}function ib(n){return n.index-br}function I7(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Nv(n,e,t,r){let i=ib(r),s=I7(n,i);if(s===void 0){let o=n.data[K8];if(o?.[i])s=T7(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(E7(r)){let u=ib(r.parent);s=Ob(n,u)}else{let u=Eo(c,t);if(a)s=u.firstChild;else{let h=ib(c),g=Ob(n,h);if(c.type===2&&g){let p=zE(n,h)+1;s=xv(p,g)}else s=u.nextSibling}}}}return s}function xv(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function S7(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case $8:t=t.firstChild;break;case z8:t=t.nextSibling;break}}return t}function T7(n,e){let[t,...r]=b7(n),i;if(t===Gx)i=e[js][$i];else if(t===Kx)i=sU(e[js][$i]);else{let s=Number(t);i=wo(e[s+br])}return S7(i,r)}var C7=!1;function A7(n){C7=n}function D7(n){let e=n[Xo];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[xn];for(let s of r.values())N7(i,t,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function N7(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-br);i&&ZE(n,i,!1)}}function KR(n){let e=n[ic]??[],r=n[Or][xn],i=[];for(let s of e)s.data[Q8]!==void 0?i.push(s):QR(s,r);n[ic]=i}function x7(n){let{lContainer:e}=n,t=e[ic];if(t===null)return;let i=e[Or][xn];for(let s of t)QR(s,i)}function QR(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Gy];for(;t<i;){let s=r.nextSibling;ZE(e,r,!1),r=s,t++}}}function Rv(n){KR(n);let e=n[$i];vo(e)&&Zy(e);for(let t=qi;t<n.length;t++)Zy(n[t])}function Zy(n){D7(n);let e=n[It];for(let t=br;t<e.bindingStartIndex;t++)if(sa(n[t])){let r=n[t];Rv(r)}else vo(n[t])&&Zy(n[t])}function YR(n){let e=n._views;for(let t of e){let r=CB(t);r!==null&&r[$i]!==null&&(vo(r)?Zy(r):Rv(r))}}function R7(n,e,t,r){n!==null&&(t.cleanup(e),Rv(n.lContainer),YR(r))}function P7(n,e){let t=[];for(let r of e)for(let i=0;i<(r[Qx]??1);i++){let s={data:r,firstChild:null};r[Gy]>0&&(s.firstChild=n,n=xv(r[Gy],n)),t.push(s)}return[n,t]}var ZR=()=>null;function M7(n,e){let t=n[ic];return!e||t===null||t.length===0?null:t[0].data[G8]===e?t.shift():(KR(n),null)}function k7(){ZR=M7}function sN(n,e){return ZR(n,e)}var O7=class{},JR=class{},Qb=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ui(e)}.`)}},Th=class{static NULL=new Qb},gu=class{},ca=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>L7()}return n})();function L7(){let n=sn(),e=ni(),t=ea(e.index,n);return(vo(t)?t:n)[xn]}var F7=(()=>{class n{static \u0275prov=et({token:n,providedIn:"root",factory:()=>null})}return n})();function Yb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=fb(i,a);else if(s==2){let c=a,u=e[++o];r=fb(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ze(n,e=$t.Default){let t=sn();if(t===null)return at(n,e);let r=ni();return Dx(r,t,_i(n),e)}function XR(){let n="invalid";throw new Error(n)}function hI(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,c=null,u=null,h=j7(o);h===null?a=o:[a,c,u]=h,q7(n,e,t,a,s,c,u)}s!==null&&r!==null&&V7(t,r,s)}function V7(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Oe(-301,!1);r.push(e[i],s)}}function j7(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&_o(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,B7(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function B7(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function U7(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function q7(n,e,t,r,i,s,o){let a=r.length,c=!1;for(let v=0;v<a;v++){let p=r[v];!c&&_o(p)&&(c=!0,U7(n,t,v)),Tb($y(t,e),n,p.type)}K7(t,n.data.length,a);for(let v=0;v<a;v++){let p=r[v];p.providersResolver&&p.providersResolver(p)}let u=!1,h=!1,g=xR(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let p=r[v];if(t.mergedAttrs=fh(t.mergedAttrs,p.hostAttrs),z7(n,t,e,g,p),G7(g,p,i),o!==null&&o.has(p)){let[S,R]=o.get(p);t.directiveToIndex.set(p.type,[g,S+t.directiveStart,R+t.directiveStart])}else(s===null||!s.has(p))&&t.directiveToIndex.set(p.type,g);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let E=p.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}$7(n,t,s)}function $7(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))oN(0,e,i,r),oN(1,e,i,r),cN(e,r,!1);else{let s=t.get(i);aN(0,e,s,r),aN(1,e,s,r),cN(e,r,!0)}}}function oN(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),eP(e,s)}}function aN(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),eP(e,o)}}function eP(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function cN(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||QE(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let h of u)if(h===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let u=s[c];for(let h=0;h<u.length;h+=2)if(u[h]===e){o??=[],o.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function z7(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=vl(i.type,!0)),o=new Il(s,_o(i),Ze);n.blueprint[r]=o,t[r]=o,H7(n,e,r,xR(n,t,i.hostVars,So),i)}function H7(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;W7(o)!=a&&o.push(a),o.push(t,r,s)}}function W7(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function G7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_o(e)&&(t[""]=n)}}function K7(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function tP(n,e,t,r,i,s,o,a){let c=e.consts,u=hh(c,o),h=Dv(e,n,2,r,u);return s&&hI(e,t,h,hh(c,a),i),h.mergedAttrs=fh(h.mergedAttrs,h.attrs),h.attrs!==null&&Yb(h,h.attrs,!1),h.mergedAttrs!==null&&Yb(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function nP(n,e){ME(n,e),TE(e)&&n.queries.elementEnd(e)}var Jy=class extends Th{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=pu(e);return new ph(t,this.ngModule)}};function Q7(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Iv.SignalBased)!==0};return i&&(s.transform=i),s})}function Y7(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Z7(n,e,t){let r=e instanceof ti?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ch(t,r):t}function J7(n){let e=n.get(gu,null);if(e===null)throw new Oe(407,!1);let t=n.get(F7,null),r=n.get(Sl,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function X7(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return YE(e,t,t==="svg"?kj:t==="math"?Oj:null)}var ph=class extends JR{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Q7(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Y7(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=gU(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){gn(22);let s=Jt(null);try{let o=this.componentDef,a=r?["ng-version","19.2.4"]:mU(this.componentDef.selectors[0]),c=JE(0,null,null,1,0,null,null,null,null,[a],null),u=Z7(o,i||this.ngModule,e),h=J7(u),g=h.rendererFactory.createRenderer(null,o),v=r?IU(g,r,o.encapsulation,u):X7(o,g),p=XE(null,c,null,512|NR(o),null,null,h,g,u,null,aR(v,u,!0));p[br]=v,RE(p);let E=null;try{let S=tP(br,c,p,"#host",()=>[this.componentDef],!0,0);v&&(DR(g,v,S),bh(v,p)),Sv(c,p,S),HE(c,S,p),nP(c,S),t!==void 0&&e9(S,this.ngContentSelectors,t),E=ea(S.index,p),p[zi]=E[zi],oI(c,p,null)}catch(S){throw E!==null&&Pb(E),Pb(p),S}finally{gn(23),PE()}return new Zb(this.componentType,p)}finally{Jt(s)}}},Zb=class extends O7{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=lv(t[It],br),this.location=wh(this._tNode,t),this.instance=ea(this._tNode.index,t)[zi],this.hostView=this.changeDetectorRef=new mp(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=sI(r,i[It],i,e,t);this.previousInputValues.set(e,t);let o=ea(r.index,i);Av(o,1)}get injector(){return new ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function e9(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var wu=(()=>{class n{static __NG_ELEMENT_ID__=t9}return n})();function t9(){let n=ni();return iP(n,sn())}var n9=wu,rP=class extends n9{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new ml(this._hostTNode,this._hostLView)}get parentInjector(){let e=kE(this._hostTNode,this._hostLView);if(Ex(e)){let t=Uy(e,this._hostLView),r=By(e),i=t[It].data[r+8];return new ml(i,t)}else return new ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=uN(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-qi}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=sN(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Wb(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!xj(e),a;if(o)a=t;else{let E=t||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new ph(pu(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?u:this.parentInjector).get(ti,null);S&&(s=S)}let h=pu(c.componentType??{}),g=sN(this._lContainer,h?.id??null),v=g?.firstChild??null,p=c.create(u,i,v,s);return this.insertImpl(p.hostView,a,Wb(this._hostTNode,g)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(jj(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Or],u=new rP(c,c[bo],c[Or]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return WR(o,i,s,r),e.attachToViewContainerRef(),UN(sb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=uN(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Yy(this._lContainer,t);r&&(Oy(sb(this._lContainer),t),uI(r[It],r))}detach(e){let t=this._adjustIndex(e,-1),r=Yy(this._lContainer,t);return r&&Oy(sb(this._lContainer),t)!=null?new mp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function uN(n){return n[jy]}function sb(n){return n[jy]||(n[jy]=[])}function iP(n,e){let t,r=e[n.index];return sa(r)?t=r:(t=HR(r,e,null,n),e[n.index]=t,eI(e,t)),sP(t,e,n,r),new rP(t,n,e)}function r9(n,e){let t=n[xn],r=t.createComment(""),i=Eo(e,n),s=t.parentNode(i);return Ky(t,s,r,t.nextSibling(i),!1),r}var sP=oP,fI=()=>!1;function i9(n,e,t){return fI(n,e,t)}function oP(n,e,t,r){if(n[sc])return;let i;t.type&8?i=wo(r):i=r9(e,t),n[sc]=i}function s9(n,e,t){if(n[sc]&&n[ic])return!0;let r=t[Xo],i=e.index-br;if(!r||L8(e)||Tp(r,i))return!1;let o=Ob(r,i),a=r.data[UE]?.[i],[c,u]=P7(o,a);return n[sc]=c,n[ic]=u,!0}function o9(n,e,t,r){fI(n,t,e)||oP(n,e,t,r)}function a9(){sP=o9,fI=s9}var Jb=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xb=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)pI(e,t).matches!==null&&this.queries[t].setDirty()}},eE=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=g9(e):this.predicate=e}},tE=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},nE=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,c9(t,s)),this.matchTNodeWithReadOption(e,t,Ay(t,e,s,!1,!1))}else r===Cl?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ay(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wi||i===wu||i===Cl&&t.type&4)this.addMatch(t.index,-2);else{let s=Ay(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function c9(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function u9(n,e){return n.type&11?wh(n,e):n.type&4?dI(n,e):null}function l9(n,e,t,r){return t===-1?u9(e,n):t===-2?d9(n,e,r):gp(n,n[It],t,e)}function d9(n,e,t){if(t===wi)return wh(e,n);if(t===Cl)return dI(e,n);if(t===wu)return iP(e,n)}function aP(n,e,t,r){let i=e[rc].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let h=s[u];a.push(l9(e,h,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function rE(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=aP(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],h=e[-c];for(let g=qi;g<h.length;g++){let v=h[g];v[wl]===v[Or]&&rE(v[It],v,u,r)}if(h[dh]!==null){let g=h[dh];for(let v=0;v<g.length;v++){let p=g[v];rE(p[It],p,u,r)}}}}}return r}function h9(n,e){return n[rc].queries[e].queryList}function f9(n,e,t){let r=new Rb((t&4)===4);return qj(n,e,r,r.destroy),(e[rc]??=new Xb).queries.push(new Jb(r))-1}function p9(n,e,t,r){let i=Er();if(i.firstCreatePass){let s=ni();m9(i,new eE(e,t,r),s.index),y9(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return f9(i,sn(),t)}function g9(n){return n.split(",").map(e=>e.trim())}function m9(n,e,t){n.queries===null&&(n.queries=new tE),n.queries.track(new nE(e,t))}function y9(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function pI(n,e){return n.queries.getByIndex(e)}function v9(n,e){let t=n[It],r=pI(t,e);return r.crossesNgTemplate?rE(t,n,e,[]):aP(t,n,r,e)}var gh=class{},gI=class{};var iE=class extends gh{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jy(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=zN(e);this._bootstrapComponents=ER(s.bootstrap),this._r3Injector=Rx(e,t,[{provide:gh,useValue:this},{provide:Th,useValue:this.componentFactoryResolver},...r],Ui(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sE=class extends gI{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new iE(this.moduleType,e,[])}};var Xy=class extends gh{injector;componentFactoryResolver=new Jy(this);instance=null;constructor(e){super();let t=new hp([...e.providers,{provide:gh,useValue:this},{provide:Th,useValue:this.componentFactoryResolver}],e.parent||IE(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ap(n,e,t=null){return new Xy({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var _9=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bE(!1,t.type),i=r.length>0?Ap([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=et({token:n,providedIn:"environment",factory:()=>new n(at(ti))})}return n})();function Yr(n){return vp(()=>{let e=cP(n),t=pt(Re({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ux.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(_9).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||na.Emulated,styles:n.styles||Bi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&aa("NgStandalone"),uP(t);let r=n.dependencies;return t.directiveDefs=lN(r,!1),t.pipeDefs=lN(r,!0),t.id=S9(t),t})}function w9(n){return pu(n)||HN(n)}function b9(n){return n!==null}function ua(n){return vp(()=>({type:n.type,bootstrap:n.bootstrap||Bi,declarations:n.declarations||Bi,imports:n.imports||Bi,exports:n.exports||Bi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function E9(n,e){if(n==null)return _l;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=Iv.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function I9(n){if(n==null)return _l;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Fn(n){return vp(()=>{let e=cP(n);return uP(e),e})}function mI(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function cP(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||_l,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Bi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:E9(n.inputs,e),outputs:I9(n.outputs),debugInfo:null}}function uP(n){n.features?.forEach(e=>e(n))}function lN(n,e){if(!n)return null;let t=e?WN:w9;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(b9)}function S9(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function T9(n){return Object.getPrototypeOf(n.prototype).constructor}function Hi(n){let e=T9(n.type),t=!0,r=[n];for(;e;){let i;if(_o(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Oe(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=ob(n.inputs),o.declaredInputs=ob(n.declaredInputs),o.outputs=ob(n.outputs);let a=i.hostBindings;a&&x9(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&D9(n,c),u&&N9(n,u),C9(n,i),J6(n.outputs,i.outputs),_o(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Hi&&(t=!1)}}e=Object.getPrototypeOf(e)}A9(r)}function C9(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function A9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fh(i.hostAttrs,t=fh(t,i.hostAttrs))}}function ob(n){return n===_l?{}:n===Bi?[]:n}function D9(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function N9(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function x9(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function lP(n){return P9(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function R9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function P9(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function M9(n,e,t){return n[e]=t}function cc(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function dP(n,e,t,r){let i=cc(n,e,t);return cc(n,e+1,r)||i}function k9(n,e,t,r,i,s,o,a,c){let u=e.consts,h=Dv(e,n,4,o||null,a||null);AE()&&hI(e,t,h,hh(u,c),rI),h.mergedAttrs=fh(h.mergedAttrs,h.attrs),ME(e,h);let g=h.tView=JE(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}function O9(n,e,t,r,i,s,o,a,c,u){let h=t+br,g=e.firstCreatePass?k9(h,e,n,r,i,s,o,a,c):e.data[h];Nl(g,!1);let v=hP(e,n,g,t);fv()&&Tv(e,n,v,g),bh(v,n);let p=HR(v,n,v,g);return n[h]=p,eI(n,p),i9(p,g,n),uv(g)&&Sv(e,n,g),c!=null&&tI(n,g,u),g}function ln(n,e,t,r,i,s,o,a){let c=sn(),u=Er(),h=hh(u.consts,s);return O9(c,u,n,e,t,r,i,h,o,a),ln}var hP=fP;function fP(n,e,t,r){return vu(!0),e[xn].createComment("")}function L9(n,e,t,r){let i=e[Xo],s=!i||bp()||Sh(t)||Tp(i,r);if(vu(s),s)return fP(n,e);let o=i.data[W8]?.[r]??null;o!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=o);let a=Nv(i,n,e,t);wv(i,r,a);let c=zE(i,r);return xv(c,a)}function F9(){hP=L9}var V9=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,s){if(!this.cachedInjectors.has(t)){let o=i.length>0?Ap(i,r,s):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=et({token:n,providedIn:"environment",factory:()=>new n})}return n})();var j9=new Je("");function ab(n,e,t){return n.get(V9).getOrCreateInjector(e,n,t,"")}function B9(n,e,t){if(n instanceof ch){let i=n.injector,s=n.parentInjector,o=ab(s,e,t);return new ch(i,o)}let r=n.get(ti);if(r!==n){let i=ab(r,e,t);return new ch(n,i)}return ab(n,e,t)}function sh(n,e,t,r=!1){let i=t[Or],s=i[It];if(vh(i))return;let o=Sp(i,e),a=o[yv],c=o[uB];if(!(c!==null&&n<c)&&dN(a,n)&&dN(o[oB]??-1,n)){let u=vv(s,e),g=!r&&!0&&(pB(u)!==null||G5(u,kr.Loading)!==null||G5(u,kr.Placeholder))?$9:q9;try{g(n,o,t,e,i)}catch(v){iI(i,v)}}}function U9(n,e){let t=n[ic]?.findIndex(i=>i.data[Y8]===e[yv])??-1;return{dehydratedView:t>-1?n[ic][t]:null,dehydratedViewIx:t}}function q9(n,e,t,r,i){gn(20);let s=fB(n,i,r);if(s!==null){e[yv]=n;let o=i[It],a=s+br,c=lv(o,a),u=0;h7(t,u);let h;if(n===kr.Complete){let E=vv(o,r),S=E.providers;S&&S.length>0&&(h=B9(i[tc],E,S))}let{dehydratedView:g,dehydratedViewIx:v}=U9(t,e),p=kR(i,c,null,{injector:h,dehydratedView:g});if(WR(t,p,u,Wb(c,g)),Av(p,2),v>-1&&t[ic]?.splice(v,1),(n===kr.Complete||n===kr.Error)&&Array.isArray(e[uh])){for(let E of e[uh])E();e[uh]=null}}gn(21)}function dN(n,e){return n<e}function hN(n,e,t){n.loadingPromise.then(()=>{n.loadingState===us.COMPLETE?sh(kr.Complete,e,t):n.loadingState===us.FAILED&&sh(kr.Error,e,t)})}var $9=null;var yI=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var pP=new Je("");var z9=(()=>{class n{static \u0275prov=et({token:n,providedIn:"root",factory:()=>new oE})}return n})(),oE=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function xl(n){return!!n&&typeof n.then=="function"}function gP(n){return!!n&&typeof n.subscribe=="function"}var Pv=new Je("");var mP=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Ce(Pv,{optional:!0})??[];injector=Ce($n);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=Qr(this.injector,i);if(xl(s))t.push(s);else if(gP(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bu=new Je("");function H9(){v1(()=>{throw new Oe(600,!1)})}function W9(n){return n.isBoundToModule}var G9=10;var jr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ce(A8);afterRenderManager=Ce(tR);zonelessEnabled=Ce(pv);rootEffectScheduler=Ce(z9);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Tn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ce(oa).hasPendingTasks.pipe(qt(t=>!t));constructor(){Ce(Ih,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Ce(ti);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){gn(10);let i=t instanceof JR;if(!this._injector.get(mP).done){let v="";throw new Oe(405,v)}let o;i?o=t:o=this._injector.get(Th).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=W9(o)?void 0:this._injector.get(gh),c=r||o.selector,u=o.create($n.NULL,[],c,a),h=u.location.nativeElement,g=u.injector.get(pP,null);return g?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Ny(this.components,u),g?.unregisterApplication(h)}),this._loadComponent(u),gn(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){gn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qE.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Oe(101,!1);let t=Jt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Jt(t),this.afterTick.next(),gn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gu,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<G9;)gn(14),this.synchronizeOnce(),gn(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)K9(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>dv(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ny(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ny(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Oe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ny(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function K9(n,e,t,r){if(!t&&!dv(n))return;UR(n,e,t&&!r?0:1)}function Q9(n,e,t){let r=e[tc],i=e[It];if(n.loadingState!==us.NOT_STARTED)return n.loadingPromise??Promise.resolve();let s=Sp(e,t),o=gB(i,n);n.loadingState=us.IN_PROGRESS,Dy(1,s);let a=n.dependencyResolverFn,c=r.get(oa),u=c.add();return a?(n.loadingPromise=Promise.allSettled(a()).then(h=>{let g=!1,v=[],p=[];for(let E of h)if(E.status==="fulfilled"){let S=E.value,R=pu(S)||HN(S);if(R)v.push(R);else{let x=WN(S);x&&p.push(x)}}else{g=!0;break}if(n.loadingPromise=null,c.remove(u),g){if(n.loadingState=us.FAILED,n.errorTmplIndex===null){let E="",S=new Oe(-750,!1);iI(e,S)}}else{n.loadingState=us.COMPLETE;let E=o.tView;if(v.length>0){E.directiveRegistry=K5(E.directiveRegistry,v);let S=v.map(x=>x.type),R=bE(!1,...S);n.providers=R}p.length>0&&(E.pipeRegistry=K5(E.pipeRegistry,p))}}),n.loadingPromise):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=us.COMPLETE,c.remove(u)}),n.loadingPromise)}function Y9(n,e){return e[tc].get(j9,null,{optional:!0})?.behavior!==nR.Manual}function Z9(n,e,t){let r=e[It],i=e[t.index];if(!Y9(n,e))return;let s=Sp(e,t),o=vv(r,t);switch(dB(s),o.loadingState){case us.NOT_STARTED:sh(kr.Loading,t,i),Q9(o,e,t),o.loadingState===us.IN_PROGRESS&&hN(o,t,i);break;case us.IN_PROGRESS:sh(kr.Loading,t,i),hN(o,t,i);break;case us.COMPLETE:sh(kr.Complete,t,i);break;case us.FAILED:sh(kr.Error,t,i);break;default:}}function J9(n,e,t){return G(this,null,function*(){let r=n.get($E);if(r.hydrating.has(e))return;let{parentBlockPromise:s,hydrationQueue:o}=PB(e,n);if(o.length===0)return;s!==null&&o.shift(),tq(r,o),s!==null&&(yield s);let a=o[0];r.has(a)?yield fN(n,o,t):r.awaitParentBlock(a,()=>G(this,null,function*(){return yield fN(n,o,t)}))})}function fN(n,e,t){return G(this,null,function*(){let r=n.get($E),i=r.hydrating,s=n.get(oa),o=s.add();for(let c=0;c<e.length;c++){let u=e[c],h=r.get(u);if(h!=null){if(yield rq(h),yield nq(n),X9(h)){x7(h),pN(e.slice(c),r);break}i.get(u).resolve()}else{eq(c,e,r),pN(e.slice(c),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,s.remove(o),t&&t(e),R7(r.get(a),e,r,n.get(jr))})}function X9(n){return Sp(n.lView,n.tNode)[yv]===kr.Error}function eq(n,e,t){let r=n-1,i=r>-1?t.get(e[r]):null;i&&Rv(i.lContainer)}function pN(n,e){let t=e.hydrating;for(let r in n)t.get(r)?.reject();e.cleanup(n)}function tq(n,e){for(let t of e)n.hydrating.set(t,Promise.withResolvers())}function nq(n){return new Promise(e=>mv(e,{injector:n}))}function rq(n){return G(this,null,function*(){let{tNode:e,lView:t}=n,r=Sp(t,e);return new Promise(i=>{iq(r,i),Z9(2,t,e)})})}function iq(n,e){Array.isArray(n[uh])||(n[uh]=[]),n[uh].push(e)}function $s(n,e,t,r){let i=sn(),s=Ep();if(cc(i,s,e)){let o=Er(),a=hv();PU(a,i,n,e,t,r)}return $s}function sq(n,e,t,r){return cc(n,Ep(),t)?e+yl(t)+r:So}function oq(n,e,t,r,i,s){let o=Zj(),a=dP(n,o,t,i);return NE(2),a?e+yl(t)+r+yl(i)+s:So}function Ey(n,e){return n<<17|e<<2}function Al(n){return n>>17&32767}function aq(n){return(n&2)==2}function cq(n,e){return n&131071|e<<17}function aE(n){return n|2}function mh(n){return(n&131068)>>2}function cb(n,e){return n&-131069|e<<2}function uq(n){return(n&1)===1}function cE(n){return n|1}function lq(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Al(o),c=mh(o);n[r]=t;let u=!1,h;if(Array.isArray(t)){let g=t;h=g[1],(h===null||_p(g,h)>0)&&(u=!0)}else h=t;if(i)if(c!==0){let v=Al(n[a+1]);n[r+1]=Ey(v,a),v!==0&&(n[v+1]=cb(n[v+1],r)),n[a+1]=cq(n[a+1],r)}else n[r+1]=Ey(a,0),a!==0&&(n[a+1]=cb(n[a+1],r)),a=r;else n[r+1]=Ey(c,0),a===0?a=r:n[c+1]=cb(n[c+1],r),c=r;u&&(n[r+1]=aE(n[r+1])),gN(n,h,r,!0),gN(n,h,r,!1),dq(e,h,n,r,s),o=Ey(a,c),s?e.classBindings=o:e.styleBindings=o}function dq(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&_p(s,e)>=0&&(t[r+1]=cE(t[r+1]))}function gN(n,e,t,r){let i=n[t+1],s=e===null,o=r?Al(i):mh(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];hq(c,e)&&(a=!0,n[o+1]=r?cE(u):aE(u)),o=r?Al(u):mh(u)}a&&(n[t+1]=r?aE(i):cE(i))}function hq(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_p(n,e)>=0:!1}var mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fq(n){return n.substring(mo.key,mo.keyEnd)}function pq(n){return gq(n),yP(n,vP(n,0,mo.textEnd))}function yP(n,e){let t=mo.textEnd;return t===e?-1:(e=mo.keyEnd=mq(n,mo.key=e,t),vP(n,e,t))}function gq(n){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=n.length}function vP(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function mq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function At(n,e,t){let r=sn(),i=Ep();if(cc(r,i,e)){let s=Er(),o=hv();nI(s,o,r,n,e,r[xn],t,!1)}return At}function uE(n,e,t,r,i){sI(e,n,t,i?"class":"style",r)}function Rl(n,e,t){return _P(n,e,t,!1),Rl}function Eu(n,e){return _P(n,e,null,!0),Eu}function hc(n){vq(Sq,yq,n,!0)}function yq(n,e){for(let t=pq(e);t>=0;t=yP(e,t))wE(n,fq(e),!0)}function _P(n,e,t,r){let i=sn(),s=Er(),o=NE(2);if(s.firstUpdatePass&&bP(s,n,o,r),e!==So&&cc(i,o,e)){let a=s.data[yu()];EP(s,a,i,i[xn],n,i[o+1]=Cq(e,t),r,o)}}function vq(n,e,t,r){let i=Er(),s=NE(2);i.firstUpdatePass&&bP(i,null,s,r);let o=sn();if(t!==So&&cc(o,s,t)){let a=i.data[yu()];if(IP(a,r)&&!wP(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=fb(c,t||"")),uE(i,a,o,t,r)}else Tq(i,a,o,o[xn],o[s+1],o[s+1]=Iq(n,e,t),r,s)}}function wP(n,e){return e>=n.expandoStartIndex}function bP(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[yu()],o=wP(n,t);IP(s,r)&&e===null&&!o&&(e=!1),e=_q(i,s,e,r),lq(i,s,e,t,o,r)}}function _q(n,e,t,r){let i=dx(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ub(null,n,e,t,r),t=yp(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=ub(i,n,e,t,r),s===null){let c=wq(n,e,r);c!==void 0&&Array.isArray(c)&&(c=ub(null,n,e,c[1],r),c=yp(c,e.attrs,r),bq(n,e,r,c))}else s=Eq(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function wq(n,e,t){let r=t?e.classBindings:e.styleBindings;if(mh(r)!==0)return n[Al(r)]}function bq(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Al(i)]=r}function Eq(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=yp(r,o,t)}return yp(r,e.attrs,t)}function ub(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=yp(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function yp(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),wE(n,o,t?!0:e[++s]))}return n===void 0?null:n}function Iq(n,e,t){if(t==null||t==="")return Bi;let r=[],i=qs(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Sq(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&wE(n,r,t)}function Tq(n,e,t,r,i,s,o,a){i===So&&(i=Bi);let c=0,u=0,h=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;h!==null||g!==null;){let v=c<i.length?i[c+1]:void 0,p=u<s.length?s[u+1]:void 0,E=null,S;h===g?(c+=2,u+=2,v!==p&&(E=g,S=p)):g===null||h!==null&&h<g?(c+=2,E=h):(u+=2,E=g,S=p),E!==null&&EP(n,e,t,r,E,S,o,a),h=c<i.length?i[c]:null,g=u<s.length?s[u]:null}}function EP(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=uq(u)?mN(c,e,t,i,mh(u),o):void 0;if(!ev(h)){ev(s)||aq(u)&&(s=mN(c,null,t,i,a,o));let g=nx(yu(),t);JU(r,o,g,i,s)}}function mN(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),h=u?c[1]:c,g=h===null,v=t[i+1];v===So&&(v=g?Bi:void 0);let p=g?Q1(v,r):h===r?v:void 0;if(u&&!ev(p)&&(p=Q1(c,r)),ev(p)&&(a=p,o))return a;let E=n[i+1];i=o?Al(E):mh(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Q1(c,r))}return a}function ev(n){return n!==void 0}function Cq(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ui(qs(n)))),n}function IP(n,e){return(n.flags&(e?8:16))!==0}function ue(n,e,t,r){let i=sn(),s=Er(),o=br+n,a=i[xn],c=s.firstCreatePass?tP(o,s,i,e,rI,AE(),t,r):s.data[o],u=SP(s,i,c,a,e,n);i[o]=u;let h=uv(c);return Nl(c,!0),DR(a,u,c),!Sh(c)&&fv()&&Tv(s,i,u,c),($j()===0||h)&&bh(u,i),zj(),h&&(Sv(s,i,c),HE(s,c,i)),r!==null&&tI(i,c),ue}function ae(){let n=ni();DE()?ux():(n=n.parent,Nl(n,!1));let e=n;Wj(e)&&Kj(),Hj();let t=Er();return t.firstCreatePass&&nP(t,e),e.classesWithoutHost!=null&&o8(e)&&uE(t,e,sn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&a8(e)&&uE(t,e,sn(),e.stylesWithoutHost,!1),ae}function Zn(n,e,t,r){return ue(n,e,t,r),ae(),Zn}var SP=(n,e,t,r,i,s)=>(vu(!0),YE(r,i,vx()));function Aq(n,e,t,r,i,s){let o=e[Xo],a=!o||bp()||Sh(t)||Tp(o,s);if(vu(a),a)return YE(r,i,vx());let c=Nv(o,n,e,t);return cR(o,s)&&wv(o,s,c.nextSibling),o&&(jx(t)||Bx(c))&&Dl(t)&&(Gj(t),AR(c)),c}function Dq(){SP=Aq}function Nq(n,e,t,r,i){let s=e.consts,o=hh(s,r),a=Dv(e,n,8,"ng-container",o);o!==null&&Yb(a,o,!0);let c=hh(s,i);return AE()&&hI(e,t,a,c,rI),a.mergedAttrs=fh(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Mv(n,e,t){let r=sn(),i=Er(),s=n+br,o=i.firstCreatePass?Nq(s,i,r,e,t):i.data[s];Nl(o,!0);let a=TP(i,r,o,n);return r[s]=a,fv()&&Tv(i,r,a,o),bh(a,r),uv(o)&&(Sv(i,r,o),HE(i,o,r)),t!=null&&tI(r,o),Mv}function kv(){let n=ni(),e=Er();return DE()?ux():(n=n.parent,Nl(n,!1)),e.firstCreatePass&&(ME(e,n),TE(n)&&e.queries.elementEnd(n)),kv}var TP=(n,e,t,r)=>(vu(!0),TR(e[xn],""));function xq(n,e,t,r){let i,s=e[Xo],o=!s||bp()||Tp(s,r)||Sh(t);if(vu(o),o)return TR(e[xn],"");let a=Nv(s,n,e,t),c=xB(s,r);return wv(s,r,a),i=xv(c,a),i}function Rq(){TP=xq}function ri(){return sn()}function vI(n,e,t){let r=sn(),i=Ep();if(cc(r,i,e)){let s=Er(),o=hv(),a=dx(s.data),c=OU(a,o,r);nI(s,o,r,n,e,c,t,!0)}return vI}var pl=void 0;function Pq(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Mq=["en",[["a","p"],["AM","PM"],pl],[["AM","PM"],pl,pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pl,"{1} 'at' {0}",pl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Pq],lb={};function hs(n){let e=kq(n),t=yN(e);if(t)return t;let r=e.split("-")[0];if(t=yN(r),t)return t;if(r==="en")return Mq;throw new Oe(701,!1)}function yN(n){return n in lb||(lb[n]=ec.ng&&ec.ng.common&&ec.ng.common.locales&&ec.ng.common.locales[n]),lb[n]}var Jn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Jn||{});function kq(n){return n.toLowerCase().replace(/_/g,"-")}var tv="en-US";var Oq=tv;function Lq(n){typeof n=="string"&&(Oq=n.toLowerCase().replace(/_/g,"-"))}function vN(n,e,t,r){return function i(s){if(s===Function)return r;let o=Dl(n)?ea(n.index,e):e;Av(o,5);let a=_N(e,t,r,s),c=i.__ngNextListenerFn__;for(;c;)a=_N(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function _N(n,e,t,r){let i=Jt(null);try{return gn(6,e,t),t(r)!==!1}catch(s){return Fq(n,s),!1}finally{gn(7,e,t),Jt(i)}}function Fq(n,e){let t=n[tc],r=t?t.get(ta,null):null;r&&r.handleError(e)}function wN(n,e,t,r,i,s,o,a,c){let u=t[r],g=e.data[r].outputs[i],p=u[g].subscribe(o),E=a.length;a.push(o,p),c&&c.push(s,n.index,E,-(E+1))}var CP=(n,e,t)=>{};function bN(n){CP=n}function zt(n,e,t,r){let i=sn(),s=Er(),o=ni();return AP(s,i,i[xn],o,n,e,r),zt}function Vq(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Fy],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function AP(n,e,t,r,i,s,o){let a=uv(r),u=n.firstCreatePass?ax(n):null,h=e[zi],g=ox(e),v=!0;if(r.type&3||o){let p=Eo(r,e),E=o?o(p):p,S=g.length,R=o?B=>o(wo(B[r.index])):r.index,x=null;if(!o&&a&&(x=Vq(n,e,i,r.index)),x!==null){let B=x.__ngLastListenerFn__||x;B.__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,v=!1}else{s=vN(r,e,h,s),CP(E,i,s);let B=t.listen(E,i,s);g.push(s,B),u&&u.push(i,R,S,S+1)}}else s=vN(r,e,h,s);if(v){let p=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let S=0;S<E.length;S+=2){let R=E[S],x=E[S+1];wN(r,n,e,R,x,i,s,g,u)}if(p&&p.length)for(let S of p)wN(r,n,e,S,i,i,s,g,u)}}function Qt(n=1){return r8(n)}function DP(n,e,t,r){p9(n,e,t,r)}function NP(n){let e=sn(),t=Er(),r=hx();xE(r+1);let i=pI(t,r);if(n.dirty&&Vj(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=v9(e,r);n.reset(s,x8),n.notifyOnChanges()}return!0}return!1}function xP(){return h9(sn(),hx())}function jq(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ee(n,e=""){let t=sn(),r=Er(),i=n+br,s=r.firstCreatePass?Dv(r,i,1,e,null):r.data[i],o=RP(r,t,s,e,n);t[i]=o,fv()&&Tv(r,t,o,s),Nl(s,!1)}var RP=(n,e,t,r,i)=>(vu(!0),SR(e[xn],r));function Bq(n,e,t,r,i){let s=e[Xo],o=!s||bp()||Sh(t)||Tp(s,i);return vu(o),o?SR(e[xn],r):Nv(s,n,e,t)}function Uq(){RP=Bq}function qn(n){return tn("",n,""),qn}function tn(n,e,t){let r=sn(),i=sq(r,n,e,t);return i!==So&&PP(r,yu(),i),tn}function _I(n,e,t,r,i){let s=sn(),o=oq(s,n,e,t,r,i);return o!==So&&PP(s,yu(),o),_I}function PP(n,e,t){let r=nx(e,n);yU(n[xn],r,t)}function Xn(n,e,t){Vx(e)&&(e=e());let r=sn(),i=Ep();if(cc(r,i,e)){let s=Er(),o=hv();nI(s,o,r,n,e,r[xn],t,!1)}return Xn}function ur(n,e){let t=Vx(n);return t&&n.set(e),t}function er(n,e){let t=sn(),r=Er(),i=ni();return AP(r,t,t[xn],i,n,e),er}function qq(n,e,t){let r=Er();if(r.firstCreatePass){let i=_o(n);lE(t,r.data,r.blueprint,i,!0),lE(e,r.data,r.blueprint,i,!1)}}function lE(n,e,t,r,i){if(n=_i(n),Array.isArray(n))for(let s=0;s<n.length;s++)lE(n[s],e,t,r,i);else{let s=Er(),o=sn(),a=ni(),c=lh(n)?n:_i(n.provide),u=QN(n),h=a.providerIndexes&1048575,g=a.directiveStart,v=a.providerIndexes>>20;if(lh(n)||!n.multi){let p=new Il(u,i,Ze),E=hb(c,e,i?h:h+v,g);E===-1?(Tb($y(a,o),s,c),db(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[E]=p,o[E]=p)}else{let p=hb(c,e,h+v,g),E=hb(c,e,h,h+v),S=p>=0&&t[p],R=E>=0&&t[E];if(i&&!R||!i&&!S){Tb($y(a,o),s,c);let x=Hq(i?zq:$q,t.length,i,r,u);!i&&R&&(t[E].providerFactory=x),db(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),o.push(x)}else{let x=MP(t[i?E:p],u,!i&&r);db(s,n,p>-1?p:E,x)}!i&&r&&R&&t[E].componentProviders++}}}function db(n,e,t,r){let i=lh(e),s=Sj(e);if(i||s){let c=(s?_i(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,c]):u[h+1].push(r,c)}else u.push(t,c)}}}function MP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function $q(n,e,t,r){return dE(this.multi,[])}function zq(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=gp(t,t[It],this.providerFactory.index,r);s=a.slice(0,o),dE(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],dE(i,s);return s}function dE(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Hq(n,e,t,r,i){let s=new Il(n,t,Ze);return s.multi=[],s.index=e,s.componentProviders=0,MP(s,i,r&&!t),s}function Wi(n,e=[]){return t=>{t.providersResolver=(r,i)=>qq(r,i?i(n):n,e)}}function Wq(n,e){let t=n[e];return t===So?void 0:t}function Gq(n,e,t,r,i,s,o){let a=e+t;return dP(n,a,i,s)?M9(n,a+2,o?r.call(o,i,s):r(i,s)):Wq(n,a+2)}function lr(n,e){let t=Er(),r,i=n+br;t.firstCreatePass?(r=Kq(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=vl(r.type,!0)),o,a=ji(Ze);try{let c=qy(!1),u=s();return qy(c),jq(t,sn(),i,u),u}finally{ji(a)}}function Kq(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function dr(n,e,t,r){let i=n+br,s=sn(),o=Fj(s,i);return Qq(s,i)?Gq(s,Yj(),e,o.transform,t,r,o):o.transform(t,r)}function Qq(n,e){return n[It].data[e].pure}var uc=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},kP=new uc("19.2.4"),hE=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ov=(()=>{class n{compileModuleSync(t){return new sE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=zN(t),s=ER(i.declarations).reduce((o,a)=>{let c=pu(a);return c&&o.push(new ph(c)),o},[]);return new hE(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yq=(()=>{class n{zone=Ce(rn);changeDetectionScheduler=Ce(Sl);applicationRef=Ce(jr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zq=new Je("",{factory:()=>!1});function OP({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new rn(pt(Re({},FP()),{scheduleInRootZone:t})),[{provide:rn,useFactory:n},{provide:fu,multi:!0,useFactory:()=>{let r=Ce(Yq,{optional:!0});return()=>r.initialize()}},{provide:fu,multi:!0,useFactory:()=>{let r=Ce(Jq);return()=>{r.initialize()}}},e===!0?{provide:Mx,useValue:!0}:[],{provide:kx,useValue:t??Px}]}function LP(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=OP({ngZoneFactory:()=>{let i=FP(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&aa("NgZone_CoalesceEvent"),new rn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ls([{provide:Zq,useValue:!0},{provide:pv,useValue:!1},r])}function FP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Jq=(()=>{class n{subscription=new Yn;initialized=!1;zone=Ce(rn);pendingTasks=Ce(oa);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{rn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{rn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xq=(()=>{class n{appRef=Ce(jr);taskService=Ce(oa);ngZone=Ce(rn);zonelessEnabled=Ce(pv);tracing=Ce(Ih,{optional:!0});disableScheduling=Ce(Mx,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Yn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hy):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ce(kx,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xb||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?j5:Ox;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hy+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,j5(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e$(){return typeof $localize<"u"&&$localize.locale||tv}var Dp=new Je("",{providedIn:"root",factory:()=>Ce(Dp,$t.Optional|$t.SkipSelf)||e$()});var fE=new Je(""),t$=new Je("");function cp(n){return!n.moduleRef}function n$(n){let e=cp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(rn);return t.run(()=>{cp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ta,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),cp(n)){let s=()=>e.destroy(),o=n.platformInjector.get(fE);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(fE);o.add(s),n.moduleRef.onDestroy(()=>{Ny(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return i$(r,t,()=>{let s=e.get(mP);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Dp,tv);if(Lq(o||tv),!e.get(t$,!0))return cp(n)?e.get(jr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(cp(n)){let c=e.get(jr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return r$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function r$(n,e){let t=n.injector.get(jr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Oe(-403,!1);e.push(n)}function i$(n,e,t){try{let r=t();return xl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var xy=null;function s$(n=[],e){return $n.create({name:e,providers:[{provide:ov,useValue:"platform"},{provide:fE,useValue:new Set([()=>xy=null])},...n]})}function o$(n=[]){if(xy)return xy;let e=s$(n);return xy=e,H9(),a$(e),e}function a$(n){let e=n.get(VE,null);Qr(n,()=>{e?.forEach(t=>t())})}function wI(){return!1}var Iu=(()=>{class n{static __NG_ELEMENT_ID__=c$}return n})();function c$(n){return u$(ni(),sn(),(n&16)===16)}function u$(n,e,t){if(Dl(n)&&!t){let r=ea(n.index,e);return new mp(r,r)}else if(n.type&175){let r=e[js];return new mp(r,e)}return null}var pE=class{constructor(){}supports(e){return lP(e)}create(e){return new gE(e)}},l$=(n,e)=>e,gE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||l$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<EN(r,i,s)?t:r,a=EN(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,h=c-i;if(u!=h){for(let v=0;v<u;v++){let p=v<s.length?s[v]:s[v]=0,E=p+v;h<=E&&E<u&&(s[v]=p+1)}let g=o.previousIndex;s[g]=h-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!lP(e))throw new Oe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,R9(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new mE(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new nv),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},mE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},yE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nv=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new yE,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function EN(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function IN(){return new bI([new pE])}var bI=(()=>{class n{factories;static \u0275prov=et({token:n,providedIn:"root",factory:IN});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||IN()),deps:[[n,new gj,new ia]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Oe(901,!1)}}return n})();function VP(n){gn(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=o$(r),s=[OP({}),{provide:Sl,useExisting:Xq},...t||[]],o=new Xy({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return n$({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{gn(9)}}var Iy=new WeakSet,SN="",Ry=[];function TN(n){return n.get(Xx,J8)}function jP(){let n=[{provide:Xx,useFactory:()=>{let e=!0;{let t=Ce(Tl);e=!!window._ejsas?.[t]}return e&&aa("NgEventReplay"),e}}];return n.push({provide:fu,useValue:()=>{let e=Ce(jr),{injector:t}=e;if(!Iy.has(e)){let r=Ce(z5);TN(t)&&bN((i,s,o)=>{i.nodeType===Node.ELEMENT_NODE&&(mB(i,s,o),yB(i,r))})}},multi:!0},{provide:bu,useFactory:()=>{let e=Ce(Tl),t=Ce(jr),{injector:r}=t;return()=>{!TN(r)||Iy.has(t)||(Iy.add(t),t.onDestroy(()=>{Iy.delete(t),K1(e),bN(()=>{})}),t.whenStable().then(()=>{if(t.destroyed)return;let i=r.get(_B);d$(i,r);let s=r.get(z5);s.get(SN)?.forEach(vB),s.delete(SN);let o=i.instance;NB(r)?t.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),n}var d$=(n,e)=>{let t=e.get(Tl),r=window._ejsas[t],i=n.instance=new I5(new gy(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let s=S5(t);i.replayEarlyEventInfos(s),K1(t);let o=new my(a=>{h$(e,a,a.currentTarget)});E5(i,o)};function h$(n,e,t){let r=(t&&t.getAttribute(_v))??"";/d\d+/.test(r)?f$(r,n,e,t):e.eventPhase===G1.REPLAY&&iR(e,t)}function f$(n,e,t,r){Ry.push({event:t,currentTarget:r}),J9(e,n,p$)}function p$(n){let e=[...Ry],t=new Set(n);Ry=[];for(let{event:r,currentTarget:i}of e){let s=i.getAttribute(_v);t.has(s)?iR(r,i):Ry.push({event:r,currentTarget:i})}}var CN=!1;function g$(){CN||(CN=!0,TB(),Dq(),Uq(),Rq(),F9(),a9(),k7(),CU())}function m$(n){return n.whenStable()}function BP(){let n=[{provide:vy,useFactory:()=>{let e=!0;return e=!!Ce(Eh,{optional:!0})?.get(sR,null),e&&aa("NgHydration"),e}},{provide:fu,useValue:()=>{A7(!1),Ce(vy)&&(MB(Ip()),g$())},multi:!0}];return n.push({provide:Jx,useFactory:()=>Ce(vy)},{provide:bu,useFactory:()=>{if(Ce(vy)){let e=Ce(jr);return()=>{m$(e).then(()=>{e.destroyed||YR(e)})}}return()=>{}},multi:!0}),ls(n)}function Su(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function la(n){return b1(n)}function Pl(n,e){return y1(n,e?.equal)}var AN=class{[Fs];constructor(e){this[Fs]=e}destroy(){this[Fs].destroy()}};function UP(n){let e=pu(n);if(!e)return null;let t=new ph(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var KP=null;function mc(){return KP}function QP(n){KP??=n}var zv=class{};var Sr=new Je(""),xI=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>Ce(y$),providedIn:"platform"})}return n})(),YP=new Je(""),y$=(()=>{class n extends xI{_location;_history;_doc=Ce(Sr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mc().getBaseHref(this._doc)}onPopState(t){let r=mc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=mc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function RI(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function qP(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function pc(n){return n&&n[0]!=="?"?`?${n}`:n}var yc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>Ce(PI),providedIn:"root"})}return n})(),ZP=new Je(""),PI=(()=>{class n extends yc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ce(Sr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return RI(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+pc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+pc(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+pc(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(at(xI),at(ZP,8))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JP=(()=>{class n extends yc{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=RI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+pc(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+pc(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(at(xI),at(ZP,8))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),Ch=(()=>{class n{_subject=new Tn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=w$(qP($P(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pc(r))}normalize(t){return n.stripTrailingSlash(_$(this._basePath,$P(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=pc;static joinWithSlash=RI;static stripTrailingSlash=qP;static \u0275fac=function(r){return new(r||n)(at(yc))};static \u0275prov=et({token:n,factory:()=>v$(),providedIn:"root"})}return n})();function v$(){return new Ch(at(yc))}function _$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function $P(n){return n.replace(/\/index.html$/,"")}function w$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var XP=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(XP||{});var Ei=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ei||{}),Rn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Rn||{}),fs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(fs||{}),ps={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function b$(n){return hs(n)[Jn.LocaleId]}function E$(n,e,t){let r=hs(n),i=[r[Jn.DayPeriodsFormat],r[Jn.DayPeriodsStandalone]],s=zs(i,e);return zs(s,t)}function I$(n,e,t){let r=hs(n),i=[r[Jn.DaysFormat],r[Jn.DaysStandalone]],s=zs(i,e);return zs(s,t)}function S$(n,e,t){let r=hs(n),i=[r[Jn.MonthsFormat],r[Jn.MonthsStandalone]],s=zs(i,e);return zs(s,t)}function T$(n,e){let r=hs(n)[Jn.Eras];return zs(r,e)}function Lv(n,e){let t=hs(n);return zs(t[Jn.DateFormat],e)}function Fv(n,e){let t=hs(n);return zs(t[Jn.TimeFormat],e)}function Vv(n,e){let r=hs(n)[Jn.DateTimeFormat];return zs(r,e)}function gc(n,e){let t=hs(n),r=t[Jn.NumberSymbols][e];if(typeof r>"u"){if(e===ps.CurrencyDecimal)return t[Jn.NumberSymbols][ps.Decimal];if(e===ps.CurrencyGroup)return t[Jn.NumberSymbols][ps.Group]}return r}function C$(n,e){return hs(n)[Jn.NumberFormats][e]}function eM(n){if(!n[Jn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Jn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function A$(n){let e=hs(n);return eM(e),(e[Jn.ExtraData][2]||[]).map(r=>typeof r=="string"?EI(r):[EI(r[0]),EI(r[1])])}function D$(n,e,t){let r=hs(n);eM(r);let i=[r[Jn.ExtraData][0],r[Jn.ExtraData][1]],s=zs(i,e)||[];return zs(s,t)||[]}function zs(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function EI(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var N$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jv={},x$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function R$(n,e,t,r){let i=B$(n);e=fc(t,e)||e;let o=[],a;for(;e;)if(a=x$.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=nM(r,c),i=j$(i,r));let u="";return o.forEach(h=>{let g=F$(h);u+=g?g(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Hv(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function fc(n,e){let t=b$(n);if(jv[t]??={},jv[t][e])return jv[t][e];let r="";switch(e){case"shortDate":r=Lv(n,fs.Short);break;case"mediumDate":r=Lv(n,fs.Medium);break;case"longDate":r=Lv(n,fs.Long);break;case"fullDate":r=Lv(n,fs.Full);break;case"shortTime":r=Fv(n,fs.Short);break;case"mediumTime":r=Fv(n,fs.Medium);break;case"longTime":r=Fv(n,fs.Long);break;case"fullTime":r=Fv(n,fs.Full);break;case"short":let i=fc(n,"shortTime"),s=fc(n,"shortDate");r=Bv(Vv(n,fs.Short),[i,s]);break;case"medium":let o=fc(n,"mediumTime"),a=fc(n,"mediumDate");r=Bv(Vv(n,fs.Medium),[o,a]);break;case"long":let c=fc(n,"longTime"),u=fc(n,"longDate");r=Bv(Vv(n,fs.Long),[c,u]);break;case"full":let h=fc(n,"fullTime"),g=fc(n,"fullDate");r=Bv(Vv(n,fs.Full),[h,g]);break}return r&&(jv[t][e]=r),r}function Bv(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function To(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function P$(n,e){return To(n,3).substring(0,e)}function Ir(n,e,t=0,r=!1,i=!1){return function(s,o){let a=M$(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return P$(a,e);let c=gc(o,ps.MinusSign);return To(a,e,c,r,i)}}function M$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Vn(n,e,t=Ei.Format,r=!1){return function(i,s){return k$(i,s,n,e,t,r)}}function k$(n,e,t,r,i,s){switch(t){case 2:return S$(e,i,r)[n.getMonth()];case 1:return I$(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let u=A$(e),h=D$(e,i,r),g=u.findIndex(v=>{if(Array.isArray(v)){let[p,E]=v,S=o>=p.hours&&a>=p.minutes,R=o<E.hours||o===E.hours&&a<E.minutes;if(p.hours<E.hours){if(S&&R)return!0}else if(S||R)return!0}else if(v.hours===o&&v.minutes===a)return!0;return!1});if(g!==-1)return h[g]}return E$(e,i,r)[o<12?0:1];case 3:return T$(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Uv(n){return function(e,t,r){let i=-1*r,s=gc(t,ps.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+To(o,2,s)+To(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+To(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+To(o,2,s)+":"+To(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+To(o,2,s)+":"+To(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var O$=0,$v=4;function L$(n){let e=Hv(n,O$,1).getDay();return Hv(n,0,1+(e<=$v?$v:$v+7)-e)}function tM(n){let e=n.getDay(),t=e===0?-3:$v-e;return Hv(n.getFullYear(),n.getMonth(),n.getDate()+t)}function II(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=tM(t),o=L$(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return To(i,n,gc(r,ps.MinusSign))}}function qv(n,e=!1){return function(t,r){let s=tM(t).getFullYear();return To(s,n,gc(r,ps.MinusSign),e)}}var SI={};function F$(n){if(SI[n])return SI[n];let e;switch(n){case"G":case"GG":case"GGG":e=Vn(3,Rn.Abbreviated);break;case"GGGG":e=Vn(3,Rn.Wide);break;case"GGGGG":e=Vn(3,Rn.Narrow);break;case"y":e=Ir(0,1,0,!1,!0);break;case"yy":e=Ir(0,2,0,!0,!0);break;case"yyy":e=Ir(0,3,0,!1,!0);break;case"yyyy":e=Ir(0,4,0,!1,!0);break;case"Y":e=qv(1);break;case"YY":e=qv(2,!0);break;case"YYY":e=qv(3);break;case"YYYY":e=qv(4);break;case"M":case"L":e=Ir(1,1,1);break;case"MM":case"LL":e=Ir(1,2,1);break;case"MMM":e=Vn(2,Rn.Abbreviated);break;case"MMMM":e=Vn(2,Rn.Wide);break;case"MMMMM":e=Vn(2,Rn.Narrow);break;case"LLL":e=Vn(2,Rn.Abbreviated,Ei.Standalone);break;case"LLLL":e=Vn(2,Rn.Wide,Ei.Standalone);break;case"LLLLL":e=Vn(2,Rn.Narrow,Ei.Standalone);break;case"w":e=II(1);break;case"ww":e=II(2);break;case"W":e=II(1,!0);break;case"d":e=Ir(2,1);break;case"dd":e=Ir(2,2);break;case"c":case"cc":e=Ir(7,1);break;case"ccc":e=Vn(1,Rn.Abbreviated,Ei.Standalone);break;case"cccc":e=Vn(1,Rn.Wide,Ei.Standalone);break;case"ccccc":e=Vn(1,Rn.Narrow,Ei.Standalone);break;case"cccccc":e=Vn(1,Rn.Short,Ei.Standalone);break;case"E":case"EE":case"EEE":e=Vn(1,Rn.Abbreviated);break;case"EEEE":e=Vn(1,Rn.Wide);break;case"EEEEE":e=Vn(1,Rn.Narrow);break;case"EEEEEE":e=Vn(1,Rn.Short);break;case"a":case"aa":case"aaa":e=Vn(0,Rn.Abbreviated);break;case"aaaa":e=Vn(0,Rn.Wide);break;case"aaaaa":e=Vn(0,Rn.Narrow);break;case"b":case"bb":case"bbb":e=Vn(0,Rn.Abbreviated,Ei.Standalone,!0);break;case"bbbb":e=Vn(0,Rn.Wide,Ei.Standalone,!0);break;case"bbbbb":e=Vn(0,Rn.Narrow,Ei.Standalone,!0);break;case"B":case"BB":case"BBB":e=Vn(0,Rn.Abbreviated,Ei.Format,!0);break;case"BBBB":e=Vn(0,Rn.Wide,Ei.Format,!0);break;case"BBBBB":e=Vn(0,Rn.Narrow,Ei.Format,!0);break;case"h":e=Ir(3,1,-12);break;case"hh":e=Ir(3,2,-12);break;case"H":e=Ir(3,1);break;case"HH":e=Ir(3,2);break;case"m":e=Ir(4,1);break;case"mm":e=Ir(4,2);break;case"s":e=Ir(5,1);break;case"ss":e=Ir(5,2);break;case"S":e=Ir(6,1);break;case"SS":e=Ir(6,2);break;case"SSS":e=Ir(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Uv(0);break;case"ZZZZZ":e=Uv(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uv(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uv(2);break;default:return null}return SI[n]=e,e}function nM(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function V$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function j$(n,e,t){let i=n.getTimezoneOffset(),s=nM(e,i);return V$(n,-1*(s-i))}function B$(n){if(zP(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Hv(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(N$))return U$(r)}let e=new Date(n);if(!zP(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function U$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,c,u),e}function zP(n){return n instanceof Date&&!isNaN(n.valueOf())}var q$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,HP=22,Wv=".",Np="0",$$=";",z$=",",TI="#";function H$(n,e,t,r,i,s,o=!1){let a="",c=!1;if(!isFinite(n))a=gc(t,ps.Infinity);else{let u=Q$(n);o&&(u=K$(u));let h=e.minInt,g=e.minFrac,v=e.maxFrac;if(s){let B=s.match(q$);if(B===null)throw new Error(`${s} is not a valid digit info`);let W=B[1],oe=B[3],ve=B[5];W!=null&&(h=CI(W)),oe!=null&&(g=CI(oe)),ve!=null?v=CI(ve):oe!=null&&g>v&&(v=g)}Y$(u,g,v);let p=u.digits,E=u.integerLen,S=u.exponent,R=[];for(c=p.every(B=>!B);E<h;E++)p.unshift(0);for(;E<0;E++)p.unshift(0);E>0?R=p.splice(E,p.length):(R=p,p=[0]);let x=[];for(p.length>=e.lgSize&&x.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)x.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&x.unshift(p.join("")),a=x.join(gc(t,r)),R.length&&(a+=gc(t,i)+R.join("")),S&&(a+=gc(t,ps.Exponential)+"+"+S)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function W$(n,e,t){let r=C$(e,XP.Decimal),i=G$(r,gc(e,ps.MinusSign));return H$(n,i,e,ps.Group,ps.Decimal,t)}function G$(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split($$),i=r[0],s=r[1],o=i.indexOf(Wv)!==-1?i.split(Wv):[i.substring(0,i.lastIndexOf(Np)+1),i.substring(i.lastIndexOf(Np)+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf(TI));for(let h=0;h<c.length;h++){let g=c.charAt(h);g===Np?t.minFrac=t.maxFrac=h+1:g===TI?t.maxFrac=h+1:t.posSuf+=g}let u=a.split(z$);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let h=i.length-t.posPre.length-t.posSuf.length,g=s.indexOf(TI);t.negPre=s.substring(0,g).replace(/'/g,""),t.negSuf=s.slice(g+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function K$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function Q$(n){let e=Math.abs(n)+"",t=0,r,i,s,o,a;for((i=e.indexOf(Wv))>-1&&(e=e.replace(Wv,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Np;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Np;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>HP&&(r=r.splice(0,HP-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function Y$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,s=Math.min(Math.max(e,i),t),o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let g=o;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let g=1;g<o;g++)r[g]=0}if(a>=5)if(o-1<0){for(let g=0;g>o;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,u=e+n.integerLen,h=r.reduceRight(function(g,v,p,E){return v=v+g,E[p]=v<10?v:v-10,c&&(E[p]===0&&p>=u?E.pop():c=!1),v>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function CI(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function rM(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var AI=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},da=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new AI(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),WP(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);WP(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ze(wu),Ze(Cl),Ze(bI))};static \u0275dir=Fn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function WP(n,e){n.context.$implicit=e.item}var Co=(()=>{class n{_viewContainer;_context=new DI;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GP(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GP(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ze(wu),Ze(Cl))};static \u0275dir=Fn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),DI=class{$implicit=null;ngIf=null};function GP(n,e){if(n&&!n.createEmbeddedView)throw new Oe(2020,!1)}function iM(n,e){return new Oe(2100,!1)}var Z$="mediumDate",J$=new Je(""),X$=new Je(""),Tu=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??Z$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return R$(t,o,s||this.locale,a)}catch(o){throw iM(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Ze(Dp,16),Ze(J$,24),Ze(X$,24))};static \u0275pipe=mI({name:"date",type:n,pure:!0})}return n})();var ha=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!ez(t))return null;i||=this._locale;try{let s=tz(t);return W$(s,i,r)}catch(s){throw iM(n,s.message)}}static \u0275fac=function(r){return new(r||n)(Ze(Dp,16))};static \u0275pipe=mI({name:"number",type:n,pure:!0})}return n})();function ez(n){return!(n==null||n===""||n!==n)}function tz(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Ao=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ua({type:n});static \u0275inj=ra({})}return n})(),sM="browser",nz="server";function MI(n){return n===nz}var oM=(()=>{class n{static \u0275prov=et({token:n,providedIn:"root",factory:()=>new NI(Ce(Sr),window)})}return n})(),NI=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=rz(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function rz(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Gv=class{};var Kv=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var iz="X-Request-URL",sz="text/plain",oz="application/json",Fue=`${oz}, ${sz}, */*`;var cM=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(cM||{}),kI=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Kv,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Qv=class n extends kI{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=cM.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var az=new Je("");var Vue=RegExp(`^${iz}:`,"m");var cz=new Je(""),uz="b",lz="h",dz="s",hz="st",fz="u",pz="rt",OI=new Je(""),gz=["GET","HEAD"];function mz(n,e){let v=Ce(OI),{isCacheActive:t}=v,r=Nm(v,["isCacheActive"]),{transferCache:i,method:s}=n;if(!t||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!gz.includes(s)||!r.includeRequestsWithAuthHeaders&&yz(n)||r.filter?.(n)===!1)return e(n);let o=Ce(Eh);if(Ce(cz,{optional:!0}))throw new Oe(2803,!1);let c=n.url,u=vz(n,c),h=o.get(u,null),g=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(g=i.includeHeaders),h){let{[uz]:p,[pz]:E,[lz]:S,[dz]:R,[hz]:x,[fz]:B}=h,W=p;switch(E){case"arraybuffer":W=new TextEncoder().encode(p).buffer;break;case"blob":W=new Blob([p]);break}let oe=new Kv(S);return yt(new Qv({body:W,headers:oe,status:R,statusText:x,url:B}))}return e(n).pipe(Pr(p=>{p instanceof Qv}))}function yz(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function aM(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function vz(n,e){let{params:t,method:r,responseType:i}=n,s=aM(t),o=n.serializeBody();o instanceof URLSearchParams?o=aM(o):typeof o!="string"&&(o="");let a=[r,i,e,o,s].join("|"),c=_z(a);return c}function _z(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function uM(n){return[{provide:OI,useFactory:()=>(aa("NgHttpTransferCache"),Re({isCacheActive:!0},n))},{provide:az,useValue:mz,multi:!0},{provide:bu,multi:!0,useFactory:()=>{let e=Ce(jr),t=Ce(OI);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var FI=class extends zv{supportsDOMEvents=!0},VI=class n extends FI{static makeCurrent(){QP(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=wz();return t==null?null:bz(t)}resetBaseElement(){xp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rM(document.cookie,e)}},xp=null;function wz(){return xp=xp||document.querySelector("base"),xp?xp.getAttribute("href"):null}function bz(n){return new URL(n,document.baseURI).pathname}var Ez=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),jI=new Je(""),pM=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Oe(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(at(jI),at(rn))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),Zv=class{_doc;constructor(e){this._doc=e}manager},Yv="ng-app-id";function lM(n){for(let e of n)e.remove()}function dM(n,e){let t=e.createElement("style");return t.textContent=n,t}function Iz(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Yv}="${e}"],link[${Yv}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Yv),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function BI(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gM=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=MI(s),Iz(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,dM);r?.forEach(i=>this.addUsage(i,this.external,BI))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(lM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])lM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,dM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,BI(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yv,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(at(Sr),at(Tl),at(BE,8),at(_u))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),LI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qI=/%COMP%/g;var mM="%COMP%",Sz=`_nghost-${mM}`,Tz=`_ngcontent-${mM}`,Cz=!0,Az=new Je("",{providedIn:"root",factory:()=>Cz});function Dz(n){return Tz.replace(qI,n)}function Nz(n){return Sz.replace(qI,n)}function yM(n,e){return e.map(t=>t.replace(qI,n))}var Jv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=h,this.platformIsServer=MI(a),this.defaultRenderer=new Rp(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===na.ShadowDom&&(r=pt(Re({},r),{encapsulation:na.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Xv?i.applyToHost(t):i instanceof Pp&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case na.Emulated:s=new Xv(c,u,r,this.appId,h,o,a,g,v);break;case na.ShadowDom:return new UI(c,u,t,r,o,a,this.nonce,g,v);default:s=new Pp(c,u,r,h,o,a,g,v);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(at(pM),at(gM),at(Tl),at(Az),at(Sr),at(_u),at(rn),at(BE),at(Ih,8))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),Rp=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(LI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Oe(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=LI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=LI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ac.DashCase|ac.Important)?e.style.setProperty(t,r,i&ac.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ac.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=mc().getGlobalEventTarget(this.doc,e),!e))throw new Oe(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function hM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var UI=class extends Rp{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=yM(i.id,h);for(let v of h){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=v,this.shadowRoot.appendChild(p)}let g=i.getExternalStyles?.();if(g)for(let v of g){let p=BI(v,s);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pp=class extends Rp{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?yM(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xv=class extends Pp{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,u){let h=i+"-"+r.id;super(e,t,r,s,o,a,c,u,h),this.contentAttr=Dz(h),this.hostAttr=Nz(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},xz=(()=>{class n extends Zv{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(at(Sr))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),fM=["alt","control","meta","shift"],Rz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pz={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Mz=(()=>{class n extends Zv{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mc().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),fM.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=Rz[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fM.forEach(o=>{if(o!==i){let a=Pz[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(at(Sr))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})();function vM(n,e){return VP(Re({rootComponent:n},kz(e)))}function kz(n){return{appProviders:[...jz,...n?.providers??[]],platformProviders:Vz}}function Oz(){VI.makeCurrent()}function Lz(){return new ta}function Fz(){return Wx(document),document}var Vz=[{provide:_u,useValue:sM},{provide:VE,useValue:Oz,multi:!0},{provide:Sr,useFactory:Fz,deps:[]}];var jz=[{provide:ov,useValue:"root"},{provide:ta,useFactory:Lz,deps:[]},{provide:jI,useClass:xz,multi:!0,deps:[Sr]},{provide:jI,useClass:Mz,multi:!0,deps:[Sr]},Jv,gM,pM,{provide:gu,useExisting:Jv},{provide:Gv,useClass:Ez,deps:[]},[]];var _M=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(at(Sr))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $I=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=at(Bz),i},providedIn:"root"})}return n})(),Bz=(()=>{class n extends $I{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case ds.NONE:return r;case ds.HTML:return lc(r,"HTML")?qs(r):WE(this._doc,String(r)).toString();case ds.STYLE:return lc(r,"Style")?qs(r):r;case ds.SCRIPT:if(lc(r,"Script"))return qs(r);throw new Oe(5200,!1);case ds.URL:return lc(r,"URL")?qs(r):Ev(String(r));case ds.RESOURCE_URL:if(lc(r,"ResourceURL"))return qs(r);throw new Oe(5201,!1);default:throw new Oe(5202,!1)}}bypassSecurityTrustHtml(t){return dR(t)}bypassSecurityTrustStyle(t){return hR(t)}bypassSecurityTrustScript(t){return fR(t)}bypassSecurityTrustUrl(t){return pR(t)}bypassSecurityTrustResourceUrl(t){return gR(t)}static \u0275fac=function(r){return new(r||n)(at(Sr))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e0=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(e0||{});function Uz(n,e=[],t={}){return{\u0275kind:n,\u0275providers:e}}function wM(){return Uz(e0.EventReplay,jP())}function bM(...n){let e=[],t=new Set,r=t.has(e0.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);return ls([[],BP(),t.has(e0.NoHttpTransferCache)||r?[]:uM({}),e])}var Vt="primary",Hp=Symbol("RouteTitle"),KI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Mh(n){return new KI(n)}function qz(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $z(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fa(n[t],e[t]))return!1;return!0}function fa(n,e){let t=n?QI(n):void 0,r=e?QI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!PM(n[i],e[i]))return!1;return!0}function QI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function MM(n){return n.length>0?n[n.length-1]:null}function Au(n){return O1(n)?n:xl(n)?Ln(Promise.resolve(n)):yt(n)}var zz={exact:OM,subset:LM},kM={exact:Hz,subset:Wz,ignored:()=>!0};function IM(n,e,t){return zz[t.paths](n.root,e.root,t.matrixParams)&&kM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Hz(n,e){return fa(n,e)}function OM(n,e,t){if(!kl(n.segments,e.segments)||!r0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!OM(n.children[r],e.children[r],t))return!1;return!0}function Wz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>PM(n[t],e[t]))}function LM(n,e,t){return FM(n,e,e.segments,t)}function FM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!kl(i,t)||e.hasChildren()||!r0(i,t,r))}else if(n.segments.length===t.length){if(!kl(n.segments,t)||!r0(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!LM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!kl(n.segments,i)||!r0(n.segments,i,r)||!n.children[Vt]?!1:FM(n.children[Vt],e,s,r)}}function r0(n,e,t){return e.every((r,i)=>kM[t](n[i].parameters,r.parameters))}var _c=class{root;queryParams;fragment;_queryParamMap;constructor(e=new mn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Mh(this.queryParams),this._queryParamMap}toString(){return Qz.serialize(this)}},mn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return i0(this)}},Ml=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Mh(this.parameters),this._parameterMap}toString(){return jM(this)}};function Gz(n,e){return kl(n,e)&&n.every((t,r)=>fa(t.parameters,e[r].parameters))}function kl(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Kz(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Vt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Vt&&(t=t.concat(e(i,r)))}),t}var Wp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>new kh,providedIn:"root"})}return n})(),kh=class{parse(e){let t=new ZI(e);return new _c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Mp(e.root,!0)}`,r=Jz(e.queryParams),i=typeof e.fragment=="string"?`#${Yz(e.fragment)}`:"";return`${t}${r}${i}`}},Qz=new kh;function i0(n){return n.segments.map(e=>jM(e)).join("/")}function Mp(n,e){if(!n.hasChildren())return i0(n);if(e){let t=n.children[Vt]?Mp(n.children[Vt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Vt&&r.push(`${i}:${Mp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Kz(n,(r,i)=>i===Vt?[Mp(n.children[Vt],!1)]:[`${i}:${Mp(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Vt]!=null?`${i0(n)}/${t[0]}`:`${i0(n)}/(${t.join("//")})`}}function VM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function t0(n){return VM(n).replace(/%3B/gi,";")}function Yz(n){return encodeURI(n)}function YI(n){return VM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s0(n){return decodeURIComponent(n)}function SM(n){return s0(n.replace(/\+/g,"%20"))}function jM(n){return`${YI(n.path)}${Zz(n.parameters)}`}function Zz(n){return Object.entries(n).map(([e,t])=>`;${YI(e)}=${YI(t)}`).join("")}function Jz(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${t0(t)}=${t0(i)}`).join("&"):`${t0(t)}=${t0(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Xz=/^[^\/()?;#]+/;function zI(n){let e=n.match(Xz);return e?e[0]:""}var eH=/^[^\/()?;=#]+/;function tH(n){let e=n.match(eH);return e?e[0]:""}var nH=/^[^=?&#]+/;function rH(n){let e=n.match(nH);return e?e[0]:""}var iH=/^[^&#]+/;function sH(n){let e=n.match(iH);return e?e[0]:""}var ZI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new mn(e,t)),r}parseSegment(){let e=zI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Oe(4009,!1);return this.capture(e),new Ml(s0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=tH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=zI(this.remaining);i&&(r=i,this.capture(r))}e[s0(t)]=s0(r)}parseQueryParam(e){let t=rH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=sH(this.remaining);o&&(r=o,this.capture(r))}let i=SM(t),s=SM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Oe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Vt);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Vt]:new mn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Oe(4011,!1)}};function BM(n){return n.segments.length>0?new mn([],{[Vt]:n}):n}function UM(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=UM(i);if(r===Vt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new mn(n.segments,e);return oH(t)}function oH(n){if(n.numberOfChildren===1&&n.children[Vt]){let e=n.children[Vt];return new mn(n.segments.concat(e.segments),e.children)}return n}function Ol(n){return n instanceof _c}function aH(n,e,t=null,r=null){let i=qM(n);return $M(i,e,t,r)}function qM(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new mn(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=BM(r);return e??i}function $M(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return HI(i,i,i,t,r);let s=cH(e);if(s.toRoot())return HI(i,i,new mn([],{}),t,r);let o=uH(s,i,n),a=o.processChildren?Op(o.segmentGroup,o.index,s.commands):HM(o.segmentGroup,o.index,s.commands);return HI(i,o.segmentGroup,a,t,r)}function a0(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fp(n){return typeof n=="object"&&n!=null&&n.outlets}function HI(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;n===e?o=t:o=zM(n,e,t);let a=BM(UM(o));return new _c(a,s,i)}function zM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=zM(s,e,t)}),new mn(n.segments,r)}var c0=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&a0(r[0]))throw new Oe(4003,!1);let i=r.find(Fp);if(i&&i!==MM(r))throw new Oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new c0(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new c0(t,e,r)}var xh=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function uH(n,e,t){if(n.isAbsolute)return new xh(e,!0,0);if(!t)return new xh(e,!1,NaN);if(t.parent===null)return new xh(t,!0,0);let r=a0(n.commands[0])?0:1,i=t.segments.length-1+r;return lH(t,i,n.numberOfDoubleDots)}function lH(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Oe(4005,!1);i=r.segments.length}return new xh(r,!1,i-s)}function dH(n){return Fp(n[0])?n[0].outlets:{[Vt]:n}}function HM(n,e,t){if(n??=new mn([],{}),n.segments.length===0&&n.hasChildren())return Op(n,e,t);let r=hH(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new mn(n.segments.slice(0,r.pathIndex),{});return s.children[Vt]=new mn(n.segments.slice(r.pathIndex),n.children),Op(s,0,i)}else return r.match&&i.length===0?new mn(n.segments,{}):r.match&&!n.hasChildren()?JI(n,e,t):r.match?Op(n,0,i):JI(n,e,t)}function Op(n,e,t){if(t.length===0)return new mn(n.segments,{});{let r=dH(t),i={};if(Object.keys(r).some(s=>s!==Vt)&&n.children[Vt]&&n.numberOfChildren===1&&n.children[Vt].segments.length===0){let s=Op(n.children[Vt],e,t);return new mn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=HM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new mn(n.segments,i)}}function hH(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Fp(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!CM(c,u,o))return s;r+=2}else{if(!CM(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function JI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Fp(s)){let c=fH(s.outlets);return new mn(r,c)}if(i===0&&a0(t[0])){let c=n.segments[e];r.push(new Ml(c.path,TM(t[0]))),i++;continue}let o=Fp(s)?s.outlets[Vt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&a0(a)?(r.push(new Ml(o,TM(a))),i+=2):(r.push(new Ml(o,{})),i++)}return new mn(r,{})}function fH(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=JI(new mn([],{}),0,r))}),e}function TM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CM(n,e,t){return n==t.path&&fa(e,t.parameters)}var o0="imperative",Br=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Br||{}),Hs=class{id;url;constructor(e,t){this.id=e,this.url=t}},Oh=class extends Hs{type=Br.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},No=class extends Hs{urlAfterRedirects;type=Br.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ms=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ms||{}),u0=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(u0||{}),vc=class extends Hs{reason;code;type=Br.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cu=class extends Hs{reason;code;type=Br.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Vp=class extends Hs{error;target;type=Br.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},l0=class extends Hs{urlAfterRedirects;state;type=Br.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},XI=class extends Hs{urlAfterRedirects;state;type=Br.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},e2=class extends Hs{urlAfterRedirects;state;shouldActivate;type=Br.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},t2=class extends Hs{urlAfterRedirects;state;type=Br.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n2=class extends Hs{urlAfterRedirects;state;type=Br.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r2=class{route;type=Br.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},i2=class{route;type=Br.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},s2=class{snapshot;type=Br.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o2=class{snapshot;type=Br.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},a2=class{snapshot;type=Br.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},c2=class{snapshot;type=Br.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d0=class{routerEvent;position;anchor;type=Br.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jp=class{},Lh=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function pH(n,e){return n.providers&&!n._injector&&(n._injector=Ap(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Do(n){return n.outlet||Vt}function gH(n,e){let t=n.filter(r=>Do(r)===e);return t.push(...n.filter(r=>Do(r)!==e)),t}function Gp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var u2=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Gp(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Kp(this.rootInjector)}},Kp=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new u2(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(at(ti))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h0=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=l2(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=l2(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=d2(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return d2(e,this._root).map(t=>t.value)}};function l2(n,e){if(n===e.value)return e;for(let t of e.children){let r=l2(n,t);if(r)return r}return null}function d2(n,e){if(n===e.value)return[e];for(let t of e.children){let r=d2(n,t);if(r.length)return r.unshift(e),r}return[]}var gs=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Nh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var f0=class extends h0{snapshot;constructor(e,t){super(e),this.snapshot=t,w2(this,e)}toString(){return this.snapshot.toString()}};function WM(n){let e=mH(n),t=new Kr([new Ml("",{})]),r=new Kr({}),i=new Kr({}),s=new Kr({}),o=new Kr(""),a=new pa(t,r,s,o,i,Vt,n,e.root);return a.snapshot=e.root,new f0(new gs(a,[]),e)}function mH(n){let e={},t={},r={},i="",s=new Rh([],e,r,i,t,Vt,n,null,{});return new g0("",new gs(s,[]))}var pa=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(qt(u=>u[Hp]))??yt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(qt(e=>Mh(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(qt(e=>Mh(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function p0(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Re(Re({},e.params),n.params),data:Re(Re({},e.data),n.data),resolve:Re(Re(Re(Re({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Re({},n.params),data:Re({},n.data),resolve:Re(Re({},n.data),n._resolvedData??{})},i&&KM(i)&&(r.resolve[Hp]=i.title),r}var Rh=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Hp]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mh(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},g0=class extends h0{url;constructor(e,t){super(t),this.url=e,w2(this,t)}toString(){return GM(this._root)}};function w2(n,e){e.value._routerState=n,e.children.forEach(t=>w2(n,t))}function GM(n){let e=n.children.length>0?` { ${n.children.map(GM).join(", ")} } `:"";return`${n.value}${e}`}function WI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fa(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fa(e.params,t.params)||n.paramsSubject.next(t.params),$z(e.url,t.url)||n.urlSubject.next(t.url),fa(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function h2(n,e){let t=fa(n.params,e.params)&&Gz(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||h2(n.parent,e.parent))}function KM(n){return typeof n.title=="string"||n.title===null}var yH=new Je(""),b2=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Vt;activateEvents=new Mr;deactivateEvents=new Mr;attachEvents=new Mr;detachEvents=new Mr;routerOutletData=Fx(void 0);parentContexts=Ce(Kp);location=Ce(wu);changeDetector=Ce(Iu);inputBinder=Ce(w0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Oe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Oe(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new f2(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mu]})}return n})(),f2=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===pa?this.route:e===Kp?this.childContexts:e===yH?this.outletData:this.parent.get(e,t)}},w0=new Je(""),AM=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ap([r.queryParams,r.params,r.data]).pipe(cs(([s,o,a],c)=>(a=Re(Re(Re({},s),o),a),c===0?yt(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=UP(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})();function vH(n,e,t){let r=Bp(n,e._root,t?t._root:void 0);return new f0(r,e)}function Bp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_H(n,e,t);return new gs(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bp(n,a)),o}}let r=wH(e.value),i=e.children.map(s=>Bp(n,s));return new gs(r,i)}}function _H(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bp(n,r,i);return Bp(n,r)})}function wH(n){return new pa(new Kr(n.url),new Kr(n.params),new Kr(n.queryParams),new Kr(n.fragment),new Kr(n.data),n.outlet,n.component,n)}var Up=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},QM="ngNavigationCancelingError";function m0(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ol(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YM(!1,ms.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function YM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[QM]=!0,t.cancellationCode=e,t}function bH(n){return ZM(n)&&Ol(n.url)}function ZM(n){return!!n&&n[QM]}var EH=(n,e,t,r)=>qt(i=>(new p2(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),p2=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),WI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Nh(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Nh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Nh(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Nh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new c2(s.value.snapshot))}),e.children.length&&this.forwardEvent(new o2(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(WI(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),WI(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},y0=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ph=class{component;route;constructor(e,t){this.component=e,this.route=t}};function IH(n,e,t){let r=n._root,i=e?e._root:null;return kp(r,i,t,[r.value])}function SH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vh(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!MN(n)?n:e.get(n):r}function kp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Nh(e);return n.children.forEach(o=>{TH(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Lp(a,t.getContext(o),i)),i}function TH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=CH(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new y0(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?kp(n,e,a?a.children:null,r,i):kp(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ph(a.outlet.component,o))}else o&&Lp(e,a,i),i.canActivateChecks.push(new y0(r)),s.component?kp(n,null,a?a.children:null,r,i):kp(n,null,t,r,i);return i}function CH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!kl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kl(n.url,e.url)||!fa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h2(n,e)||!fa(n.queryParams,e.queryParams);case"paramsChange":default:return!h2(n,e)}}function Lp(n,e,t){let r=Nh(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Lp(o,e.children.getContext(s),t):Lp(o,null,t):Lp(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ph(e.outlet.component,i)):t.canDeactivateChecks.push(new Ph(null,i)):t.canDeactivateChecks.push(new Ph(null,i))}function Qp(n){return typeof n=="function"}function AH(n){return typeof n=="boolean"}function DH(n){return n&&Qp(n.canLoad)}function NH(n){return n&&Qp(n.canActivate)}function xH(n){return n&&Qp(n.canActivateChild)}function RH(n){return n&&Qp(n.canDeactivate)}function PH(n){return n&&Qp(n.canMatch)}function JM(n){return n instanceof Za||n?.name==="EmptyError"}var n0=Symbol("INITIAL_VALUE");function Fh(){return cs(n=>ap(n.map(e=>e.pipe(Ja(1),dy(n0)))).pipe(qt(e=>{for(let t of e)if(t!==!0){if(t===n0)return n0;if(t===!1||MH(t))return t}return!0}),Vi(e=>e!==n0),Ja(1)))}function MH(n){return Ol(n)||n instanceof Up}function kH(n,e){return wr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?yt(pt(Re({},t),{guardsResult:!0})):OH(o,r,i,n).pipe(wr(a=>a&&AH(a)?LH(r,s,n,e):yt(a)),qt(a=>pt(Re({},t),{guardsResult:a})))})}function OH(n,e,t,r){return Ln(n).pipe(wr(i=>UH(i.component,i.route,t,e,r)),Xa(i=>i!==!0,!0))}function LH(n,e,t,r){return Ln(e).pipe(uu(i=>Jd(VH(i.route.parent,r),FH(i.route,r),BH(n,i.path,t),jH(n,i.route,t))),Xa(i=>i!==!0,!0))}function FH(n,e){return n!==null&&e&&e(new a2(n)),yt(!0)}function VH(n,e){return n!==null&&e&&e(new s2(n)),yt(!0)}function jH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return yt(!0);let i=r.map(s=>cy(()=>{let o=Gp(e)??t,a=Vh(s,o),c=NH(a)?a.canActivate(e,n):Qr(o,()=>a(e,n));return Au(c).pipe(Xa())}));return yt(i).pipe(Fh())}function BH(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>SH(o)).filter(o=>o!==null).map(o=>cy(()=>{let a=o.guards.map(c=>{let u=Gp(o.node)??t,h=Vh(c,u),g=xH(h)?h.canActivateChild(r,n):Qr(u,()=>h(r,n));return Au(g).pipe(Xa())});return yt(a).pipe(Fh())}));return yt(s).pipe(Fh())}function UH(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return yt(!0);let o=s.map(a=>{let c=Gp(e)??i,u=Vh(a,c),h=RH(u)?u.canDeactivate(n,e,t,r):Qr(c,()=>u(n,e,t,r));return Au(h).pipe(Xa())});return yt(o).pipe(Fh())}function qH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return yt(!0);let s=i.map(o=>{let a=Vh(o,n),c=DH(a)?a.canLoad(e,t):Qr(n,()=>a(e,t));return Au(c)});return yt(s).pipe(Fh(),XM(r))}function XM(n){return $m(Pr(e=>{if(typeof e!="boolean")throw m0(n,e)}),qt(e=>e===!0))}function $H(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return yt(!0);let s=i.map(o=>{let a=Vh(o,n),c=PH(a)?a.canMatch(e,t):Qr(n,()=>a(e,t));return Au(c)});return yt(s).pipe(Fh(),XM(r))}var qp=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},$p=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Dh(n){return Zd(new qp(n))}function zH(n){return Zd(new Oe(4e3,!1))}function HH(n){return Zd(YM(!1,ms.GuardRejected))}var g2=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return yt(r);if(i.numberOfChildren>1||!i.children[Vt])return zH(`${e.redirectTo}`);i=i.children[Vt]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:h,url:g,outlet:v,params:p,data:E,title:S}=i,R=Qr(s,()=>a({params:p,data:E,queryParams:c,fragment:u,routeConfig:h,url:g,outlet:v,title:S}));if(R instanceof _c)throw new $p(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new $p(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new _c(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new mn(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Oe(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},m2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WH(n,e,t,r,i){let s=ek(n,e,t);return s.matched?(r=pH(e,r),$H(r,e,t,i).pipe(qt(o=>o===!0?s:Re({},m2)))):yt(s)}function ek(n,e,t){if(e.path==="**")return GH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Re({},m2):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qz)(t,n,e);if(!i)return Re({},m2);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?Re(Re({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function GH(n){return{matched:!0,parameters:n.length>0?MM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function DM(n,e,t,r){return t.length>0&&YH(n,t,r)?{segmentGroup:new mn(e,QH(r,new mn(t,n.children))),slicedSegments:[]}:t.length===0&&ZH(n,t,r)?{segmentGroup:new mn(n.segments,KH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new mn(n.segments,n.children),slicedSegments:t}}function KH(n,e,t,r){let i={};for(let s of t)if(b0(n,e,s)&&!r[Do(s)]){let o=new mn([],{});i[Do(s)]=o}return Re(Re({},r),i)}function QH(n,e){let t={};t[Vt]=e;for(let r of n)if(r.path===""&&Do(r)!==Vt){let i=new mn([],{});t[Do(r)]=i}return t}function YH(n,e,t){return t.some(r=>b0(n,e,r)&&Do(r)!==Vt)}function ZH(n,e,t){return t.some(r=>b0(n,e,r))}function b0(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JH(n,e,t){return e.length===0&&!n.children[t]}var y2=class{};function XH(n,e,t,r,i,s,o="emptyOnly"){return new v2(n,e,t,r,i,o,s).recognize()}var eW=31,v2=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new g2(this.urlSerializer,this.urlTree)}noMatchError(e){return new Oe(4002,`'${e.segmentGroup}'`)}recognize(){let e=DM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(qt(({children:t,rootSnapshot:r})=>{let i=new gs(r,t),s=new g0("",i),o=aH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Rh([],Object.freeze({}),Object.freeze(Re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Vt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Vt,t).pipe(qt(r=>({children:r,rootSnapshot:t})),cu(r=>{if(r instanceof $p)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qp?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(qt(o=>o instanceof gs?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ln(s).pipe(uu(o=>{let a=r.children[o],c=gH(t,o);return this.processSegmentGroup(e,c,a,o,i)}),ly((o,a)=>(o.push(...a),o)),lu(null),F1(),wr(o=>{if(o===null)return Dh(r);let a=tk(o);return tW(a),yt(a)}))}processSegment(e,t,r,i,s,o,a){return Ln(t).pipe(uu(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(cu(u=>{if(u instanceof qp)return yt(null);throw u}))),Xa(c=>!!c),cu(c=>{if(JM(c))return JH(r,i,s)?yt(new y2):Dh(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return Do(r)!==o&&(o===Vt||!b0(i,s,r))?Dh(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):Dh(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:g,remainingSegments:v}=ek(t,i,s);if(!c)return Dh(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eW&&(this.allowRedirects=!1));let p=new Rh(s,u,Object.freeze(Re({},this.urlTree.queryParams)),this.urlTree.fragment,NM(i),Do(i),i.component??i._loadedComponent??null,i,xM(i)),E=p0(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(E.params),p.data=Object.freeze(E.data);let S=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,g,p,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(wr(R=>this.processSegment(e,r,t,R.concat(v),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=WH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(cs(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cs(({routes:u})=>{let h=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:p}=c,E=new Rh(v,g,Object.freeze(Re({},this.urlTree.queryParams)),this.urlTree.fragment,NM(r),Do(r),r.component??r._loadedComponent??null,r,xM(r)),S=p0(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let{segmentGroup:R,slicedSegments:x}=DM(t,v,p,u);if(x.length===0&&R.hasChildren())return this.processChildren(h,u,R,E).pipe(qt(W=>new gs(E,W)));if(u.length===0&&x.length===0)return yt(new gs(E,[]));let B=Do(r)===s;return this.processSegment(h,u,R,x,B?Vt:s,!0,E).pipe(qt(W=>new gs(E,W instanceof gs?[W]:[])))}))):Dh(t)))}getChildConfig(e,t,r){return t.children?yt({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?yt({routes:t._loadedRoutes,injector:t._loadedInjector}):qH(e,t,r,this.urlSerializer).pipe(wr(i=>i?this.configLoader.loadChildren(e,t).pipe(Pr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):HH(t))):yt({routes:[],injector:e})}};function tW(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}function nW(n){let e=n.value.routeConfig;return e&&e.path===""}function tk(n){let e=[],t=new Set;for(let r of n){if(!nW(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=tk(r.children);e.push(new gs(r.value,i))}return e.filter(r=>!t.has(r))}function NM(n){return n.data||{}}function xM(n){return n.resolve||{}}function rW(n,e,t,r,i,s){return wr(o=>XH(n,e,t,r,o.extractedUrl,i,s).pipe(qt(({state:a,tree:c})=>pt(Re({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function iW(n,e){return wr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of nk(c))o.add(u);let a=0;return Ln(o).pipe(uu(c=>s.has(c)?sW(c,r,n,e):(c.data=p0(c,c.parent,n).resolve,yt(void 0))),Pr(()=>a++),eh(1),wr(c=>a===o.size?yt(t):Li))})}function nk(n){let e=n.children.map(t=>nk(t)).flat();return[n,...e]}function sW(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!KM(i)&&(s[Hp]=i.title),oW(s,n,e,r).pipe(qt(o=>(n._resolvedData=o,n.data=p0(n,n.parent,t).resolve,null)))}function oW(n,e,t,r){let i=QI(n);if(i.length===0)return yt({});let s={};return Ln(i).pipe(wr(o=>aW(n[o],e,t,r).pipe(Xa(),Pr(a=>{if(a instanceof Up)throw m0(new kh,a);s[o]=a}))),eh(1),qt(()=>s),cu(o=>JM(o)?Li:Zd(o)))}function aW(n,e,t,r){let i=Gp(e)??r,s=Vh(n,i),o=s.resolve?s.resolve(e,t):Qr(i,()=>s(e,t));return Au(o)}function GI(n){return cs(e=>{let t=n(e);return t?Ln(t).pipe(qt(()=>e)):yt(e)})}var rk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Vt);return r}getResolvedTitleForRoute(t){return t.data[Hp]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>Ce(cW),providedIn:"root"})}return n})(),cW=(()=>{class n extends rk{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(at(_M))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yp=new Je("",{providedIn:"root",factory:()=>({})}),uW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Yr({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Zn(0,"router-outlet")},dependencies:[b2],encapsulation:2})}return n})();function E2(n){let e=n.children&&n.children.map(E2),t=e?pt(Re({},n),{children:e}):Re({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=uW),t}var zp=new Je(""),I2=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ce(Ov);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return yt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Au(t.loadComponent()).pipe(qt(ik),Pr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Xd(()=>{this.componentLoaders.delete(t)})),i=new Gd(r,()=>new Tn).pipe(Wd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=lW(r,this.compiler,t,this.onLoadEndListener).pipe(Xd(()=>{this.childrenLoaders.delete(r)})),o=new Gd(s,()=>new Tn).pipe(Wd());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lW(n,e,t,r){return Au(n.loadChildren()).pipe(qt(ik),wr(i=>i instanceof gI||Array.isArray(i)?yt(i):Ln(e.compileModuleAsync(i))),qt(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(zp,[],{optional:!0,self:!0}).flat()),{routes:o.map(E2),injector:s}}))}function dW(n){return n&&typeof n=="object"&&"default"in n}function ik(n){return dW(n)?n.default:n}var S2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>Ce(hW),providedIn:"root"})}return n})(),hW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sk=new Je(""),ok=new Je("");function fW(n,e,t){let r=n.get(ok),i=n.get(Sr);return n.get(rn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),pW(n))),{onViewTransitionCreated:c}=r;return c&&Qr(n,()=>c({transition:a,from:e,to:t})),o})}function pW(n){return new Promise(e=>{mv({read:()=>setTimeout(e)},{injector:n})})}var ak=new Je(""),T2=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Tn;transitionAbortSubject=new Tn;configLoader=Ce(I2);environmentInjector=Ce(ti);destroyRef=Ce(_h);urlSerializer=Ce(Wp);rootContexts=Ce(Kp);location=Ce(Ch);inputBindingEnabled=Ce(w0,{optional:!0})!==null;titleStrategy=Ce(rk);options=Ce(Yp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ce(S2);createViewTransition=Ce(sk,{optional:!0});navigationErrorHandler=Ce(ak,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>yt(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new r2(i)),r=i=>this.events.next(new i2(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(pt(Re({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Kr(null),this.transitions.pipe(Vi(r=>r!==null),cs(r=>{let i=!1,s=!1;return yt(r).pipe(cs(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ms.SupersededByNewNavigation),Li;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?pt(Re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new Cu(o.id,this.urlSerializer.serialize(o.rawUrl),u,u0.IgnoredSameUrlNavigation)),o.resolve(!1),Li}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return yt(o).pipe(cs(u=>(this.events.next(new Oh(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Li:Promise.resolve(u))),rW(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Pr(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=pt(Re({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new l0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:h,source:g,restoredState:v,extras:p}=o,E=new Oh(u,this.urlSerializer.serialize(h),g,v);this.events.next(E);let S=WM(this.rootComponentType).snapshot;return this.currentTransition=r=pt(Re({},o),{targetSnapshot:S,urlAfterRedirects:h,extras:pt(Re({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,yt(r)}else{let u="";return this.events.next(new Cu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,u0.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Li}}),Pr(o=>{let a=new XI(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),qt(o=>(this.currentTransition=r=pt(Re({},o),{guards:IH(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),kH(this.environmentInjector,o=>this.events.next(o)),Pr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw m0(this.urlSerializer,o.guardsResult);let a=new e2(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Vi(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ms.GuardRejected),!1)),GI(o=>{if(o.guards.canActivateChecks.length!==0)return yt(o).pipe(Pr(a=>{let c=new t2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),cs(a=>{let c=!1;return yt(a).pipe(iW(this.paramsInheritanceStrategy,this.environmentInjector),Pr({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",ms.NoDataFromResolver)}}))}),Pr(a=>{let c=new n2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),GI(o=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Pr(h=>{c.component=h}),qt(()=>{})));for(let h of c.children)u.push(...a(h));return u};return ap(a(o.targetSnapshot.root)).pipe(lu(null),Ja(1))}),GI(()=>this.afterPreactivation()),cs(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?Ln(c).pipe(qt(()=>r)):yt(r)}),qt(o=>{let a=vH(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=pt(Re({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Pr(()=>{this.events.next(new jp)}),EH(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ja(1),Pr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new No(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),V1(this.transitionAbortSubject.pipe(Pr(o=>{throw o}))),Xd(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",ms.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),cu(o=>{if(this.destroyed)return r.resolve(!1),Li;if(s=!0,ZM(o))this.events.next(new vc(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),bH(o)?this.events.next(new Lh(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Vp(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Qr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Up){let{message:u,cancellationCode:h}=m0(this.urlSerializer,c);this.events.next(new vc(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new Lh(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Li}))}))}cancelNavigationTransition(t,r,i){let s=new vc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gW(n){return n!==o0}var mW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>Ce(yW),providedIn:"root"})}return n})(),_2=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},yW=(()=>{class n extends _2{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ck=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:()=>Ce(vW),providedIn:"root"})}return n})(),vW=(()=>{class n extends ck{location=Ce(Ch);urlSerializer=Ce(Wp);options=Ce(Yp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=Ce(S2);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _c;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=WM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Oh)this.stateMemento=this.createStateMemento();else if(t instanceof Cu)this.rawUrlTree=r.initialUrl;else if(t instanceof l0){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof jp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof vc&&(t.code===ms.GuardRejected||t.code===ms.NoDataFromResolver)?this.restoreHistory(r):t instanceof Vp?this.restoreHistory(r,!0):t instanceof No&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof _c?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=Re(Re({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=Re(Re({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uk(n,e){n.events.pipe(Vi(t=>t instanceof No||t instanceof vc||t instanceof Vp||t instanceof Cu),qt(t=>t instanceof No||t instanceof Cu?0:(t instanceof vc?t.code===ms.Redirect||t.code===ms.SupersededByNewNavigation:!1)?2:1),Vi(t=>t!==2),Ja(1)).subscribe(()=>{e()})}var _W={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xo=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ce(yI);stateManager=Ce(ck);options=Ce(Yp,{optional:!0})||{};pendingTasks=Ce(oa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ce(T2);urlSerializer=Ce(Wp);location=Ce(Ch);urlHandlingStrategy=Ce(S2);_events=new Tn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ce(mW);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ce(zp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ce(w0,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Yn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof vc&&r.code!==ms.Redirect&&r.code!==ms.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof No)this.navigated=!0;else if(r instanceof Lh){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=Re({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gW(i.source)},o);this.scheduleNavigation(a,o0,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EW(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),o0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=Re({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(E2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=Re(Re({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=qM(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return $M(g,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ol(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,o0,null,r)}navigate(t,r={skipLocationChange:!1}){return bW(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Re({},_W):r===!1?i=Re({},wW):i=r,Ol(t))return IM(this.currentUrlTree,t,i);let s=this.parseUrl(t);return IM(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((g,v)=>{a=g,c=v});let h=this.pendingTasks.add();return uk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bW(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Oe(4008,!1)}function EW(n){return!(n instanceof jp)&&!(n instanceof Lh)}var v0=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Tn;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof No&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ol(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:bR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Ol(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ze(xo),Ze(pa),OE("tabindex"),Ze(ca),Ze(wi),Ze(yc))};static \u0275dir=Fn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&zt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&$s("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Su],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Su],replaceUrl:[2,"replaceUrl","replaceUrl",Su],routerLink:"routerLink"},features:[mu]})}return n})(),lk=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Mr;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof No&&this.update()})}ngAfterContentInit(){yt(this.links.changes,yt(null)).pipe(au()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ln(t).pipe(au()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=IW(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Ze(xo),Ze(wi),Ze(ca),Ze(Iu),Ze(v0,8))};static \u0275dir=Fn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&DP(s,v0,5),r&2){let o;NP(o=xP())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mu]})}return n})();function IW(n){return!!n.paths}var _0=class{};var SW=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Vi(t=>t instanceof No),uu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ap(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ln(i).pipe(au())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=yt(null);let s=i.pipe(wr(o=>o===null?yt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ln([s,o]).pipe(au())}else return s})}static \u0275fac=function(r){return new(r||n)(at(xo),at(Ov),at(ti),at(_0),at(I2))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dk=new Je(""),TW=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof No?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Cu&&t.code===u0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof d0&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new d0(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){XR()};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})();function hk(n,...e){return ls([{provide:zp,multi:!0,useValue:n},[],{provide:pa,useFactory:fk,deps:[xo]},{provide:bu,multi:!0,useFactory:pk},e.map(t=>t.\u0275providers)])}function fk(n){return n.routerState.root}function Zp(n,e){return{\u0275kind:n,\u0275providers:e}}function pk(){let n=Ce($n);return e=>{let t=n.get(jr);if(e!==t.components[0])return;let r=n.get(xo),i=n.get(gk);n.get(C2)===1&&r.initialNavigation(),n.get(mk,null,$t.Optional)?.setUpPreloading(),n.get(dk,null,$t.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gk=new Je("",{factory:()=>new Tn}),C2=new Je("",{providedIn:"root",factory:()=>1});function CW(){return Zp(2,[{provide:C2,useValue:0},{provide:Pv,multi:!0,deps:[$n],useFactory:e=>{let t=e.get(YP,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(xo),s=e.get(gk);uk(i,()=>{r(!0)}),e.get(T2).afterPreactivation=()=>(r(!0),s.closed?yt(void 0):s),i.initialNavigation()}))}}])}function AW(){return Zp(3,[{provide:Pv,multi:!0,useFactory:()=>{let e=Ce(xo);return()=>{e.setUpLocationChangeListener()}}},{provide:C2,useValue:2}])}var mk=new Je("");function DW(n){return Zp(0,[{provide:mk,useExisting:SW},{provide:_0,useExisting:n}])}function NW(){return Zp(8,[AM,{provide:w0,useExisting:AM}])}function xW(n){let e=[{provide:sk,useValue:fW},{provide:ok,useValue:Re({skipNextTransition:!!n?.skipInitialTransition},n)}];return Zp(9,e)}var RW=[Ch,{provide:Wp,useClass:kh},xo,Kp,{provide:pa,useFactory:fk,deps:[xo]},I2,[]],yk=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[RW,[],{provide:zp,multi:!0,useValue:t},[],r?.errorHandler?{provide:ak,useValue:r.errorHandler}:[],{provide:Yp,useValue:r||{}},r?.useHash?MW():kW(),PW(),r?.preloadingStrategy?DW(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?OW(r):[],r?.bindToComponentInputs?NW().\u0275providers:[],r?.enableViewTransitions?xW().\u0275providers:[],LW()]}}static forChild(t){return{ngModule:n,providers:[{provide:zp,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ua({type:n});static \u0275inj=ra({})}return n})();function PW(){return{provide:dk,useFactory:()=>{let n=Ce(oM),e=Ce(rn),t=Ce(Yp),r=Ce(T2),i=Ce(Wp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new TW(i,r,n,e,t)}}}function MW(){return{provide:yc,useClass:JP}}function kW(){return{provide:yc,useClass:PI}}function OW(n){return[n.initialNavigation==="disabled"?AW().\u0275providers:[],n.initialNavigation==="enabledBlocking"?CW().\u0275providers:[]]}var RM=new Je("");function LW(){return[{provide:RM,useFactory:pk},{provide:bu,multi:!0,useExisting:RM}]}var Ft=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ft||{}),ga="*";function vk(n,e){return{type:Ft.Trigger,name:n,definitions:e,options:{}}}function A2(n,e=null){return{type:Ft.Animate,styles:e,timings:n}}function _k(n,e=null){return{type:Ft.Sequence,steps:n,options:e}}function Ll(n){return{type:Ft.Style,styles:n,offset:null}}function E0(n,e,t){return{type:Ft.State,name:n,styles:e,options:t}}function D2(n,e,t=null){return{type:Ft.Transition,expr:n,animation:e,options:t}}var Du=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Jp=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},I0="!";function wk(n){return new Oe(3e3,!1)}function VW(){return new Oe(3100,!1)}function jW(){return new Oe(3101,!1)}function BW(n){return new Oe(3001,!1)}function UW(n){return new Oe(3003,!1)}function qW(n){return new Oe(3004,!1)}function $W(n,e){return new Oe(3005,!1)}function zW(){return new Oe(3006,!1)}function HW(){return new Oe(3007,!1)}function WW(n,e){return new Oe(3008,!1)}function GW(n){return new Oe(3002,!1)}function KW(n,e,t,r,i){return new Oe(3010,!1)}function QW(){return new Oe(3011,!1)}function YW(){return new Oe(3012,!1)}function ZW(){return new Oe(3200,!1)}function JW(){return new Oe(3202,!1)}function XW(){return new Oe(3013,!1)}function eG(n){return new Oe(3014,!1)}function tG(n){return new Oe(3015,!1)}function nG(n){return new Oe(3016,!1)}function rG(n,e){return new Oe(3404,!1)}function iG(n){return new Oe(3502,!1)}function sG(n){return new Oe(3503,!1)}function oG(){return new Oe(3300,!1)}function aG(n){return new Oe(3504,!1)}function cG(n){return new Oe(3301,!1)}function uG(n,e){return new Oe(3302,!1)}function lG(n){return new Oe(3303,!1)}function dG(n,e){return new Oe(3400,!1)}function hG(n){return new Oe(3401,!1)}function fG(n){return new Oe(3402,!1)}function pG(n,e){return new Oe(3505,!1)}function Nu(n){switch(n.length){case 0:return new Du;case 1:return n[0];default:return new Jp(n)}}function kk(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),h=u==o,g=h&&a||new Map;c.forEach((v,p)=>{let E=p,S=v;if(p!=="offset")switch(E=n.normalizePropertyName(E,i),S){case I0:S=t.get(p);break;case ga:S=r.get(p);break;default:S=n.normalizeStyleValue(p,E,S,i);break}g.set(E,S)}),h||s.push(g),a=g,o=u}),i.length)throw iG(i);return s}function Y2(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&N2(t,"start",n)));break;case"done":n.onDone(()=>r(t&&N2(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&N2(t,"destroy",n)));break}}function N2(n,e,t){let r=t.totalTime,i=!!t.disabled,s=Z2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function Z2(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function vs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function bk(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var gG=typeof document>"u"?null:document.documentElement;function J2(n){let e=n.parentNode||n.host||null;return e===gG?null:e}function mG(n){return n.substring(1,6)=="ebkit"}var Fl=null,Ek=!1;function yG(n){Fl||(Fl=vG()||{},Ek=Fl.style?"WebkitAppearance"in Fl.style:!1);let e=!0;return Fl.style&&!mG(n)&&(e=n in Fl.style,!e&&Ek&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fl.style)),e}function vG(){return typeof document<"u"?document.body:null}function Ok(n,e){for(;e;){if(e===n)return!0;e=J2(e)}return!1}function Lk(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var X2=(()=>{class n{validateStyleProperty(t){return yG(t)}containsElement(t,r){return Ok(t,r)}getParentElement(t){return J2(t)}query(t,r,i){return Lk(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new Du(i,s)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})(),Bl=class{static NOOP=new X2},Ul=class{};var _G=1e3,Fk="{{",wG="}}",Vk="ng-enter",O2="ng-leave",S0="ng-trigger",N0=".ng-trigger",Ik="ng-animating",L2=".ng-animating";function wc(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:F2(parseFloat(e[1]),e[2])}function F2(n,e){switch(e){case"s":return n*_G;default:return n}}function x0(n,e,t){return n.hasOwnProperty("duration")?n:bG(n,e,t)}function bG(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(wk(n)),{duration:0,delay:0,easing:""};i=F2(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=F2(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(VW()),a=!0),s<0&&(e.push(jW()),a=!0),a&&e.splice(c,0,wk(n))}return{duration:i,delay:s,easing:o}}function EG(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ma(n,e,t){e.forEach((r,i)=>{let s=eS(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function jl(n,e){e.forEach((t,r)=>{let i=eS(r);n.style[i]=""})}function Xp(n){return Array.isArray(n)?n.length==1?n[0]:_k(n):n}function IG(n,e,t){let r=e.params||{},i=jk(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(BW(s))})}var V2=new RegExp(`${Fk}\\s*(.+?)\\s*${wG}`,"g");function jk(n){let e=[];if(typeof n=="string"){let t;for(;t=V2.exec(n);)e.push(t[1]);V2.lastIndex=0}return e}function tg(n,e,t){let r=`${n}`,i=r.replace(V2,(s,o)=>{let a=e[o];return a==null&&(t.push(UW(o)),a=""),a.toString()});return i==r?n:i}var SG=/-+([a-z0-9])/g;function eS(n){return n.replace(SG,(...e)=>e[1].toUpperCase())}function TG(n,e){return n===0||e===0}function CG(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,tS(n,a)))}}return e}function ys(n,e,t){switch(e.type){case Ft.Trigger:return n.visitTrigger(e,t);case Ft.State:return n.visitState(e,t);case Ft.Transition:return n.visitTransition(e,t);case Ft.Sequence:return n.visitSequence(e,t);case Ft.Group:return n.visitGroup(e,t);case Ft.Animate:return n.visitAnimate(e,t);case Ft.Keyframes:return n.visitKeyframes(e,t);case Ft.Style:return n.visitStyle(e,t);case Ft.Reference:return n.visitReference(e,t);case Ft.AnimateChild:return n.visitAnimateChild(e,t);case Ft.AnimateRef:return n.visitAnimateRef(e,t);case Ft.Query:return n.visitQuery(e,t);case Ft.Stagger:return n.visitStagger(e,t);default:throw qW(e.type)}}function tS(n,e){return window.getComputedStyle(n)[e]}var AG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),R0=class extends Ul{normalizePropertyName(e,t){return eS(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(AG.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push($W(e,r))}return o+s}};var P0="*";function DG(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>NG(r,t,e)):t.push(n),t}function NG(n,e,t){if(n[0]==":"){let c=xG(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(tG(n)),e;let i=r[1],s=r[2],o=r[3];e.push(Sk(i,o));let a=i==P0&&o==P0;s[0]=="<"&&!a&&e.push(Sk(o,i))}function xG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(nG(n)),"* => *"}}var T0=new Set(["true","1"]),C0=new Set(["false","0"]);function Sk(n,e){let t=T0.has(n)||C0.has(n),r=T0.has(e)||C0.has(e);return(i,s)=>{let o=n==P0||n==i,a=e==P0||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?T0.has(n):C0.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?T0.has(e):C0.has(e)),o&&a}}var Bk=":self",RG=new RegExp(`s*${Bk}s*,?`,"g");function Uk(n,e,t,r){return new j2(n).build(e,t,r)}var Tk="",j2=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new B2(t);return this._resetContextStyleTimingState(i),ys(this,Xp(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Tk,e.collectedStyles=new Map,e.collectedStyles.set(Tk,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(zW()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ft.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,s.push(this.visitState(c,t))}),c.name=u}else if(a.type==Ft.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(HW())}),{type:Ft.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{jk(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&t.errors.push(WW(e.name,[...s.values()]))}return{type:Ft.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=ys(this,Xp(e.animation),t),i=DG(e.expr,t.errors);return{type:Ft.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Vl(e.options)}}visitSequence(e,t){return{type:Ft.Sequence,steps:e.steps.map(r=>ys(this,r,t)),options:Vl(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=ys(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ft.Group,steps:s,options:Vl(e.options)}}visitAnimate(e,t){let r=OG(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ll({});if(s.type==Ft.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};r.easing&&(u.easing=r.easing),o=Ll(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ft.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ga?r.push(a):t.errors.push(GW(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(Fk)>=0){s=!0;break}}}),{type:Ft.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(c),g=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(KW(c,h.startTime,h.endTime,s,i)),g=!1),s=h.startTime),g&&u.set(c,{startTime:s,endTime:i}),t.options&&IG(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ft.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(QW()),r;let i=1,s=0,o=[],a=!1,c=!1,u=0,h=e.steps.map(x=>{let B=this._makeStyleAst(x,t),W=B.offset!=null?B.offset:kG(B.styles),oe=0;return W!=null&&(s++,oe=B.offset=W),c=c||oe<0||oe>1,a=a||oe<u,u=oe,o.push(oe),B});c&&t.errors.push(YW()),a&&t.errors.push(ZW());let g=e.steps.length,v=0;s>0&&s<g?t.errors.push(JW()):s==0&&(v=i/(g-1));let p=g-1,E=t.currentTime,S=t.currentAnimateTimings,R=S.duration;return h.forEach((x,B)=>{let W=v>0?B==p?1:v*B:o[B],oe=W*R;t.currentTime=E+S.delay+oe,S.duration=oe,this._validateStyleAst(x,t),x.offset=W,r.styles.push(x)}),r}visitReference(e,t){return{type:Ft.Reference,animation:ys(this,Xp(e.animation),t),options:Vl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ft.AnimateChild,options:Vl(e.options)}}visitAnimateRef(e,t){return{type:Ft.AnimateRef,animation:this.visitReference(e.animation,t),options:Vl(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=PG(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,vs(t.collectedStyles,t.currentQuerySelector,new Map);let a=ys(this,Xp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ft.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Vl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(XW());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:x0(e.timings,t.errors,!0);return{type:Ft.Stagger,animation:ys(this,Xp(e.animation),t),timings:r,options:null}}};function PG(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Bk);return e&&(n=n.replace(RG,"")),n=n.replace(/@\*/g,N0).replace(/@\w+/g,t=>N0+"-"+t.slice(1)).replace(/:animating/g,L2),[n,e]}function MG(n){return n?Re({},n):null}var B2=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function kG(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function OG(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=x0(n,e).duration;return x2(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=x2(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=x0(t,e);return x2(i.duration,i.delay,i.easing)}function Vl(n){return n?(n=Re({},n),n.params&&(n.params=MG(n.params))):n={},n}function x2(n,e,t){return{duration:n,delay:e,easing:t}}function nS(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var ng=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},LG=1,FG=":enter",VG=new RegExp(FG,"g"),jG=":leave",BG=new RegExp(jG,"g");function qk(n,e,t,r,i,s=new Map,o=new Map,a,c,u=[]){return new U2().buildKeyframes(n,e,t,r,i,s,o,a,c,u)}var U2=class{buildKeyframes(e,t,r,i,s,o,a,c,u,h=[]){u=u||new ng;let g=new q2(e,t,u,i,s,h,[]);g.options=c;let v=c.delay?wc(c.delay):0;g.currentTimeline.delayNextStep(v),g.currentTimeline.setStyles([o],null,g.errors,c),ys(this,r,g);let p=g.timelines.filter(E=>E.containsAnimation());if(p.length&&a.size){let E;for(let S=p.length-1;S>=0;S--){let R=p[S];if(R.element===t){E=R;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,g.errors,c)}return p.length?p.map(E=>E.buildKeyframes()):[nS(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:wc(tg(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?wc(r.duration):null,a=r.delay!=null?wc(r.delay):null;return o!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ys(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==Ft.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=M0);let o=wc(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ys(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?wc(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),ys(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?tg(r,t.params,t.errors):r;return x0(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==Ft.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?wc(i.delay):0;s&&(t.previousNode.type===Ft.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=M0);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,h)=>{t.currentQueryIndex=h;let g=t.createSubContext(e.options,u);s&&g.delayNextStep(s),u===t.element&&(c=g.currentTimeline),ys(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe();let v=g.currentTimeline.currentTime;o=Math.max(o,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let g=h.currentTime;ys(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}},M0={},q2=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=M0;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=c||new k0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=wc(r.duration)),r.delay!=null&&(i.delay=wc(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=tg(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=M0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new $2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(VG,"."+this._enterClassName),e=e.replace(BG,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&a.length==0&&o.push(eG(t)),a}},k0=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=LG,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ga),this._currentKeyframe.set(t,ga);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=UG(e,this._globalTimelineStyles);for(let[a,c]of o){let u=tg(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ga),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,g)=>{h===I0?e.add(g):h===ga&&t.add(g)}),r||u.set("offset",c/this.duration),i.push(u)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return nS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},$2=class extends k0{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let u=new Map(e[0]);u.set("offset",Ck(a)),s.push(u);let h=e.length-1;for(let g=1;g<=h;g++){let v=new Map(e[g]),p=v.get("offset"),E=t+p*r;v.set("offset",Ck(E/o)),s.push(v)}r=o,t=0,i="",e=s}return nS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function Ck(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function UG(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,ga)}else for(let[s,o]of i)t.set(s,o)}),t}function Ak(n,e,t,r,i,s,o,a,c,u,h,g,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:h,totalTime:g,errors:v}}var R2={},O0=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return qG(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,u,h){let g=[],v=this.ast.options&&this.ast.options.params||R2,p=a&&a.params||R2,E=this.buildStyles(r,p,g),S=c&&c.params||R2,R=this.buildStyles(i,S,g),x=new Set,B=new Map,W=new Map,oe=i==="void",ve={params:$k(S,v),delay:this.ast.options?.delay},Ie=h?[]:qk(e,t,this.ast.animation,s,o,E,R,ve,u,g),V=0;return Ie.forEach(T=>{V=Math.max(T.duration+T.delay,V)}),g.length?Ak(t,this._triggerName,r,i,oe,E,R,[],[],B,W,V,g):(Ie.forEach(T=>{let O=T.element,U=vs(B,O,new Set);T.preStyleProps.forEach(C=>U.add(C));let I=vs(W,O,new Set);T.postStyleProps.forEach(C=>I.add(C)),O!==t&&x.add(O)}),Ak(t,this._triggerName,r,i,oe,E,R,Ie,[...x.values()],B,W,V))}};function qG(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function $k(n,e){let t=Re({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var z2=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=$k(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=tg(o,i,t));let c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}};function $G(n,e,t){return new H2(n,e,t)}var H2=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new z2(i.style,s,r))}),Dk(this.states,"true","1"),Dk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new O0(e,i,this.states))}),this.fallbackTransition=zG(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function zG(n,e,t){let r=[(o,a)=>!0],i={type:Ft.Sequence,steps:[],options:null},s={type:Ft.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new O0(n,s,e)}function Dk(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var HG=new ng,W2=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],s=Uk(this._driver,t,r,i);if(r.length)throw sG(r);this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=kk(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=qk(this._driver,t,s,Vk,O2,new Map,new Map,r,HG,i),o.forEach(h=>{let g=vs(a,h.element,new Map);h.postStyleProps.forEach(v=>g.set(v,null))})):(i.push(oG()),o=[]),i.length)throw aG(i);a.forEach((h,g)=>{h.forEach((v,p)=>{h.set(p,this._driver.computeStyle(g,p,ga))})});let c=o.map(h=>{let g=a.get(h.element);return this._buildPlayer(h,new Map,g)}),u=Nu(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw cG(e);return t}listen(e,t,r,i){let s=Z2(t,"","","");return Y2(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Nk="ng-animate-queued",WG=".ng-animate-queued",P2="ng-animate-disabled",GG=".ng-animate-disabled",KG="ng-star-inserted",QG=".ng-star-inserted",YG=[],zk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ro="__ng_removed",rg=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=XG(i),r){let s=e,{value:o}=s,a=Nm(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},eg="void",M2=new rg(eg),G2=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Ws(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw uG(r,t);if(r==null||r.length==0)throw lG(t);if(!eK(r))throw dG(r,t);let s=vs(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=vs(this._engine.statesByElement,e,new Map);return a.has(t)||(Ws(e,S0),Ws(e,S0+"-"+t),a.set(t,M2)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw hG(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new ig(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Ws(e,S0),Ws(e,S0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new rg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=M2),!(u.value===eg)&&c.value===u.value){if(!rK(c.params,u.params)){let S=[],R=s.matchStyles(c.value,c.params,S),x=s.matchStyles(u.value,u.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{jl(e,R),ma(e,x)})}return}let v=vs(this._engine.playersByElement,e,[]);v.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let p=s.matchTransition(c.value,u.value,e,u.params),E=!1;if(!p){if(!i)return;p=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:c,toState:u,player:o,isFallbackTransition:E}),E||(Ws(e,Nk),o.onStart(()=>{jh(e,Nk)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);let R=this._engine.playersByElement.get(e);if(R){let x=R.indexOf(o);x>=0&&R.splice(x,1)}}),this.players.push(o),v.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,N0,!0);r.forEach(i=>{if(i[Ro])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let h=this.trigger(e,u,eg,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Nu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,u=r.get(o)||M2,h=new rg(eg),g=new ig(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Ro];(!s||s===zk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ws(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=Z2(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Y2(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},K2=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new G2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(A0(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!A0(t))return;let s=t[Ro];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ws(e,P2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jh(e,P2))}removeNode(e,t,r){if(A0(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ro]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return A0(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,N0,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,L2,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nu(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ro];if(t&&t.setForRemoval){if(e[Ro]=zk,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(P2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,GG,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ws(i,KG)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw fG(e)}_flushAnimations(e,t){let r=new ng,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(X=>{h.add(X);let ie=this.driver.query(X,WG,!0);for(let Z=0;Z<ie.length;Z++)h.add(ie[Z])});let g=this.bodyNode,v=Array.from(this.statesByElement.keys()),p=Pk(v,this.collectedEnterElements),E=new Map,S=0;p.forEach((X,ie)=>{let Z=Vk+S++;E.set(ie,Z),X.forEach(he=>Ws(he,Z))});let R=[],x=new Set,B=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){let ie=this.collectedLeaveElements[X],Z=ie[Ro];Z&&Z.setForRemoval&&(R.push(ie),x.add(ie),Z.hasAnimation?this.driver.query(ie,QG,!0).forEach(he=>x.add(he)):B.add(ie))}let W=new Map,oe=Pk(v,Array.from(x));oe.forEach((X,ie)=>{let Z=O2+S++;W.set(ie,Z),X.forEach(he=>Ws(he,Z))}),e.push(()=>{p.forEach((X,ie)=>{let Z=E.get(ie);X.forEach(he=>jh(he,Z))}),oe.forEach((X,ie)=>{let Z=W.get(ie);X.forEach(he=>jh(he,Z))}),R.forEach(X=>{this.processLeaveNode(X)})});let ve=[],Ie=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(t).forEach(Z=>{let he=Z.player,_e=Z.element;if(ve.push(he),this.collectedEnterElements.length){let le=_e[Ro];if(le&&le.setForMove){if(le.previousTriggersValues&&le.previousTriggersValues.has(Z.triggerName)){let ye=le.previousTriggersValues.get(Z.triggerName),me=this.statesByElement.get(Z.element);if(me&&me.has(Z.triggerName)){let je=me.get(Z.triggerName);je.value=ye,me.set(Z.triggerName,je)}}he.destroy();return}}let Ue=!g||!this.driver.containsElement(g,_e),M=W.get(_e),q=E.get(_e),H=this._buildInstruction(Z,r,q,M,Ue);if(H.errors&&H.errors.length){Ie.push(H);return}if(Ue){he.onStart(()=>jl(_e,H.fromStyles)),he.onDestroy(()=>ma(_e,H.toStyles)),i.push(he);return}if(Z.isFallbackTransition){he.onStart(()=>jl(_e,H.fromStyles)),he.onDestroy(()=>ma(_e,H.toStyles)),i.push(he);return}let Y=[];H.timelines.forEach(le=>{le.stretchStartingKeyframe=!0,this.disabledNodes.has(le.element)||Y.push(le)}),H.timelines=Y,r.append(_e,H.timelines);let se={instruction:H,player:he,element:_e};o.push(se),H.queriedElements.forEach(le=>vs(a,le,[]).push(he)),H.preStyleProps.forEach((le,ye)=>{if(le.size){let me=c.get(ye);me||c.set(ye,me=new Set),le.forEach((je,ke)=>me.add(ke))}}),H.postStyleProps.forEach((le,ye)=>{let me=u.get(ye);me||u.set(ye,me=new Set),le.forEach((je,ke)=>me.add(ke))})});if(Ie.length){let X=[];Ie.forEach(ie=>{X.push(pG(ie.triggerName,ie.errors))}),ve.forEach(ie=>ie.destroy()),this.reportError(X)}let V=new Map,T=new Map;o.forEach(X=>{let ie=X.element;r.has(ie)&&(T.set(ie,ie),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,V))}),i.forEach(X=>{let ie=X.element;this._getPreviousPlayers(ie,!1,X.namespaceId,X.triggerName,null).forEach(he=>{vs(V,ie,[]).push(he),he.destroy()})});let O=R.filter(X=>Mk(X,c,u)),U=new Map;Rk(U,this.driver,B,u,ga).forEach(X=>{Mk(X,c,u)&&O.push(X)});let C=new Map;p.forEach((X,ie)=>{Rk(C,this.driver,new Set(X),c,I0)}),O.forEach(X=>{let ie=U.get(X),Z=C.get(X);U.set(X,new Map([...ie?.entries()??[],...Z?.entries()??[]]))});let N=[],Q=[],be={};o.forEach(X=>{let{element:ie,player:Z,instruction:he}=X;if(r.has(ie)){if(h.has(ie)){Z.onDestroy(()=>ma(ie,he.toStyles)),Z.disabled=!0,Z.overrideTotalTime(he.totalTime),i.push(Z);return}let _e=be;if(T.size>1){let M=ie,q=[];for(;M=M.parentNode;){let H=T.get(M);if(H){_e=H;break}q.push(M)}q.forEach(H=>T.set(H,_e))}let Ue=this._buildAnimation(Z.namespaceId,he,V,s,C,U);if(Z.setRealPlayer(Ue),_e===be)N.push(Z);else{let M=this.playersByElement.get(_e);M&&M.length&&(Z.parentPlayer=Nu(M)),i.push(Z)}}else jl(ie,he.fromStyles),Z.onDestroy(()=>ma(ie,he.toStyles)),Q.push(Z),h.has(ie)&&i.push(Z)}),Q.forEach(X=>{let ie=s.get(X.element);if(ie&&ie.length){let Z=Nu(ie);X.setRealPlayer(Z)}}),i.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<R.length;X++){let ie=R[X],Z=ie[Ro];if(jh(ie,O2),Z&&Z.hasAnimation)continue;let he=[];if(a.size){let Ue=a.get(ie);Ue&&Ue.length&&he.push(...Ue);let M=this.driver.query(ie,L2,!0);for(let q=0;q<M.length;q++){let H=a.get(M[q]);H&&H.length&&he.push(...H)}}let _e=he.filter(Ue=>!Ue.destroyed);_e.length?tK(this,ie,_e):this.processLeaveNode(ie)}return R.length=0,N.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();let ie=this.players.indexOf(X);this.players.splice(ie,1)}),X.play()}),N}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==eg;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,h=u!==s,g=vs(r,u,[]);this._getPreviousPlayers(u,h,o,a,t.toState).forEach(p=>{let E=p.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),p.destroy(),g.push(p)})}jl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,c=t.element,u=[],h=new Set,g=new Set,v=t.timelines.map(E=>{let S=E.element;h.add(S);let R=S[Ro];if(R&&R.removedBeforeQueried)return new Du(E.duration,E.delay);let x=S!==c,B=nK((r.get(S)||YG).map(V=>V.getRealPlayer())).filter(V=>{let T=V;return T.element?T.element===S:!1}),W=s.get(S),oe=o.get(S),ve=kk(this._normalizer,E.keyframes,W,oe),Ie=this._buildPlayer(E,ve,B);if(E.subTimeline&&i&&g.add(S),x){let V=new ig(e,a,S);V.setRealPlayer(Ie),u.push(V)}return Ie});u.forEach(E=>{vs(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>JG(this.playersByQueriedElement,E.element,E))}),h.forEach(E=>Ws(E,Ik));let p=Nu(v);return p.onDestroy(()=>{h.forEach(E=>jh(E,Ik)),ma(c,t.toStyles)}),g.forEach(E=>{vs(i,E,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Du(e.duration,e.delay)}},ig=class{namespaceId;triggerName;element;_player=new Du;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Y2(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function JG(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function XG(n){return n??null}function A0(n){return n&&n.nodeType===1}function eK(n){return n=="start"||n=="done"}function xk(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Rk(n,e,t,r,i){let s=[];t.forEach(c=>s.push(xk(c)));let o=[];r.forEach((c,u)=>{let h=new Map;c.forEach(g=>{let v=e.computeStyle(u,g,i);h.set(g,v),(!v||v.length==0)&&(u[Ro]=ZG,o.push(u))}),n.set(u,h)});let a=0;return t.forEach(c=>xk(c,s[a++])),o}function Pk(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&t.get(c).push(a)}),t}function Ws(n,e){n.classList?.add(e)}function jh(n,e){n.classList?.remove(e)}function tK(n,e,t){Nu(t).onDone(()=>n.processLeaveNode(e))}function nK(n){let e=[];return Hk(n,e),e}function Hk(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Jp?Hk(r.players,e):e.push(r)}}function rK(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function Mk(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var Bh=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new K2(e.body,t,r),this._timelineEngine=new W2(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],u=[],h=Uk(this._driver,s,c,u);if(c.length)throw rG(i,c);a=$G(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=bk(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=bk(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function iK(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=k2(e[0]),e.length>1&&(r=k2(e[e.length-1]))):e instanceof Map&&(t=k2(e)),t||r?new sK(n,t,r):null}var sK=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ma(this._element,this._initialStyles),this._endStyles&&(ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jl(this._element,this._endStyles),this._endStyles=null),ma(this._element,this._initialStyles),this._state=3)}}return n})();function k2(n){let e=null;return n.forEach((t,r)=>{oK(r)&&(e=e||new Map,e.set(r,t))}),e}function oK(n){return n==="display"||n==="position"}var L0=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:tS(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},F0=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ok(e,t)}getParentElement(e){return J2(e)}query(e,t,r){return Lk(e,t,r)}computeStyle(e,t,r){return tS(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let u=new Map,h=o.filter(p=>p instanceof L0);TG(r,i)&&h.forEach(p=>{p.currentSnapshot.forEach((E,S)=>u.set(S,E))});let g=EG(t).map(p=>new Map(p));g=CG(e,g,u);let v=iK(e,g);return new L0(e,g,c,v)}};var D0="@",Wk="@.disabled",V0=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==D0&&t==Wk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Q2=class extends V0{factory;constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==D0?t.charAt(1)=="."&&t==Wk?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==D0){let s=aK(e),o=t.slice(1),a="";return o.charAt(0)!=D0&&([o,a]=cK(o)),this.engine.listen(this.namespaceId,s,o,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function aK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function cK(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var j0=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,h=u.get(i);if(!h){let g=()=>u.delete(i);h=new V0(r,i,this.engine,g),u.set(i,h)}return h}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return t.data.animation.forEach(a),new Q2(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var lK=(()=>{class n extends Bh{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(at(Sr),at(Bl),at(Ul))};static \u0275prov=et({token:n,factory:n.\u0275fac})}return n})();function dK(){return new R0}function hK(n,e,t){return new j0(n,e,t)}var Gk=[{provide:Ul,useFactory:dK},{provide:Bh,useClass:lK},{provide:gu,useFactory:hK,deps:[Jv,Bh,rn]}],Lle=[{provide:Bl,useClass:X2},{provide:jE,useValue:"NoopAnimations"},...Gk],fK=[{provide:Bl,useFactory:()=>new F0},{provide:jE,useFactory:()=>"BrowserAnimations"},...Gk];function Kk(){return aa("NgEagerAnimations"),[...fK]}var Qk=["toast-component",""];function pK(n,e){if(n&1){let t=ri();ue(0,"button",5),zt("click",function(){ar(t);let i=Qt();return cr(i.remove())}),ue(1,"span",6),Ee(2,"\xD7"),ae()()}}function gK(n,e){if(n&1&&(Mv(0),Ee(1),kv()),n&2){let t=Qt(2);Le(),tn("[",t.duplicatesCount+1,"]")}}function mK(n,e){if(n&1&&(ue(0,"div"),Ee(1),ln(2,gK,2,1,"ng-container",4),ae()),n&2){let t=Qt();hc(t.options.titleClass),$s("aria-label",t.title),Le(),tn(" ",t.title," "),Le(),At("ngIf",t.duplicatesCount)}}function yK(n,e){if(n&1&&Zn(0,"div",7),n&2){let t=Qt();hc(t.options.messageClass),At("innerHTML",t.message,GE)}}function vK(n,e){if(n&1&&(ue(0,"div",8),Ee(1),ae()),n&2){let t=Qt();hc(t.options.messageClass),$s("aria-label",t.message),Le(),tn(" ",t.message," ")}}function _K(n,e){if(n&1&&(ue(0,"div"),Zn(1,"div",9),ae()),n&2){let t=Qt();Le(),Rl("width",t.width()+"%")}}function wK(n,e){if(n&1){let t=ri();ue(0,"button",5),zt("click",function(){ar(t);let i=Qt();return cr(i.remove())}),ue(1,"span",6),Ee(2,"\xD7"),ae()()}}function bK(n,e){if(n&1&&(Mv(0),Ee(1),kv()),n&2){let t=Qt(2);Le(),tn("[",t.duplicatesCount+1,"]")}}function EK(n,e){if(n&1&&(ue(0,"div"),Ee(1),ln(2,bK,2,1,"ng-container",4),ae()),n&2){let t=Qt();hc(t.options.titleClass),$s("aria-label",t.title),Le(),tn(" ",t.title," "),Le(),At("ngIf",t.duplicatesCount)}}function IK(n,e){if(n&1&&Zn(0,"div",7),n&2){let t=Qt();hc(t.options.messageClass),At("innerHTML",t.message,GE)}}function SK(n,e){if(n&1&&(ue(0,"div",8),Ee(1),ae()),n&2){let t=Qt();hc(t.options.messageClass),$s("aria-label",t.message),Le(),tn(" ",t.message," ")}}function TK(n,e){if(n&1&&(ue(0,"div"),Zn(1,"div",9),ae()),n&2){let t=Qt();Le(),Rl("width",t.width()+"%")}}var rS=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},iS=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},sS=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Tn;_activate=new Tn;_manualClose=new Tn;_resetTimeout=new Tn;_countDuplicate=new Tn;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},Uh=class{toastId;config;message;title;toastType;toastRef;_onTap=new Tn;_onAction=new Tn;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Yk={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Zk=new Je("ToastConfig"),oS=class extends iS{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},CK=(()=>{class n{_document=Ce(Sr);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aS=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},AK=(()=>{class n{_overlayContainer=Ce(CK);_componentFactoryResolver=Ce(Th);_appRef=Ce(jr);_document=Ce(Sr);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new oS(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new aS(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ya=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=Re(Re({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Re(Re({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}error(t,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}info(t,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}warning(t,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}clear(t){for(let r of this.toasts)if(t!==void 0){if(r.toastId===t){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(t){let r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===t;if((!o||c)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return Re(Re({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(ds.HTML,r));let h=new sS(c),g=new Uh(this.index,s,u,i,t,h),v=[{provide:Uh,useValue:g}],p=$n.create({providers:v,parent:this._injector}),E=new rS(s.toastComponent,p),S=c.attach(E,s.newestOnTop);h.componentInstance=S.instance;let R={toastId:this.index,title:i||"",message:r||"",toastRef:h,onShown:h.afterActivate(),onHidden:h.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:S};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{R.toastRef.activate()})),this.toasts.push(R),R}static \u0275fac=function(r){return new(r||n)(at(Zk),at(AK),at($n),at($I),at(rn))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DK=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Us(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=Us({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>pt(Re({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>pt(Re({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>pt(Re({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(Ze(ya),Ze(Uh),Ze(rn))};static \u0275cmp=Yr({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&zt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(vI("@flyInOut",i._state),hc(i.toastClasses),Rl("display",i.displayStyle))},attrs:Qk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&ln(0,pK,3,0,"button",0)(1,mK,3,5,"div",1)(2,yK,1,3,"div",2)(3,vK,2,4,"div",3)(4,_K,2,2,"div",4),r&2&&(At("ngIf",i.options.closeButton),Le(),At("ngIf",i.title),Le(),At("ngIf",i.message&&i.options.enableHtml),Le(),At("ngIf",i.message&&!i.options.enableHtml),Le(),At("ngIf",i.options.progressBar))},dependencies:[Co],encapsulation:2,data:{animation:[vk("flyInOut",[E0("inactive",Ll({opacity:0})),E0("active",Ll({opacity:1})),E0("removed",Ll({opacity:0})),D2("inactive => active",A2("{{ easeTime }}ms {{ easing }}")),D2("active => removed",A2("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),NK=pt(Re({},Yk),{toastComponent:DK}),Jk=(n={})=>ls([{provide:Zk,useValue:{default:NK,config:n}}]);var xK=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Us(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Us("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||n)(Ze(ya),Ze(Uh),Ze(jr))};static \u0275cmp=Yr({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&zt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(hc(i.toastClasses),Rl("display",i.displayStyle))},attrs:Qk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&ln(0,wK,3,0,"button",0)(1,EK,3,5,"div",1)(2,IK,1,3,"div",2)(3,SK,2,4,"div",3)(4,TK,2,2,"div",4),r&2&&(At("ngIf",i.options.closeButton),Le(),At("ngIf",i.title),Le(),At("ngIf",i.message&&i.options.enableHtml),Le(),At("ngIf",i.message&&!i.options.enableHtml),Le(),At("ngIf",i.options.progressBar))},dependencies:[Co],encapsulation:2,changeDetection:0})}return n})(),Yle=pt(Re({},Yk),{toastComponent:xK});var Xk=()=>{};var tO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},RK=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,h=s>>2,g=(s&3)<<4|a>>4,v=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(v=64)),r.push(t[h],t[g],t[v],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RK(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||g==null)throw new uS;let v=s<<2|a>>4;if(r.push(v),u!==64){let p=a<<4&240|u>>2;if(r.push(p),g!==64){let E=u<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},uS=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PK=function(n){let e=tO(n);return U0.encodeByteArray(e,!0)},sg=function(n){return PK(n).replace(/\./g,"")},q0=function(n){try{return U0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MK=()=>nO().__FIREBASE_DEFAULTS__,kK=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OK=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&q0(n[1]);return e&&JSON.parse(e)},$0=()=>{try{return Xk()||MK()||kK()||OK()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rO=n=>{var e,t;return(t=(e=$0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},iO=n=>{let e=rO(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dS=()=>{var n;return(n=$0())===null||n===void 0?void 0:n.config},sO=n=>{var e;return(e=$0())===null||e===void 0?void 0:e[`_${n}`]};var ql=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function oO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sg(JSON.stringify(t)),sg(JSON.stringify(o)),""].join(".")}function _s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_s())}function LK(){var n;let e=(n=$0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dO(){return!LK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function og(){try{return typeof indexedDB=="object"}catch{return!1}}function hO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var FK="FirebaseError",Gs=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FK,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}},Po=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gs(i,a,r)}};function VK(n,e){return n.replace(jK,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jK=/\{\$([^}]+)}/g;function $l(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(eO(s)&&eO(o)){if(!$l(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function eO(n){return n!==null&&typeof n=="object"}function hS(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fO(n,e){let t=new lS(n,e);return t.subscribe.bind(t)}var lS=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");BK(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=cS),i.error===void 0&&(i.error=cS),i.complete===void 0&&(i.complete=cS);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BK(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cS(){}var ede=4*60*60*1e3;function Zr(n){return n&&n._delegate?n._delegate:n}var Ii=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zl="[DEFAULT]";var fS=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ql;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qK(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return G(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UK(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UK(n){return n===zl?void 0:n}function qK(n){return n.instantiationMode==="EAGER"}var z0=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new fS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var $K=[],Yt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Yt||{}),zK={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},HK=Yt.INFO,WK={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},GK=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=WK[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},va=class{constructor(e){this.name=e,this._logLevel=HK,this._logHandler=GK,this._userLogHandler=null,$K.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}};var KK=(n,e)=>e.some(t=>n instanceof t),pO,gO;function QK(){return pO||(pO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YK(){return gO||(gO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mO=new WeakMap,gS=new WeakMap,yO=new WeakMap,pS=new WeakMap,yS=new WeakMap;function ZK(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(_a(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&mO.set(t,n)}).catch(()=>{}),yS.set(e,n),e}function JK(n){if(gS.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});gS.set(n,e)}var mS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _a(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vO(n){mS=n(mS)}function XK(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(H0(this),e,...t);return yO.set(r,e.sort?e.sort():[e]),_a(r)}:YK().includes(n)?function(...e){return n.apply(H0(this),e),_a(mO.get(this))}:function(...e){return _a(n.apply(H0(this),e))}}function eQ(n){return typeof n=="function"?XK(n):(n instanceof IDBTransaction&&JK(n),KK(n,QK())?new Proxy(n,mS):n)}function _a(n){if(n instanceof IDBRequest)return ZK(n);if(pS.has(n))return pS.get(n);let e=eQ(n);return e!==n&&(pS.set(n,e),yS.set(e,n)),e}var H0=n=>yS.get(n);function wO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=_a(o);return r&&o.addEventListener("upgradeneeded",c=>{r(_a(o.result),c.oldVersion,c.newVersion,_a(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var tQ=["get","getKey","getAll","getAllKeys","count"],nQ=["put","add","delete","clear"],vS=new Map;function _O(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vS.get(e))return vS.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tQ.includes(t)))return;let s=function(o,...a){return G(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return vS.set(e,s),s}vO(n=>pt(Re({},n),{get:(e,t,r)=>_O(e,t)||n.get(e,t,r),has:(e,t)=>!!_O(e,t)||n.has(e,t)}));var wS=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rQ(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rQ(n){let e=n.getComponent();return e?.type==="VERSION"}var bS="@firebase/app",bO="0.11.4";var bc=new va("@firebase/app"),iQ="@firebase/app-compat",sQ="@firebase/analytics-compat",oQ="@firebase/analytics",aQ="@firebase/app-check-compat",cQ="@firebase/app-check",uQ="@firebase/auth",lQ="@firebase/auth-compat",dQ="@firebase/database",hQ="@firebase/data-connect",fQ="@firebase/database-compat",pQ="@firebase/functions",gQ="@firebase/functions-compat",mQ="@firebase/installations",yQ="@firebase/installations-compat",vQ="@firebase/messaging",_Q="@firebase/messaging-compat",wQ="@firebase/performance",bQ="@firebase/performance-compat",EQ="@firebase/remote-config",IQ="@firebase/remote-config-compat",SQ="@firebase/storage",TQ="@firebase/storage-compat",CQ="@firebase/firestore",AQ="@firebase/vertexai",DQ="@firebase/firestore-compat",NQ="firebase",xQ="11.6.0";var ES="[DEFAULT]",RQ={[bS]:"fire-core",[iQ]:"fire-core-compat",[oQ]:"fire-analytics",[sQ]:"fire-analytics-compat",[cQ]:"fire-app-check",[aQ]:"fire-app-check-compat",[uQ]:"fire-auth",[lQ]:"fire-auth-compat",[dQ]:"fire-rtdb",[hQ]:"fire-data-connect",[fQ]:"fire-rtdb-compat",[pQ]:"fire-fn",[gQ]:"fire-fn-compat",[mQ]:"fire-iid",[yQ]:"fire-iid-compat",[vQ]:"fire-fcm",[_Q]:"fire-fcm-compat",[wQ]:"fire-perf",[bQ]:"fire-perf-compat",[EQ]:"fire-rc",[IQ]:"fire-rc-compat",[SQ]:"fire-gcs",[TQ]:"fire-gcs-compat",[CQ]:"fire-fst",[DQ]:"fire-fst-compat",[AQ]:"fire-vertex","fire-js":"fire-js",[NQ]:"fire-js-all"};var ag=new Map,PQ=new Map,IS=new Map;function EO(n,e){try{n.container.addComponent(e)}catch(t){bc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mo(n){let e=n.name;if(IS.has(e))return bc.debug(`There were multiple attempts to register component ${e}.`),!1;IS.set(e,n);for(let t of ag.values())EO(t,n);for(let t of PQ.values())EO(t,n);return!0}function W0(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ec(n){return n==null?!1:n.settings!==void 0}var MQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xu=new Po("app","Firebase",MQ);var SS=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xu.create("app-deleted",{appName:this._name})}};var qh=xQ;function AS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ES,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xu.create("bad-app-name",{appName:String(i)});if(t||(t=dS()),!t)throw xu.create("no-options");let s=ag.get(i);if(s){if($l(t,s.options)&&$l(r,s.config))return s;throw xu.create("duplicate-app",{appName:i})}let o=new z0(i);for(let c of IS.values())o.addComponent(c);let a=new SS(t,r,o);return ag.set(i,a),a}function $h(n=ES){let e=ag.get(n);if(!e&&n===ES&&dS())return AS();if(!e)throw xu.create("no-app",{appName:n});return e}function G0(){return Array.from(ag.values())}function hr(n,e,t){var r;let i=(r=RQ[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bc.warn(a.join(" "));return}Mo(new Ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kQ="firebase-heartbeat-database",OQ=1,cg="firebase-heartbeat-store",_S=null;function CO(){return _S||(_S=wO(kQ,OQ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cg)}catch(t){console.warn(t)}}}}).catch(n=>{throw xu.create("idb-open",{originalErrorMessage:n.message})})),_S}function LQ(n){return G(this,null,function*(){try{let t=(yield CO()).transaction(cg),r=yield t.objectStore(cg).get(AO(n));return yield t.done,r}catch(e){if(e instanceof Gs)bc.warn(e.message);else{let t=xu.create("idb-get",{originalErrorMessage:e?.message});bc.warn(t.message)}}})}function IO(n,e){return G(this,null,function*(){try{let r=(yield CO()).transaction(cg,"readwrite");yield r.objectStore(cg).put(e,AO(n)),yield r.done}catch(t){if(t instanceof Gs)bc.warn(t.message);else{let r=xu.create("idb-set",{originalErrorMessage:t?.message});bc.warn(r.message)}}})}function AO(n){return`${n.name}!${n.options.appId}`}var FQ=1024,VQ=30,TS=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new CS(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return G(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VQ){let o=BQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bc.warn(r)}})}getHeartbeatsHeader(){return G(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=SO(),{heartbeatsToSend:r,unsentEntries:i}=jQ(this._heartbeatsCache.heartbeats),s=sg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return bc.warn(t),""}})}};function SO(){return new Date().toISOString().substring(0,10)}function jQ(n,e=FQ){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),TO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var CS=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return G(this,null,function*(){return og()?hO().then(()=>!0).catch(()=>!1):!1})}read(){return G(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield LQ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return G(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return G(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function TO(n){return sg(JSON.stringify({version:2,heartbeats:n})).length}function BQ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function UQ(n){Mo(new Ii("platform-logger",e=>new wS(e),"PRIVATE")),Mo(new Ii("heartbeat",e=>new TS(e),"PRIVATE")),hr(bS,bO,n),hr(bS,bO,"esm2017"),hr("fire-js","")}UQ("");var qQ="firebase",$Q="11.6.0";hr(qQ,$Q,"app");function DS(n){n===void 0&&(av(DS),n=Ce($n));let e=n.get(gv);return t=>new Ut(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Wl=new uc("ANGULARFIRE2_VERSION");function Q0(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Hh=(n,e)=>{let t=e?[e]:G0(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},zh=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(zh||{}),DO=wI()&&typeof Zone<"u"?zh.WARN:zh.SILENT;var K0=class{zone;delegate;constructor(e,t=M1){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Gl=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=Ce(rn);this.outsideAngular=t.runOutsideAngular(()=>new K0(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new K0(typeof Zone>"u"?void 0:Zone.current,P1))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NO=!1;function zQ(n,e){!NO&&(DO>zh.SILENT||wI())&&(NO=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),DO>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function HQ(n){let e=Ce(rn,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Hl(n){let e=Ce(rn,{optional:!0});return e?e.run(()=>n()):n()}var WQ=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Qr(t,()=>Hl(()=>n.apply(void 0,r)))),ii=(n,e,t)=>(t||=e?zh.WARN:zh.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=Ce(Gl),o=Ce(gv),a=Ce(ti)}catch{return zQ(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Hl(()=>o.add())),i[u]=WQ(i[u],r,a));let c=HQ(()=>n.apply(this,i));return e?c instanceof Ut?c.pipe(ou(s.outsideAngular),su(s.insideAngular),DS(a)):c instanceof Promise?Hl(()=>new Promise((u,h)=>{o.run(()=>c).then(g=>Qr(a,()=>Hl(()=>u(g))),g=>Qr(a,()=>Hl(()=>h(g))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Hl(()=>c):c instanceof Ut?c.pipe(ou(s.outsideAngular),su(s.insideAngular)):Hl(()=>c)});var Kl=class{constructor(e){return e}},ug=class{constructor(){return G0()}};function GQ(n){return n&&n.length===1?n[0]:new Kl($h())}var NS=new Je("angularfire2._apps"),KQ={provide:Kl,useFactory:GQ,deps:[[new ia,NS]]},QQ={provide:ug,deps:[[new ia,NS]]};function YQ(n){return(e,t)=>{let r=t.get(_u);hr("angularfire",Wl.full,"core"),hr("angularfire",Wl.full,"app"),hr("angular",kP.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Kl(i)}}function xO(n,...e){return ls([KQ,QQ,{provide:NS,useFactory:YQ(n),multi:!0,deps:[rn,$n,Gl,...e]}])}var RO=ii(AS,!0);var ZQ=new Map,JQ={activated:!1,tokenObservers:[]},XQ={initialized:!1,enabled:!1};function ko(n){return ZQ.get(n)||Object.assign({},JQ)}function OO(){return XQ}var eY="https://content-firebaseappcheck.googleapis.com/v1";var tY="exchangeDebugToken",PO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},she=24*60*60*1e3;var PS=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return G(this,null,function*(){this.stop();try{this.pending=new ql,this.pending.promise.catch(t=>{}),yield nY(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ql,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function nY(n){return new Promise(e=>{setTimeout(e,n)})}var rY={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ru=new Po("appCheck","AppCheck",rY);function LO(n){if(!ko(n).activated)throw Ru.create("use-before-activation",{appName:n.name})}function FO(r,i){return G(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(p){throw Ru.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw Ru.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(p){throw Ru.create("fetch-parse-error",{originalErrorMessage:p?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ru.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let g=Number(h[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function VO(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${eY}/projects/${t}/apps/${r}:${tY}?key=${i}`,body:{debug_token:e}}}var iY="firebase-app-check-database",sY=1,MS="firebase-app-check-store";var Y0=null;function oY(){return Y0||(Y0=new Promise((n,e)=>{try{let t=indexedDB.open(iY,sY);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ru.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(MS,{keyPath:"compositeKey"})}}}catch(t){e(Ru.create("storage-open",{originalErrorMessage:t?.message}))}}),Y0)}function aY(n,e){return cY(uY(n),e)}function cY(n,e){return G(this,null,function*(){let r=(yield oY()).transaction(MS,"readwrite"),s=r.objectStore(MS).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(Ru.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function uY(n){return`${n.options.appId}-${n.name}`}var lg=new va("@firebase/app-check");function xS(n,e){return og()?aY(n,e).catch(t=>{lg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jO(){return OO().enabled}function BO(){return G(this,null,function*(){let n=OO();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lY={error:"UNKNOWN_ERROR"};function dY(n){return U0.encodeString(JSON.stringify(n),!1)}function kS(n,e=!1,t=!1){return G(this,null,function*(){let r=n.app;LO(r);let i=ko(r),s=i.token,o;if(s&&!dg(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(dg(u)?s=u:yield xS(r,void 0))}if(!e&&s&&dg(s))return{token:s.token};let a=!1;if(jO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=FO(VO(r,yield BO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield xS(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?lg.warn(u.message):t&&lg.error(u),RS(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield ko(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?lg.warn(u.message):t&&lg.error(u),o=u}let c;return s?o?dg(s)?c={token:s.token,internalError:o}:c=RS(o):(c={token:s.token},i.token=s,yield xS(r,s)):c=RS(o),a&&gY(r,c),c})}function hY(n){return G(this,null,function*(){let e=n.app;LO(e);let{provider:t}=ko(e);if(jO()){let r=yield BO(),{token:i}=yield FO(VO(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function fY(n,e,t,r){let{app:i}=n,s=ko(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&dg(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),MO(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MO(n))}function UO(n,e){let t=ko(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function MO(n){let{app:e}=n,t=ko(e),r=t.tokenRefresher;r||(r=pY(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function pY(n){let{app:e}=n;return new PS(()=>G(this,null,function*(){let t=ko(e),r;if(t.token?r=yield kS(n,!0):r=yield kS(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ko(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},PO.RETRIAL_MIN_WAIT,PO.RETRIAL_MAX_WAIT)}function gY(n,e){let t=ko(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function dg(n){return n.expireTimeMillis-Date.now()>0}function RS(n){return{token:dY(lY),error:n}}var OS=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ko(this.app);for(let t of e)UO(this.app,t.next);return Promise.resolve()}};function mY(n,e){return new OS(n,e)}function yY(n){return{getToken:e=>kS(n,e),getLimitedUseToken:()=>hY(n),addTokenListener:e=>fY(n,"INTERNAL",e),removeTokenListener:e=>UO(n.app,e)}}var vY="@firebase/app-check",_Y="0.8.13";var wY="app-check",kO="app-check-internal";function bY(){Mo(new Ii(wY,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return mY(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kO).initialize()})),Mo(new Ii(kO,n=>{let e=n.getProvider("app-check").getImmediate();return yY(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),hr(vY,_Y)}bY();var EY="app-check";var Z0=class{constructor(){return Hh(EY)}};var IY=["localhost","0.0.0.0","127.0.0.1"],vhe=typeof window<"u"&&IY.includes(window.location.hostname);function QO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YO=QO,ZO=new Po("auth","Firebase",QO());var t_=new va("@firebase/auth");function TY(n,...e){t_.logLevel<=Yt.WARN&&t_.warn(`Auth (${qh}): ${n}`,...e)}function X0(n,...e){t_.logLevel<=Yt.ERROR&&t_.error(`Auth (${qh}): ${n}`,...e)}function qO(n,...e){throw GS(n,...e)}function WS(n,...e){return GS(n,...e)}function JO(n,e,t){let r=Object.assign(Object.assign({},YO()),{[e]:t});return new Po("auth","Firebase",r).create(e,{appName:n.name})}function e_(n){return JO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GS(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZO.create(n,...e)}function dn(n,e,...t){if(!n)throw GS(e,...t)}function hg(n){let e="INTERNAL ASSERTION FAILED: "+n;throw X0(e),new Error(e)}function n_(n,e){n||hg(e)}function CY(){return $O()==="http:"||$O()==="https:"}function $O(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function AY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CY()||uO()||"connection"in navigator)?navigator.onLine:!0}function DY(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Zl=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,n_(t>e,"Short delay should be less than long delay!"),this.isMobile=aO()||lO()}get(){return AY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function NY(n,e){n_(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var r_=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PY=new Zl(3e4,6e4);function XO(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function c_(s,o,a,c){return G(this,arguments,function*(n,e,t,r,i={}){return eL(n,i,()=>G(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let g=hS(Object.assign({key:n.config.apiKey},h)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:v},u);return cO()||(p.referrerPolicy="no-referrer"),r_.fetch()(yield tL(n,n.config.apiHost,t,g),p)}))})}function eL(n,e,t){return G(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},xY),e);try{let i=new VS(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw J0(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw J0(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw J0(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw J0(n,"user-disabled",o);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JO(n,h,u);qO(n,h)}}catch(i){if(i instanceof Gs)throw i;qO(n,"network-request-failed",{message:String(i)})}})}function tL(n,e,t,r){return G(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?NY(n.config,i):`${n.config.apiScheme}://${i}`;return RY.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var VS=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(WS(this.auth,"network-request-failed")),PY.get())})}};function J0(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=WS(n,e,r);return i.customData._tokenResponse=t,i}function MY(n,e){return G(this,null,function*(){return c_(n,"POST","/v1/accounts:delete",e)})}function i_(n,e){return G(this,null,function*(){return c_(n,"POST","/v1/accounts:lookup",e)})}function fg(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function KS(n,e=!1){return G(this,null,function*(){let t=Zr(n),r=yield t.getIdToken(e),i=nL(r);dn(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:fg(LS(i.auth_time)),issuedAtTime:fg(LS(i.iat)),expirationTime:fg(LS(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function LS(n){return Number(n)*1e3}function nL(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return X0("JWT malformed, contained fewer than 3 sections"),null;try{let i=q0(t);return i?JSON.parse(i):(X0("Failed to decode base64 JWT payload"),null)}catch(i){return X0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zO(n){let e=nL(n);return dn(e,"internal-error"),dn(typeof e.exp<"u","internal-error"),dn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function jS(n,e,t=!1){return G(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gs&&kY(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function kY({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var BS=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>G(this,null,function*(){yield this.iteration()}),t)}iteration(){return G(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var gg=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fg(this.lastLoginAt),this.creationTime=fg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function s_(n){return G(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield jS(n,i_(t,{idToken:r}));dn(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rL(s.providerUserInfo):[],a=OY(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,h=c?u:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,g)})}function QS(n){return G(this,null,function*(){let e=Zr(n);yield s_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rL(n){return n.map(e=>{var{providerId:t}=e,r=k1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LY(n,e){return G(this,null,function*(){let t=yield eL(n,{},()=>G(this,null,function*(){let r=hS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield tL(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",r_.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function FY(n,e){return G(this,null,function*(){return c_(n,"POST","/v2/accounts:revokeToken",XO(n,e))})}var pg=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dn(e.idToken,"internal-error"),dn(typeof e.idToken<"u","internal-error"),dn(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){dn(e.length!==0,"internal-error");let t=zO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return G(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(dn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return G(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield LY(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(dn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(dn(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(dn(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return hg("not implemented")}};function Pu(n,e){dn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ql=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=k1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gg(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return G(this,null,function*(){let t=yield jS(this,this.stsTokenManager.getToken(this.auth,e));return dn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return KS(this,e)}reload(){return QS(this)}_assign(e){this!==e&&(dn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return G(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield s_(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return G(this,null,function*(){if(Ec(this.auth.app))return Promise.reject(e_(this.auth));let e=yield this.getIdToken();return yield jS(this,MY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,h;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=t.photoURL)!==null&&o!==void 0?o:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,B=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:oe,isAnonymous:ve,providerData:Ie,stsTokenManager:V}=t;dn(W&&V,e,"internal-error");let T=pg.fromJSON(this.name,V);dn(typeof W=="string",e,"internal-error"),Pu(g,e.name),Pu(v,e.name),dn(typeof oe=="boolean",e,"internal-error"),dn(typeof ve=="boolean",e,"internal-error"),Pu(p,e.name),Pu(E,e.name),Pu(S,e.name),Pu(R,e.name),Pu(x,e.name),Pu(B,e.name);let O=new n({uid:W,auth:e,email:v,emailVerified:oe,displayName:g,isAnonymous:ve,photoURL:E,phoneNumber:p,tenantId:S,stsTokenManager:T,createdAt:x,lastLoginAt:B});return Ie&&Array.isArray(Ie)&&(O.providerData=Ie.map(U=>Object.assign({},U))),R&&(O._redirectEventId=R),O}static _fromIdTokenResponse(e,t,r=!1){return G(this,null,function*(){let i=new pg;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield s_(s),s})}static _fromGetAccountInfoResponse(e,t,r){return G(this,null,function*(){let i=t.users[0];dn(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?rL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new pg;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var HO=new Map;function Yl(n){n_(n instanceof Function,"Expected a class definition");let e=HO.get(n);return e?(n_(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HO.set(n,e),e)}var VY=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return G(this,null,function*(){return!0})}_set(t,r){return G(this,null,function*(){this.storage[t]=r})}_get(t){return G(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return G(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),US=VY;function FS(n,e,t){return`firebase:${n}:${e}:${t}`}var o_=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=FS(this.userKey,i.apiKey,s),this.fullPersistenceKey=FS("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return G(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield i_(this.auth,{idToken:e}).catch(()=>{});return t?Ql._fromGetAccountInfoResponse(this.auth,t,e):null}return Ql._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return G(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return G(this,null,function*(){if(!t.length)return new n(Yl(US),e,r);let i=(yield Promise.all(t.map(u=>G(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Yl(US),o=FS(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(o);if(h){let g;if(typeof h=="string"){let v=yield i_(e,{idToken:h}).catch(()=>{});if(!v)break;g=yield Ql._fromGetAccountInfoResponse(e,v,h)}else g=Ql._fromJSON(e,h);u!==s&&(a=g),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>G(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function WO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qY(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jY(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zY(e))return"Blackberry";if(HY(e))return"Webos";if(BY(e))return"Safari";if((e.includes("chrome/")||UY(e))&&!e.includes("edge/"))return"Chrome";if($Y(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jY(n=_s()){return/firefox\//i.test(n)}function BY(n=_s()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UY(n=_s()){return/crios\//i.test(n)}function qY(n=_s()){return/iemobile/i.test(n)}function $Y(n=_s()){return/android/i.test(n)}function zY(n=_s()){return/blackberry/i.test(n)}function HY(n=_s()){return/webos/i.test(n)}function iL(n,e=[]){let t;switch(n){case"Browser":t=WO(_s());break;case"Worker":t=`${WO(_s())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qh}/${r}`}var qS=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return G(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function WY(t){return G(this,arguments,function*(n,e={}){return c_(n,"GET","/v2/passwordPolicy",XO(n,e))})}var GY=6,$S=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:GY,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var zS=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new qS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yl(t)),this._initializationPromise=this.queue(()=>G(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield o_.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return G(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return G(this,null,function*(){try{let t=yield i_(this,{idToken:e}),r=yield Ql._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return G(this,null,function*(){var t;if(Ec(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return dn(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return G(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return G(this,null,function*(){try{yield s_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DY()}_delete(){return G(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return G(this,null,function*(){if(Ec(this.app))return Promise.reject(e_(this));let t=e?Zr(e):null;return t&&dn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return G(this,null,function*(){if(!this._deleted)return e&&dn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>G(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return G(this,null,function*(){return Ec(this.app)?Promise.reject(e_(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ec(this.app)?Promise.reject(e_(this)):this.queue(()=>G(this,null,function*(){yield this.assertedPersistence.setPersistence(Yl(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return G(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return G(this,null,function*(){let e=yield WY(this),t=new $S(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return G(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield FY(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return G(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return G(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Yl(e)||this._popupRedirectResolver;dn(t,this,"argument-error"),this.redirectPersistenceManager=yield o_.create(this,[Yl(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return G(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>G(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return G(this,null,function*(){if(e===this.currentUser)return this.queue(()=>G(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dn(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return G(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return G(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return G(this,null,function*(){var e;if(Ec(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&TY(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function KY(n){return Zr(n)}var a_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fO(t=>this.observer=t)}get next(){return dn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var QY={loadJS(){return G(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YY(n){QY=n}function ZY(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function JY(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Yl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var xhe=ZY("rcb"),Rhe=new Zl(3e4,6e4);var Phe=new Zl(2e3,1e4);var Mhe=10*60*1e3;var khe=new Zl(3e4,6e4);var Ohe=new Zl(5e3,15e3);var Lhe=encodeURIComponent("fac");var GO="@firebase/auth",KO="1.10.0";var HS=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return G(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function XY(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eZ(n){Mo(new Ii("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;dn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iL(n)},u=new zS(r,i,s,c);return JY(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mo(new Ii("auth-internal",e=>{let t=KY(e.getProvider("auth").getImmediate());return(r=>new HS(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(GO,KO,XY(n)),hr(GO,KO,"esm2017")}var tZ=5*60,Fhe=sO("authIdTokenMaxAge")||tZ;function nZ(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}YY({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=WS("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",nZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eZ("Browser");var eJ="auth";var u_=class{constructor(){return Hh(eJ)}};var sL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oL={};var Ic,YS;(function(){var n;function e(V,T){function O(){}O.prototype=T.prototype,V.D=T.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(U,I,C){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return T.prototype[I].apply(U,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,T,O){O||(O=0);var U=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)U[I]=T.charCodeAt(O++)|T.charCodeAt(O++)<<8|T.charCodeAt(O++)<<16|T.charCodeAt(O++)<<24;else for(I=0;16>I;++I)U[I]=T[O++]|T[O++]<<8|T[O++]<<16|T[O++]<<24;T=V.g[0],O=V.g[1],I=V.g[2];var C=V.g[3],N=T+(C^O&(I^C))+U[0]+3614090360&4294967295;T=O+(N<<7&4294967295|N>>>25),N=C+(I^T&(O^I))+U[1]+3905402710&4294967295,C=T+(N<<12&4294967295|N>>>20),N=I+(O^C&(T^O))+U[2]+606105819&4294967295,I=C+(N<<17&4294967295|N>>>15),N=O+(T^I&(C^T))+U[3]+3250441966&4294967295,O=I+(N<<22&4294967295|N>>>10),N=T+(C^O&(I^C))+U[4]+4118548399&4294967295,T=O+(N<<7&4294967295|N>>>25),N=C+(I^T&(O^I))+U[5]+1200080426&4294967295,C=T+(N<<12&4294967295|N>>>20),N=I+(O^C&(T^O))+U[6]+2821735955&4294967295,I=C+(N<<17&4294967295|N>>>15),N=O+(T^I&(C^T))+U[7]+4249261313&4294967295,O=I+(N<<22&4294967295|N>>>10),N=T+(C^O&(I^C))+U[8]+1770035416&4294967295,T=O+(N<<7&4294967295|N>>>25),N=C+(I^T&(O^I))+U[9]+2336552879&4294967295,C=T+(N<<12&4294967295|N>>>20),N=I+(O^C&(T^O))+U[10]+4294925233&4294967295,I=C+(N<<17&4294967295|N>>>15),N=O+(T^I&(C^T))+U[11]+2304563134&4294967295,O=I+(N<<22&4294967295|N>>>10),N=T+(C^O&(I^C))+U[12]+1804603682&4294967295,T=O+(N<<7&4294967295|N>>>25),N=C+(I^T&(O^I))+U[13]+4254626195&4294967295,C=T+(N<<12&4294967295|N>>>20),N=I+(O^C&(T^O))+U[14]+2792965006&4294967295,I=C+(N<<17&4294967295|N>>>15),N=O+(T^I&(C^T))+U[15]+1236535329&4294967295,O=I+(N<<22&4294967295|N>>>10),N=T+(I^C&(O^I))+U[1]+4129170786&4294967295,T=O+(N<<5&4294967295|N>>>27),N=C+(O^I&(T^O))+U[6]+3225465664&4294967295,C=T+(N<<9&4294967295|N>>>23),N=I+(T^O&(C^T))+U[11]+643717713&4294967295,I=C+(N<<14&4294967295|N>>>18),N=O+(C^T&(I^C))+U[0]+3921069994&4294967295,O=I+(N<<20&4294967295|N>>>12),N=T+(I^C&(O^I))+U[5]+3593408605&4294967295,T=O+(N<<5&4294967295|N>>>27),N=C+(O^I&(T^O))+U[10]+38016083&4294967295,C=T+(N<<9&4294967295|N>>>23),N=I+(T^O&(C^T))+U[15]+3634488961&4294967295,I=C+(N<<14&4294967295|N>>>18),N=O+(C^T&(I^C))+U[4]+3889429448&4294967295,O=I+(N<<20&4294967295|N>>>12),N=T+(I^C&(O^I))+U[9]+568446438&4294967295,T=O+(N<<5&4294967295|N>>>27),N=C+(O^I&(T^O))+U[14]+3275163606&4294967295,C=T+(N<<9&4294967295|N>>>23),N=I+(T^O&(C^T))+U[3]+4107603335&4294967295,I=C+(N<<14&4294967295|N>>>18),N=O+(C^T&(I^C))+U[8]+1163531501&4294967295,O=I+(N<<20&4294967295|N>>>12),N=T+(I^C&(O^I))+U[13]+2850285829&4294967295,T=O+(N<<5&4294967295|N>>>27),N=C+(O^I&(T^O))+U[2]+4243563512&4294967295,C=T+(N<<9&4294967295|N>>>23),N=I+(T^O&(C^T))+U[7]+1735328473&4294967295,I=C+(N<<14&4294967295|N>>>18),N=O+(C^T&(I^C))+U[12]+2368359562&4294967295,O=I+(N<<20&4294967295|N>>>12),N=T+(O^I^C)+U[5]+4294588738&4294967295,T=O+(N<<4&4294967295|N>>>28),N=C+(T^O^I)+U[8]+2272392833&4294967295,C=T+(N<<11&4294967295|N>>>21),N=I+(C^T^O)+U[11]+1839030562&4294967295,I=C+(N<<16&4294967295|N>>>16),N=O+(I^C^T)+U[14]+4259657740&4294967295,O=I+(N<<23&4294967295|N>>>9),N=T+(O^I^C)+U[1]+2763975236&4294967295,T=O+(N<<4&4294967295|N>>>28),N=C+(T^O^I)+U[4]+1272893353&4294967295,C=T+(N<<11&4294967295|N>>>21),N=I+(C^T^O)+U[7]+4139469664&4294967295,I=C+(N<<16&4294967295|N>>>16),N=O+(I^C^T)+U[10]+3200236656&4294967295,O=I+(N<<23&4294967295|N>>>9),N=T+(O^I^C)+U[13]+681279174&4294967295,T=O+(N<<4&4294967295|N>>>28),N=C+(T^O^I)+U[0]+3936430074&4294967295,C=T+(N<<11&4294967295|N>>>21),N=I+(C^T^O)+U[3]+3572445317&4294967295,I=C+(N<<16&4294967295|N>>>16),N=O+(I^C^T)+U[6]+76029189&4294967295,O=I+(N<<23&4294967295|N>>>9),N=T+(O^I^C)+U[9]+3654602809&4294967295,T=O+(N<<4&4294967295|N>>>28),N=C+(T^O^I)+U[12]+3873151461&4294967295,C=T+(N<<11&4294967295|N>>>21),N=I+(C^T^O)+U[15]+530742520&4294967295,I=C+(N<<16&4294967295|N>>>16),N=O+(I^C^T)+U[2]+3299628645&4294967295,O=I+(N<<23&4294967295|N>>>9),N=T+(I^(O|~C))+U[0]+4096336452&4294967295,T=O+(N<<6&4294967295|N>>>26),N=C+(O^(T|~I))+U[7]+1126891415&4294967295,C=T+(N<<10&4294967295|N>>>22),N=I+(T^(C|~O))+U[14]+2878612391&4294967295,I=C+(N<<15&4294967295|N>>>17),N=O+(C^(I|~T))+U[5]+4237533241&4294967295,O=I+(N<<21&4294967295|N>>>11),N=T+(I^(O|~C))+U[12]+1700485571&4294967295,T=O+(N<<6&4294967295|N>>>26),N=C+(O^(T|~I))+U[3]+2399980690&4294967295,C=T+(N<<10&4294967295|N>>>22),N=I+(T^(C|~O))+U[10]+4293915773&4294967295,I=C+(N<<15&4294967295|N>>>17),N=O+(C^(I|~T))+U[1]+2240044497&4294967295,O=I+(N<<21&4294967295|N>>>11),N=T+(I^(O|~C))+U[8]+1873313359&4294967295,T=O+(N<<6&4294967295|N>>>26),N=C+(O^(T|~I))+U[15]+4264355552&4294967295,C=T+(N<<10&4294967295|N>>>22),N=I+(T^(C|~O))+U[6]+2734768916&4294967295,I=C+(N<<15&4294967295|N>>>17),N=O+(C^(I|~T))+U[13]+1309151649&4294967295,O=I+(N<<21&4294967295|N>>>11),N=T+(I^(O|~C))+U[4]+4149444226&4294967295,T=O+(N<<6&4294967295|N>>>26),N=C+(O^(T|~I))+U[11]+3174756917&4294967295,C=T+(N<<10&4294967295|N>>>22),N=I+(T^(C|~O))+U[2]+718787259&4294967295,I=C+(N<<15&4294967295|N>>>17),N=O+(C^(I|~T))+U[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+I&4294967295,V.g[3]=V.g[3]+C&4294967295}r.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var O=T-this.blockSize,U=this.B,I=this.h,C=0;C<T;){if(I==0)for(;C<=O;)i(this,V,C),C+=this.blockSize;if(typeof V=="string"){for(;C<T;)if(U[I++]=V.charCodeAt(C++),I==this.blockSize){i(this,U),I=0;break}}else for(;C<T;)if(U[I++]=V[C++],I==this.blockSize){i(this,U),I=0;break}}this.h=I,this.o+=T},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var O=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=O&255,O/=256;for(this.u(V),V=Array(16),T=O=0;4>T;++T)for(var U=0;32>U;U+=8)V[O++]=this.g[T]>>>U&255;return V};function s(V,T){var O=a;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=T(V)}function o(V,T){this.h=T;for(var O=[],U=!0,I=V.length-1;0<=I;I--){var C=V[I]|0;U&&C==T||(O[I]=C,U=!1)}this.g=O}var a={};function c(V){return-128<=V&&128>V?s(V,function(T){return new o([T|0],0>T?-1:0)}):new o([V|0],0>V?-1:0)}function u(V){if(isNaN(V)||!isFinite(V))return g;if(0>V)return R(u(-V));for(var T=[],O=1,U=0;V>=O;U++)T[U]=V/O|0,O*=4294967296;return new o(T,0)}function h(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return R(h(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(T,8)),U=g,I=0;I<V.length;I+=8){var C=Math.min(8,V.length-I),N=parseInt(V.substring(I,I+C),T);8>C?(C=u(Math.pow(T,C)),U=U.j(C).add(u(N))):(U=U.j(O),U=U.add(u(N)))}return U}var g=c(0),v=c(1),p=c(16777216);n=o.prototype,n.m=function(){if(S(this))return-R(this).m();for(var V=0,T=1,O=0;O<this.g.length;O++){var U=this.i(O);V+=(0<=U?U:4294967296+U)*T,T*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(E(this))return"0";if(S(this))return"-"+R(this).toString(V);for(var T=u(Math.pow(V,6)),O=this,U="";;){var I=oe(O,T).g;O=x(O,I.j(T));var C=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=I,E(O))return C+U;for(;6>C.length;)C="0"+C;U=C+U}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function E(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function S(V){return V.h==-1}n.l=function(V){return V=x(this,V),S(V)?-1:E(V)?0:1};function R(V){for(var T=V.g.length,O=[],U=0;U<T;U++)O[U]=~V.g[U];return new o(O,~V.h).add(v)}n.abs=function(){return S(this)?R(this):this},n.add=function(V){for(var T=Math.max(this.g.length,V.g.length),O=[],U=0,I=0;I<=T;I++){var C=U+(this.i(I)&65535)+(V.i(I)&65535),N=(C>>>16)+(this.i(I)>>>16)+(V.i(I)>>>16);U=N>>>16,C&=65535,N&=65535,O[I]=N<<16|C}return new o(O,O[O.length-1]&-2147483648?-1:0)};function x(V,T){return V.add(R(T))}n.j=function(V){if(E(this)||E(V))return g;if(S(this))return S(V)?R(this).j(R(V)):R(R(this).j(V));if(S(V))return R(this.j(R(V)));if(0>this.l(p)&&0>V.l(p))return u(this.m()*V.m());for(var T=this.g.length+V.g.length,O=[],U=0;U<2*T;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(var I=0;I<V.g.length;I++){var C=this.i(U)>>>16,N=this.i(U)&65535,Q=V.i(I)>>>16,be=V.i(I)&65535;O[2*U+2*I]+=N*be,B(O,2*U+2*I),O[2*U+2*I+1]+=C*be,B(O,2*U+2*I+1),O[2*U+2*I+1]+=N*Q,B(O,2*U+2*I+1),O[2*U+2*I+2]+=C*Q,B(O,2*U+2*I+2)}for(U=0;U<T;U++)O[U]=O[2*U+1]<<16|O[2*U];for(U=T;U<2*T;U++)O[U]=0;return new o(O,0)};function B(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function W(V,T){this.g=V,this.h=T}function oe(V,T){if(E(T))throw Error("division by zero");if(E(V))return new W(g,g);if(S(V))return T=oe(R(V),T),new W(R(T.g),R(T.h));if(S(T))return T=oe(V,R(T)),new W(R(T.g),T.h);if(30<V.g.length){if(S(V)||S(T))throw Error("slowDivide_ only works with positive integers.");for(var O=v,U=T;0>=U.l(V);)O=ve(O),U=ve(U);var I=Ie(O,1),C=Ie(U,1);for(U=Ie(U,2),O=Ie(O,2);!E(U);){var N=C.add(U);0>=N.l(V)&&(I=I.add(O),C=N),U=Ie(U,1),O=Ie(O,1)}return T=x(V,I.j(T)),new W(I,T)}for(I=g;0<=V.l(T);){for(O=Math.max(1,Math.floor(V.m()/T.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),C=u(O),N=C.j(T);S(N)||0<N.l(V);)O-=U,C=u(O),N=C.j(T);E(C)&&(C=v),I=I.add(C),V=x(V,N)}return new W(I,V)}n.A=function(V){return oe(this,V).h},n.and=function(V){for(var T=Math.max(this.g.length,V.g.length),O=[],U=0;U<T;U++)O[U]=this.i(U)&V.i(U);return new o(O,this.h&V.h)},n.or=function(V){for(var T=Math.max(this.g.length,V.g.length),O=[],U=0;U<T;U++)O[U]=this.i(U)|V.i(U);return new o(O,this.h|V.h)},n.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),O=[],U=0;U<T;U++)O[U]=this.i(U)^V.i(U);return new o(O,this.h^V.h)};function ve(V){for(var T=V.g.length+1,O=[],U=0;U<T;U++)O[U]=V.i(U)<<1|V.i(U-1)>>>31;return new o(O,V.h)}function Ie(V,T){var O=T>>5;T%=32;for(var U=V.g.length-O,I=[],C=0;C<U;C++)I[C]=0<T?V.i(C+O)>>>T|V.i(C+O+1)<<32-T:V.i(C+O);return new o(I,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YS=oL.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ic=oL.Integer=o}).apply(typeof sL<"u"?sL:typeof self<"u"?self:typeof window<"u"?window:{});var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sc={};var ZS,tJ,Wh,JS,mg,d_,XS,eT,tT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,b){return d==Array.prototype||d==Object.prototype||(d[_]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof l_=="object"&&l_];for(var _=0;_<d.length;++_){var b=d[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var b=r;d=d.split(".");for(var L=0;L<d.length-1;L++){var ne=d[L];if(!(ne in b))break e;b=b[ne]}d=d[d.length-1],L=b[d],_=_(L),_!=L&&_!=null&&e(b,d,{configurable:!0,writable:!0,value:_})}}function s(d,_){d instanceof String&&(d+="");var b=0,L=!1,ne={next:function(){if(!L&&b<d.length){var fe=b++;return{value:_(fe,d[fe]),done:!1}}return L=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(d){return d||function(){return s(this,function(_,b){return b})}});var o=o||{},a=this||self;function c(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,b){return d.call.apply(d.bind,arguments)}function g(d,_,b){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,L),d.apply(_,ne)}}return function(){return d.apply(_,arguments)}}function v(d,_,b){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,v.apply(null,arguments)}function p(d,_){var b=Array.prototype.slice.call(arguments,1);return function(){var L=b.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function E(d,_){function b(){}b.prototype=_.prototype,d.aa=_.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(L,ne,fe){for(var Ve=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Ve[Tt-2]=arguments[Tt];return _.prototype[ne].apply(L,Ve)}}function S(d){let _=d.length;if(0<_){let b=Array(_);for(let L=0;L<_;L++)b[L]=d[L];return b}return[]}function R(d,_){for(let b=1;b<arguments.length;b++){let L=arguments[b];if(c(L)){let ne=d.length||0,fe=L.length||0;d.length=ne+fe;for(let Ve=0;Ve<fe;Ve++)d[ne+Ve]=L[Ve]}else d.push(L)}}class x{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(d){return/^[\s\xa0]*$/.test(d)}function W(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function oe(d){return oe[" "](d),d}oe[" "]=function(){};var ve=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Ie(d,_,b){for(let L in d)_.call(b,d[L],L,d)}function V(d,_){for(let b in d)_.call(void 0,d[b],b,d)}function T(d){let _={};for(let b in d)_[b]=d[b];return _}let O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,_){let b,L;for(let ne=1;ne<arguments.length;ne++){L=arguments[ne];for(b in L)d[b]=L[b];for(let fe=0;fe<O.length;fe++)b=O[fe],Object.prototype.hasOwnProperty.call(L,b)&&(d[b]=L[b])}}function I(d){var _=1;d=d.split(":");let b=[];for(;0<_&&d.length;)b.push(d.shift()),_--;return d.length&&b.push(d.join(":")),b}function C(d){a.setTimeout(()=>{throw d},0)}function N(){var d=he;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,b){let L=be.get();L.set(_,b),this.h?this.h.next=L:this.g=L,this.h=L}}var be=new x(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Z=!1,he=new Q,_e=()=>{let d=a.Promise.resolve(void 0);ie=()=>{d.then(Ue)}};var Ue=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(b){C(b)}var _=be;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Z=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let b=()=>{};a.addEventListener("test",b,_),a.removeEventListener("test",b,_)}catch{}return d}();function Y(d,_){if(q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ve){e:{try{oe(_.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(_=null)}}else b=="mouseover"?_=d.fromElement:b=="mouseout"&&(_=d.toElement);this.relatedTarget=_,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:se[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Y.aa.h.call(this)}}E(Y,q);var se={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ye=0;function me(d,_,b,L,ne){this.listener=d,this.proxy=null,this.src=_,this.type=b,this.capture=!!L,this.ha=ne,this.key=++ye,this.da=this.fa=!1}function je(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ke(d){this.src=d,this.g={},this.h=0}ke.prototype.add=function(d,_,b,L,ne){var fe=d.toString();d=this.g[fe],d||(d=this.g[fe]=[],this.h++);var Ve=$e(d,_,L,ne);return-1<Ve?(_=d[Ve],b||(_.fa=!1)):(_=new me(_,this.src,fe,!!L,ne),_.fa=b,d.push(_)),_};function He(d,_){var b=_.type;if(b in d.g){var L=d.g[b],ne=Array.prototype.indexOf.call(L,_,void 0),fe;(fe=0<=ne)&&Array.prototype.splice.call(L,ne,1),fe&&(je(_),d.g[b].length==0&&(delete d.g[b],d.h--))}}function $e(d,_,b,L){for(var ne=0;ne<d.length;++ne){var fe=d[ne];if(!fe.da&&fe.listener==_&&fe.capture==!!b&&fe.ha==L)return ne}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),Te={};function K(d,_,b,L,ne){if(L&&L.once)return Be(d,_,b,L,ne);if(Array.isArray(_)){for(var fe=0;fe<_.length;fe++)K(d,_[fe],b,L,ne);return null}return b=Ot(b),d&&d[le]?d.K(_,b,u(L)?!!L.capture:!!L,ne):St(d,_,b,!1,L,ne)}function St(d,_,b,L,ne,fe){if(!_)throw Error("Invalid event type");var Ve=u(ne)?!!ne.capture:!!ne,Tt=wt(d);if(Tt||(d[ct]=Tt=new ke(d)),b=Tt.add(_,b,L,Ve,fe),b.proxy)return b;if(L=it(),b.proxy=L,L.src=d,L.listener=b,d.addEventListener)H||(ne=Ve),ne===void 0&&(ne=!1),d.addEventListener(_.toString(),L,ne);else if(d.attachEvent)d.attachEvent(We(_.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return b}function it(){function d(b){return _.call(d.src,d.listener,b)}let _=ot;return d}function Be(d,_,b,L,ne){if(Array.isArray(_)){for(var fe=0;fe<_.length;fe++)Be(d,_[fe],b,L,ne);return null}return b=Ot(b),d&&d[le]?d.L(_,b,u(L)?!!L.capture:!!L,ne):St(d,_,b,!0,L,ne)}function qe(d,_,b,L,ne){if(Array.isArray(_))for(var fe=0;fe<_.length;fe++)qe(d,_[fe],b,L,ne);else L=u(L)?!!L.capture:!!L,b=Ot(b),d&&d[le]?(d=d.i,_=String(_).toString(),_ in d.g&&(fe=d.g[_],b=$e(fe,b,L,ne),-1<b&&(je(fe[b]),Array.prototype.splice.call(fe,b,1),fe.length==0&&(delete d.g[_],d.h--)))):d&&(d=wt(d))&&(_=d.g[_.toString()],d=-1,_&&(d=$e(_,b,L,ne)),(b=-1<d?_[d]:null)&&Ge(b))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[le])He(_.i,d);else{var b=d.type,L=d.proxy;_.removeEventListener?_.removeEventListener(b,L,d.capture):_.detachEvent?_.detachEvent(We(b),L):_.addListener&&_.removeListener&&_.removeListener(L),(b=wt(_))?(He(b,d),b.h==0&&(b.src=null,_[ct]=null)):je(d)}}}function We(d){return d in Te?Te[d]:Te[d]="on"+d}function ot(d,_){if(d.da)d=!0;else{_=new Y(_,this);var b=d.listener,L=d.ha||d.src;d.fa&&Ge(d),d=b.call(L,_)}return d}function wt(d){return d=d[ct],d instanceof ke?d:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(d){return typeof d=="function"?d:(d[Dt]||(d[Dt]=function(_){return d.handleEvent(_)}),d[Dt])}function mt(){M.call(this),this.i=new ke(this),this.M=this,this.F=null}E(mt,M),mt.prototype[le]=!0,mt.prototype.removeEventListener=function(d,_,b,L){qe(this,d,_,b,L)};function Nt(d,_){var b,L=d.F;if(L)for(b=[];L;L=L.F)b.push(L);if(d=d.M,L=_.type||_,typeof _=="string")_=new q(_,d);else if(_ instanceof q)_.target=_.target||d;else{var ne=_;_=new q(L,d),U(_,ne)}if(ne=!0,b)for(var fe=b.length-1;0<=fe;fe--){var Ve=_.g=b[fe];ne=lt(Ve,L,!0,_)&&ne}if(Ve=_.g=d,ne=lt(Ve,L,!0,_)&&ne,ne=lt(Ve,L,!1,_)&&ne,b)for(fe=0;fe<b.length;fe++)Ve=_.g=b[fe],ne=lt(Ve,L,!1,_)&&ne}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var b=d.g[_],L=0;L<b.length;L++)je(b[L]);delete d.g[_],d.h--}}this.F=null},mt.prototype.K=function(d,_,b,L){return this.i.add(String(d),_,!1,b,L)},mt.prototype.L=function(d,_,b,L){return this.i.add(String(d),_,!0,b,L)};function lt(d,_,b,L){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var ne=!0,fe=0;fe<_.length;++fe){var Ve=_[fe];if(Ve&&!Ve.da&&Ve.capture==b){var Tt=Ve.listener,vn=Ve.ha||Ve.src;Ve.fa&&He(d.i,Ve),ne=Tt.call(vn,L)!==!1&&ne}}return ne&&!L.defaultPrevented}function jt(d,_,b){if(typeof d=="function")b&&(d=v(d,b));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(d,_||0)}function Qe(d){d.g=jt(()=>{d.g=null,d.i&&(d.i=!1,Qe(d))},d.l);let _=d.h;d.h=null,d.m.apply(null,_)}class Lr extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(d){M.call(this),this.h=d,this.g={}}E(Gt,M);var Ti=[];function fn(d){Ie(d.g,function(_,b){this.g.hasOwnProperty(b)&&Ge(_)},d),d.g={}}Gt.prototype.N=function(){Gt.aa.N.call(this),fn(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=a.JSON.stringify,Is=a.JSON.parse,cn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function eo(){}eo.prototype.h=null;function jn(d){return d.h||(d.h=d.i())}function Ci(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){q.call(this,"d")}E(Mn,q);function bt(){q.call(this,"c")}E(bt,q);var Kt={},zo=null;function Wn(){return zo=zo||new mt}Kt.La="serverreachability";function Ki(d){q.call(this,Kt.La,d)}E(Ki,q);function Jr(d){let _=Wn();Nt(_,new Ki(_))}Kt.STAT_EVENT="statevent";function ut(d,_){q.call(this,Kt.STAT_EVENT,d),this.stat=_}E(ut,q);function Cn(d){let _=Wn();Nt(_,new ut(_,d))}Kt.Ma="timingevent";function Qi(d,_){q.call(this,Kt.Ma,d),this.size=_}E(Qi,q);function mr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},_)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Gn(d,_,b,L,ne,fe){d.info(function(){if(d.g)if(fe)for(var Ve="",Tt=fe.split("&"),vn=0;vn<Tt.length;vn++){var Ct=Tt[vn].split("=");if(1<Ct.length){var An=Ct[0];Ct=Ct[1];var ir=An.split("_");Ve=2<=ir.length&&ir[1]=="type"?Ve+(An+"="+Ct+"&"):Ve+(An+"=redacted&")}}else Ve=null;else Ve=fe;return"XMLHTTP REQ ("+L+") [attempt "+ne+"]: "+_+`
`+b+`
`+Ve})}function fi(d,_,b,L,ne,fe,Ve){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+ne+"]: "+_+`
`+b+`
`+fe+" "+Ve})}function Yi(d,_,b,L){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Zi(d,b)+(L?" "+L:"")})}function to(d,_){d.info(function(){return"TIMEOUT: "+_})}Bn.prototype.info=function(){};function Zi(d,_){if(!d.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var L=b[d];if(!(2>L.length)){var ne=L[1];if(Array.isArray(ne)&&!(1>ne.length)){var fe=ne[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ve=1;Ve<ne.length;Ve++)ne[Ve]=""}}}}return bn(b)}catch{return _}}var Xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Di;function zr(){}E(zr,eo),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Di=new zr;function Nr(d,_,b,L){this.j=d,this.i=_,this.l=b,this.R=L||1,this.U=new Gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ho}function Ho(){this.i=null,this.g="",this.h=!1}var Pa={},Wo={};function Go(d,_,b){d.L=1,d.v=Fc(xi(_)),d.m=b,d.P=!0,Ma(d,null)}function Ma(d,_){d.F=Date.now(),Mc(d),d.A=xi(d.v);var b=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),Ed(b.i,"t",L),d.C=0,b=d.j.J,d.h=new Ho,d.g=z(d.j,b?_:null,!d.m),0<d.O&&(d.M=new Lr(v(d.Y,d,d.g),d.O)),_=d.U,b=d.g,L=d.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Ti[0]=ne.toString()),ne=Ti);for(var fe=0;fe<ne.length;fe++){var Ve=K(b,ne[fe],L||_.handleEvent,!1,_.h||_);if(!Ve)break;_.g[Ve.key]=Ve}_=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Jr(),Gn(d.i,d.u,d.A,d.l,d.R,d.m)}Nr.prototype.ca=function(d){d=d.target;let _=this.M;_&&ts(d)==3?_.j():this.Y(d)},Nr.prototype.Y=function(d){try{if(d==this.g)e:{let ir=ts(this.g);var _=this.g.Ba();let Ns=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||so(this.g)))){this.J||ir!=4||_==7||(_==8||0>=Ns?Jr(3):Jr(2)),kc(this);var b=this.g.Z();this.X=b;t:if($u(this)){var L=so(this.g);d="";var ne=L.length,fe=ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),Oa(this);var Ve="";break t}this.h.i=new a.TextDecoder}for(_=0;_<ne;_++)this.h.h=!0,d+=this.h.i.decode(L[_],{stream:!(fe&&_==ne-1)});L.length=0,this.h.g+=d,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=b==200,fi(this.i,this.u,this.A,this.l,this.R,ir,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,vn=this.g;if((Tt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Tt)){var Ct=Tt;break t}}Ct=null}if(b=Ct)Yi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zu(this,b);else{this.o=!1,this.s=3,Cn(12),Ji(this),Oa(this);break e}}if(this.P){b=!0;let Hr;for(;!this.J&&this.C<Ve.length;)if(Hr=Ff(this,Ve),Hr==Wo){ir==4&&(this.s=4,Cn(14),b=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==Pa){this.s=4,Cn(15),Yi(this.i,this.l,Ve,"[Invalid Chunk]"),b=!1;break}else Yi(this.i,this.l,Hr,null),zu(this,Hr);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||Ve.length!=0||this.h.h||(this.s=1,Cn(16),b=!1),this.o=this.o&&b,!b)Yi(this.i,this.l,Ve,"[Invalid Chunked Response]"),Ji(this),Oa(this);else if(0<Ve.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),nl(An),An.M=!0,Cn(11))}}else Yi(this.i,this.l,Ve,null),zu(this,Ve);ir==4&&Ji(this),this.o&&!this.J&&(ir==4?Wc(this.j,this):(this.o=!1,Mc(this)))}else ns(this.g),b==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),Ji(this),Oa(this)}}}catch{}finally{}};function $u(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ff(d,_){var b=d.C,L=_.indexOf(`
`,b);return L==-1?Wo:(b=Number(_.substring(b,L)),isNaN(b)?Pa:(L+=1,L+b>_.length?Wo:(_=_.slice(L,L+b),d.C=L+b,_)))}Nr.prototype.cancel=function(){this.J=!0,Ji(this)};function Mc(d){d.S=Date.now()+d.I,ka(d,d.I)}function ka(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=mr(v(d.ba,d),_)}function kc(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Nr.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(to(this.i,this.A),this.L!=2&&(Jr(),Cn(17)),Ji(this),this.s=2,Oa(this)):ka(this,this.S-d)};function Oa(d){d.j.G==0||d.J||Wc(d.j,d)}function Ji(d){kc(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,fn(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function zu(d,_){try{var b=d.j;if(b.G!=0&&(b.g==d||Un(b.h,d))){if(!d.K&&Un(b.h,d)&&b.G==3){try{var L=b.Da.g.parse(_)}catch{L=null}if(Array.isArray(L)&&L.length==3){var ne=L;if(ne[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Ds(b),ao(b);else break e;Hc(b),Cn(18)}}else b.za=ne[1],0<b.za-b.T&&37500>ne[2]&&b.F&&b.v==0&&!b.C&&(b.C=mr(v(b.Za,b),6e3));if(1>=vd(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else rs(b,11)}else if((d.K||b.g==d)&&Ds(b),!B(_))for(ne=b.Da.g.parse(_),_=0;_<ne.length;_++){let Ct=ne[_];if(b.T=Ct[0],Ct=Ct[1],b.G==2)if(Ct[0]=="c"){b.K=Ct[1],b.ia=Ct[2];let An=Ct[3];An!=null&&(b.la=An,b.j.info("VER="+b.la));let ir=Ct[4];ir!=null&&(b.Aa=ir,b.j.info("SVER="+b.Aa));let Ns=Ct[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(L=1.5*Ns,b.L=L,b.j.info("backChannelRequestTimeoutMs_="+L)),L=b;let Hr=d.g;if(Hr){let uo=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var fe=L.h;fe.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Oc(fe,fe.h),fe.h=null))}if(L.D){let qa=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(L.ya=qa,pn(L.I,L.D,qa))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),L=b;var Ve=d;if(L.qa=A(L,L.J?L.ia:null,L.W),Ve.K){Hu(L.h,Ve);var Tt=Ve,vn=L.L;vn&&(Tt.I=vn),Tt.B&&(kc(Tt),Mc(Tt)),L.g=Ve}else zc(L);0<b.i.length&&Yo(b)}else Ct[0]!="stop"&&Ct[0]!="close"||rs(b,7);else b.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?rs(b,7):Xu(b):Ct[0]!="noop"&&b.l&&b.l.ta(Ct),b.v=0)}}Jr(4)}catch{}}var md=class{constructor(d,_){this.g=d,this.map=_}};function yd(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vd(d){return d.h?1:d.g?d.g.size:0}function Un(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Oc(d,_){d.g?d.g.add(_):d.h=_}function Hu(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}yd.prototype.cancel=function(){if(this.i=Wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function Wu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(let b of d.g.values())_=_.concat(b.D);return _}return S(d.i)}function Gu(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var _=[],b=d.length,L=0;L<b;L++)_.push(d[L]);return _}_=[],b=0;for(L in d)_[b++]=d[L];return _}function Vf(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var _=[];d=d.length;for(var b=0;b<d;b++)_.push(b);return _}_=[],b=0;for(let L in d)_[b++]=L;return _}}}function Ni(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var b=Vf(d),L=Gu(d),ne=L.length,fe=0;fe<ne;fe++)_.call(void 0,L[fe],b&&b[fe],d)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ei(d,_){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var L=d[b].indexOf("="),ne=null;if(0<=L){var fe=d[b].substring(0,L);ne=d[b].substring(L+1)}else fe=d[b];_(fe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Xi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xi){this.h=d.h,Lc(this,d.j),this.o=d.o,this.g=d.g,Va(this,d.s),this.l=d.l;var _=d.i,b=new Kn;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),_d(this,b),this.m=d.m}else d&&(_=String(d).match(Fa))?(this.h=!1,Lc(this,_[1]||"",!0),this.o=no(_[2]||""),this.g=no(_[3]||"",!0),Va(this,_[4]),this.l=no(_[5]||"",!0),_d(this,_[6]||"",!0),this.m=no(_[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}Xi.prototype.toString=function(){var d=[],_=this.j;_&&d.push(ja(_,wd,!0),":");var b=this.g;return(b||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ja(_,wd,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(ja(b,b.charAt(0)=="/"?Vc:ro,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",ja(b,bd)),d.join("")};function xi(d){return new Xi(d)}function Lc(d,_,b){d.j=b?no(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Va(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function _d(d,_,b){_ instanceof Kn?(d.i=_,Ts(d.i,d.h)):(b||(_=ja(_,jc)),d.i=new Kn(_,d.h))}function pn(d,_,b){d.i.set(_,b)}function Fc(d){return pn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function no(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ja(d,_,b){return typeof d=="string"?(d=encodeURI(d).replace(_,jf),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wd=/[#\/\?@]/g,ro=/[#\?:]/g,Vc=/[#\?]/g,jc=/[#\?@]/g,bd=/#/g;function Kn(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Ss(d){d.g||(d.g=new Map,d.h=0,d.i&&ei(d.i,function(_,b){d.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Kn.prototype,n.add=function(d,_){Ss(this),this.i=null,d=Ko(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(_),this.h+=1,this};function Ku(d,_){Ss(d),_=Ko(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Et(d,_){return Ss(d),_=Ko(d,_),d.g.has(_)}n.forEach=function(d,_){Ss(this),this.g.forEach(function(b,L){b.forEach(function(ne){d.call(_,ne,L,this)},this)},this)},n.na=function(){Ss(this);let d=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let L=0;L<_.length;L++){let ne=d[L];for(let fe=0;fe<ne.length;fe++)b.push(_[L])}return b},n.V=function(d){Ss(this);let _=[];if(typeof d=="string")Et(this,d)&&(_=_.concat(this.g.get(Ko(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)_=_.concat(d[b])}return _},n.set=function(d,_){return Ss(this),this.i=null,d=Ko(this,d),Et(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Ed(d,_,b){Ku(d,_),0<b.length&&(d.i=null,d.g.set(Ko(d,_),S(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var L=_[b];let fe=encodeURIComponent(String(L)),Ve=this.V(L);for(L=0;L<Ve.length;L++){var ne=fe;Ve[L]!==""&&(ne+="="+encodeURIComponent(String(Ve[L]))),d.push(ne)}}return this.i=d.join("&")};function Ko(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Ts(d,_){_&&!d.j&&(Ss(d),d.i=null,d.g.forEach(function(b,L){var ne=L.toLowerCase();L!=ne&&(Ku(this,L),Ed(this,ne,b))},d)),d.j=_}function Id(d,_){let b=new Bn;if(a.Image){let L=new Image;L.onload=p(pi,b,"TestLoadImage: loaded",!0,_,L),L.onerror=p(pi,b,"TestLoadImage: error",!1,_,L),L.onabort=p(pi,b,"TestLoadImage: abort",!1,_,L),L.ontimeout=p(pi,b,"TestLoadImage: timeout",!1,_,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else _(!1)}function Sd(d,_){let b=new Bn,L=new AbortController,ne=setTimeout(()=>{L.abort(),pi(b,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:L.signal}).then(fe=>{clearTimeout(ne),fe.ok?pi(b,"TestPingServer: ok",!0,_):pi(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ne),pi(b,"TestPingServer: error",!1,_)})}function pi(d,_,b,L,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),L(b)}catch{}}function Qu(){this.g=new cn}function Bf(d,_,b){let L=b||"";try{Ni(d,function(ne,fe){let Ve=ne;u(ne)&&(Ve=bn(ne)),_.push(L+fe+"="+encodeURIComponent(Ve))})}catch(ne){throw _.push(L+"type="+encodeURIComponent("_badmap")),ne}}function Ba(d){this.l=d.Ub||null,this.j=d.eb||!1}E(Ba,eo),Ba.prototype.g=function(){return new Bc(this.l,this.j)},Ba.prototype.i=function(d){return function(){return d}}({});function Bc(d,_){mt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Bc,mt),n=Bc.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Ri(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?es(this):Ri(this),this.readyState==3&&Uc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,es(this))},n.Qa=function(d){this.g&&(this.response=d,es(this))},n.ga=function(){this.g&&es(this)};function es(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ri(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=_.next();return d.join(`\r
`)};function Ri(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Td(d){let _="";return Ie(d,function(b,L){_+=L,_+=":",_+=b,_+=`\r
`}),_}function io(d,_,b){e:{for(L in b){var L=!1;break e}L=!0}L||(b=Td(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):pn(d,_,b))}function En(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(En,mt);var qc=/^https?$/i,Cd=["POST","PUT"];n=En.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,b,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?jn(this.o):jn(Di),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(fe){Yu(this,fe);return}if(d=b||"",b=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var ne in L)b.set(ne,L[ne]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(let fe of L.keys())b.set(fe,L.get(fe));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(b.keys()).find(fe=>fe.toLowerCase()=="content-type"),ne=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Cd,_,void 0))||L||ne||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[fe,Ve]of b)this.g.setRequestHeader(fe,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(d),this.u=!1}catch(fe){Yu(this,fe)}};function Yu(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Zu(d),gi(d)}function Zu(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Nt(this,"complete"),Nt(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),En.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ju(this):this.bb())},n.bb=function(){Ju(this)};function Ju(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ts(d)!=4||d.Z()!=2)){if(d.u&&ts(d)==4)jt(d.Ea,0,d);else if(Nt(d,"readystatechange"),ts(d)==4){d.h=!1;try{let Ve=d.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var L;if(L=Ve===0){var ne=String(d.D).match(Fa)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),L=!qc.test(ne?ne.toLowerCase():"")}b=L}if(b)Nt(d,"complete"),Nt(d,"success");else{d.m=6;try{var fe=2<ts(d)?d.g.statusText:""}catch{fe=""}d.l=fe+" ["+d.Z()+"]",Zu(d)}}finally{gi(d)}}}}function gi(d,_){if(d.g){Cs(d);let b=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Nt(d,"ready");try{b.onreadystatechange=L}catch{}}}function Cs(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function ts(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<ts(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Is(_)}};function so(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(d){let _={};d=(d.g&&2<=ts(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(B(d[L]))continue;var b=I(d[L]);let ne=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();let fe=_[ne]||[];_[ne]=fe,fe.push(b)}V(_,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(d,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||_}function Qo(d){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,d),this.cb=oo("retryDelaySeedMs",1e4,d),this.Wa=oo("forwardChannelMaxRetries",2,d),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new yd(d&&d.concurrentRequestLimit),this.Da=new Qu,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qo.prototype,n.la=8,n.G=1,n.connect=function(d,_,b,L){Cn(0),this.W=d,this.H=_||{},b&&L!==void 0&&(this.H.OSID=b,this.H.OAID=L),this.F=this.X,this.I=A(this,null,this.W),Yo(this)};function Xu(d){if(Ad(d),d.G==3){var _=d.U++,b=xi(d.I);if(pn(b,"SID",d.K),pn(b,"RID",_),pn(b,"TYPE","terminate"),As(d,b),_=new Nr(d,d.j,_),_.L=2,_.v=Fc(xi(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=_.v,b=!0),b||(_.g=z(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Mc(_)}m(d)}function ao(d){d.g&&(nl(d),d.g.cancel(),d.g=null)}function Ad(d){ao(d),d.u&&(a.clearTimeout(d.u),d.u=null),Ds(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Yo(d){if(!La(d.h)&&!d.s){d.s=!0;var _=d.Ga;ie||_e(),Z||(ie(),Z=!0),he.add(_,d),d.B=0}}function el(d,_){return vd(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=mr(v(d.Ga,d,_),co(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let ne=new Nr(this,this.j,d),fe=this.o;if(this.S&&(fe?(fe=T(fe),U(fe,this.S)):fe=this.S),this.m!==null||this.O||(ne.H=fe,fe=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var L=this.i[b];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(_+=L,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=$c(this,ne,_),b=xi(this.I),pn(b,"RID",d),pn(b,"CVER",22),this.D&&pn(b,"X-HTTP-Session-Id",this.D),As(this,b),fe&&(this.O?_="headers="+encodeURIComponent(String(Td(fe)))+"&"+_:this.m&&io(b,this.m,fe)),Oc(this.h,ne),this.Ua&&pn(b,"TYPE","init"),this.P?(pn(b,"$req",_),pn(b,"SID","null"),ne.T=!0,Go(ne,b,null)):Go(ne,b,_),this.G=2}}else this.G==3&&(d?tl(this,d):this.i.length==0||La(this.h)||tl(this))};function tl(d,_){var b;_?b=_.l:b=d.U++;let L=xi(d.I);pn(L,"SID",d.K),pn(L,"RID",b),pn(L,"AID",d.T),As(d,L),d.m&&d.o&&io(L,d.m,d.o),b=new Nr(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),_&&(d.i=_.D.concat(d.i)),_=$c(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Oc(d.h,b),Go(b,L,_)}function As(d,_){d.H&&Ie(d.H,function(b,L){pn(_,L,b)}),d.l&&Ni({},function(b,L){pn(_,L,b)})}function $c(d,_,b){b=Math.min(d.i.length,b);var L=d.l?v(d.l.Na,d.l,d):null;e:{var ne=d.i;let fe=-1;for(;;){let Ve=["count="+b];fe==-1?0<b?(fe=ne[0].g,Ve.push("ofs="+fe)):fe=0:Ve.push("ofs="+fe);let Tt=!0;for(let vn=0;vn<b;vn++){let Ct=ne[vn].g,An=ne[vn].map;if(Ct-=fe,0>Ct)fe=Math.max(0,ne[vn].g-100),Tt=!1;else try{Bf(An,Ve,"req"+Ct+"_")}catch{L&&L(An)}}if(Tt){L=Ve.join("&");break e}}}return d=d.i.splice(0,b),_.D=d,L}function zc(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ie||_e(),Z||(ie(),Z=!0),he.add(_,d),d.v=0}}function Hc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=mr(v(d.Fa,d),co(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=mr(v(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),ao(this),Ua(this))};function nl(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Ua(d){d.g=new Nr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=xi(d.qa);pn(_,"RID","rpc"),pn(_,"SID",d.K),pn(_,"AID",d.T),pn(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&pn(_,"TO",d.ja),pn(_,"TYPE","xmlhttp"),As(d,_),d.m&&d.o&&io(_,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Fc(xi(_)),b.m=null,b.P=!0,Ma(b,d)}n.Za=function(){this.C!=null&&(this.C=null,ao(this),Hc(this),Cn(19))};function Ds(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Wc(d,_){var b=null;if(d.g==_){Ds(d),nl(d),d.g=null;var L=2}else if(Un(d.h,_))b=_.D,Hu(d.h,_),L=1;else return;if(d.G!=0){if(_.o)if(L==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var ne=d.B;L=Wn(),Nt(L,new Qi(L,b)),Yo(d)}else zc(d);else if(ne=_.s,ne==3||ne==0&&0<_.X||!(L==1&&el(d,_)||L==2&&Hc(d)))switch(b&&0<b.length&&(_=d.h,_.i=_.i.concat(b)),ne){case 1:rs(d,5);break;case 4:rs(d,10);break;case 3:rs(d,6);break;default:rs(d,2)}}}function co(d,_){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*_}function rs(d,_){if(d.j.info("Error code "+_),_==2){var b=v(d.fb,d),L=d.Xa;let ne=!L;L=new Xi(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lc(L,"https"),Fc(L),ne?Id(L.toString(),b):Sd(L.toString(),b)}else Cn(2);d.G=0,d.l&&d.l.sa(_),m(d),Ad(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function m(d){if(d.G=0,d.ka=[],d.l){let _=Wu(d.h);(_.length!=0||d.i.length!=0)&&(R(d.ka,_),R(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function A(d,_,b){var L=b instanceof Xi?xi(b):new Xi(b);if(L.g!="")_&&(L.g=_+"."+L.g),Va(L,L.s);else{var ne=a.location;L=ne.protocol,_=_?_+"."+ne.hostname:ne.hostname,ne=+ne.port;var fe=new Xi(null);L&&Lc(fe,L),_&&(fe.g=_),ne&&Va(fe,ne),b&&(fe.l=b),L=fe}return b=d.D,_=d.ya,b&&_&&pn(L,b,_),pn(L,"VER",d.la),As(d,L),L}function z(d,_,b){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new En(new Ba({eb:b})):new En(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function J(){}n=J.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function de(){}de.prototype.g=function(d,_){return new we(d,_)};function we(d,_){mt.call(this),this.g=new Qo(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!B(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new st(this)}E(we,mt),we.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},we.prototype.close=function(){Xu(this.g)},we.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=bn(d),d=b);_.i.push(new md(_.Ya++,d)),_.G==3&&Yo(_)},we.prototype.N=function(){this.g.l=null,delete this.j,Xu(this.g),delete this.g,we.aa.N.call(this)};function Me(d){Mn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(let b in _){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}E(Me,Mn);function Ye(){bt.call(this),this.status=1}E(Ye,bt);function st(d){this.g=d}E(st,J),st.prototype.ua=function(){Nt(this.g,"a")},st.prototype.ta=function(d){Nt(this.g,new Me(d))},st.prototype.sa=function(d){Nt(this.g,new Ye)},st.prototype.ra=function(){Nt(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,we.prototype.send=we.prototype.o,we.prototype.open=we.prototype.m,we.prototype.close=we.prototype.close,tT=Sc.createWebChannelTransport=function(){return new de},eT=Sc.getStatEventTarget=function(){return Wn()},XS=Sc.Event=Kt,d_=Sc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,mg=Sc.ErrorCode=Xr,Ai.COMPLETE="complete",JS=Sc.EventType=Ai,Ci.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Wh=Sc.WebChannel=Ci,tJ=Sc.FetchXmlHttpFactory=Ba,En.prototype.listenOnce=En.prototype.L,En.prototype.getLastError=En.prototype.Ka,En.prototype.getLastErrorCode=En.prototype.Ba,En.prototype.getStatus=En.prototype.Z,En.prototype.getResponseJson=En.prototype.Oa,En.prototype.getResponseText=En.prototype.oa,En.prototype.send=En.prototype.ea,En.prototype.setWithCredentials=En.prototype.Ha,ZS=Sc.XhrIo=En}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var aL="@firebase/firestore",cL="4.7.10";var Ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");var gf="11.5.0";var td=new va("@firebase/firestore");function Gh(){return td.logLevel}function tt(n,...e){if(td.logLevel<=Yt.DEBUG){let t=e.map($C);td.debug(`Firestore (${gf}): ${n}`,...t)}}function Cc(n,...e){if(td.logLevel<=Yt.ERROR){let t=e.map($C);td.error(`Firestore (${gf}): ${n}`,...t)}}function ef(n,...e){if(td.logLevel<=Yt.WARN){let t=e.map($C);td.warn(`Firestore (${gf}): ${n}`,...t)}}function $C(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function vt(n="Unexpected state"){let e=`FIRESTORE (${gf}) INTERNAL ASSERTION FAILED: `+n;throw Cc(e),new Error(e)}function yn(n,e){n||vt()}function Rt(n,e){return n}var xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nt=class extends Gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Oo=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var v_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},oT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ur.UNAUTHENTICATED))}shutdown(){}},aT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},cT=class{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yn(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Oo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oo,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>G(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oo)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn(typeof r.accessToken=="string"),new v_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return yn(e===null||typeof e=="string"),new Ur(e)}},uT=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},lT=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new uT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}},__=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dT=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ec(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){yn(this.o===void 0);let r=s=>{s.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new __(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yn(typeof t.token=="string"),this.R=t.token,new __(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nJ(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function XL(){return new TextEncoder}var w_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=nJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Ht(n,e){return n<e?-1:n>e?1:0}function hT(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ht(r,i);{let s=XL(),o=rJ(s.encode(uL(n,t)),s.encode(uL(e,t)));return o!==0?o:Ht(r,i)}}t+=r>65535?2:1}return Ht(n.length,e.length)}function uL(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function rJ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ht(n[t],e[t]);return Ht(n.length,e.length)}function tf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var lL=-62135596800,dL=1e6,tr=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dL);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lL)throw new nt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dL}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-lL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var kt=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new tr(0,0))}static max(){return new n(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hL="__name__",b_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&vt(),r===void 0?r=e.length-t:r>e.length-t&&vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ht(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):hT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ic.fromString(e.substring(4,e.length-2))}},Hn=class n extends b_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new nt(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},iJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bs=class n extends b_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return iJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hL}static keyField(){return new n([hL])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new nt(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new nt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new nt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new nt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ft=class n{constructor(e){this.path=e}static fromPath(e){return new n(Hn.fromString(e))}static fromName(e){return new n(Hn.fromString(e).popFirst(5))}static empty(){return new n(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Hn(e.slice()))}};var Eg=-1,fT=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};fT.UNKNOWN_ID=-1;function sJ(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(r===1e9?new tr(t+1,0):new tr(t,r));return new nd(i,ft.empty(),e)}function oJ(n){return new nd(n.readTime,n.key,Eg)}var nd=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(kt.min(),ft.empty(),Eg)}static max(){return new n(kt.max(),ft.empty(),Eg)}};function aJ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ft.comparator(n.documentKey,e.documentKey),t!==0?t:Ht(n.largestBatchId,e.largestBatchId))}var cJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function mf(n){return G(this,null,function*(){if(n.code!==xe.FAILED_PRECONDITION||n.message!==cJ)throw n;tt("LocalStore","Unexpectedly lost primary lease")})}var Fe=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function uJ(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yf(n){return n.name==="IndexedDbTransactionError"}var zC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),HC=-1;function ew(n){return n==null}function Ig(n){return n===0&&1/n==-1/0}function lJ(n){return typeof n=="number"&&Number.isInteger(n)&&!Ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var eF="";function dJ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fL(e)),e=hJ(n.get(t),e);return fL(e)}function hJ(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case eF:t+="";break;default:t+=s}}return t}function fL(n){return n+eF+""}var fJ="remoteDocuments",tF="owner";var nF="mutationQueues";var rF="mutations";var iF="documentMutations",pJ="remoteDocumentsV14";var sF="remoteDocumentGlobal";var oF="targets";var aF="targetDocuments";var cF="targetGlobal",uF="collectionParents";var lF="clientMetadata";var dF="bundles";var hF="namedQueries";var gJ="indexConfiguration";var mJ="indexState";var yJ="indexEntries";var fF="documentOverlays";var vJ="globals";var _J=[nF,rF,iF,fJ,oF,tF,cF,aF,lF,sF,uF,dF,hF],Bfe=[..._J,fF],wJ=[nF,rF,iF,pJ,oF,tF,cF,aF,lF,sF,uF,dF,hF,fF],bJ=wJ,EJ=[...bJ,gJ,mJ,yJ];var Ufe=[...EJ,vJ];function pL(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pF(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var nr=class n{constructor(e,t){this.comparator=e,this.root=t||wa.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wa.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}},Zh=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wa=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();let e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}};wa.EMPTY=null,wa.RED=!0,wa.BLACK=!1;wa.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new wa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qr=class n{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},E_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qs=class n{constructor(e){this.fields=e,e.sort(bs.comparator)}static empty(){return new n([])}unionWith(e){let t=new qr(bs.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var I_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var oi=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new I_("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};oi.EMPTY_BYTE_STRING=new oi("");var IJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if(yn(!!n),typeof n=="string"){let e=0,t=IJ.exec(n);if(yn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dc(n){return typeof n=="string"?oi.fromBase64String(n):oi.fromUint8Array(n)}var gF="server_timestamp",mF="__type__",yF="__previous_value__",vF="__local_write_time__";function WC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mF])===null||t===void 0?void 0:t.stringValue)===gF}function tw(n){let e=n.mapValue.fields[yF];return WC(e)?tw(e):e}function Sg(n){let e=Ac(n.mapValue.fields[vF].timestampValue);return new tr(e.seconds,e.nanos)}var gT=class{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},S_="(default)",T_=class n{constructor(e,t){this.projectId=e,this.database=t||S_}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===S_}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var GC="__type__",_F="__max__",h_={mapValue:{fields:{__type__:{stringValue:_F}}}},KC="__vector__",nf="value";function ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WC(n)?4:bF(n)?9007199254740991:wF(n)?10:11:vt()}function Ia(n,e){if(n===e)return!0;let t=ku(n);if(t!==ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sg(n).isEqual(Sg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ac(i.timestampValue),a=Ac(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Dc(i.bytesValue).isEqual(Dc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return zn(i.geoPointValue.latitude)===zn(s.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zn(i.integerValue)===zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=zn(i.doubleValue),a=zn(s.doubleValue);return o===a?Ig(o)===Ig(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return tf(n.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pL(o)!==pL(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ia(o[c],a[c])))return!1;return!0}(n,e);default:return vt()}}function Tg(n,e){return(n.values||[]).find(t=>Ia(t,e))!==void 0}function rf(n,e){if(n===e)return 0;let t=ku(n),r=ku(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=zn(s.integerValue||s.doubleValue),c=zn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return gL(n.timestampValue,e.timestampValue);case 4:return gL(Sg(n),Sg(e));case 5:return hT(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Dc(s),c=Dc(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=Ht(a[u],c[u]);if(h!==0)return h}return Ht(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ht(zn(s.latitude),zn(o.latitude));return a!==0?a:Ht(zn(s.longitude),zn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return mL(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;let g=s.fields||{},v=o.fields||{},p=(a=g[nf])===null||a===void 0?void 0:a.arrayValue,E=(c=v[nf])===null||c===void 0?void 0:c.arrayValue,S=Ht(((u=p?.values)===null||u===void 0?void 0:u.length)||0,((h=E?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:mL(p,E)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===h_.mapValue&&o===h_.mapValue)return 0;if(s===h_.mapValue)return 1;if(o===h_.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){let v=hT(c[g],h[g]);if(v!==0)return v;let p=rf(a[c[g]],u[h[g]]);if(p!==0)return p}return Ht(c.length,h.length)}(n.mapValue,e.mapValue);default:throw vt()}}function gL(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ht(n,e);let t=Ac(n),r=Ac(e),i=Ht(t.seconds,r.seconds);return i!==0?i:Ht(t.nanos,r.nanos)}function mL(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=rf(t[i],r[i]);if(s)return s}return Ht(t.length,r.length)}function sf(n){return mT(n)}function mT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ac(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Dc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ft.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=mT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${mT(t.fields[o])}`;return i+"}"}(n.mapValue):vt()}function g_(n){switch(ku(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=tw(n);return e?16+g_(e):16;case 5:return 2*n.stringValue.length;case 6:return Dc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+g_(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Fu(r.fields,(s,o)=>{i+=s.length+g_(o)}),i}(n.mapValue);default:throw vt()}}function yL(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yT(n){return!!n&&"integerValue"in n}function QC(n){return!!n&&"arrayValue"in n}function vL(n){return!!n&&"nullValue"in n}function _L(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function m_(n){return!!n&&"mapValue"in n}function wF(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GC])===null||t===void 0?void 0:t.stringValue)===KC}function vg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Fu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vg(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_F}var $fe={mapValue:{fields:{[GC]:{stringValue:KC},[nf]:{arrayValue:{}}}}};var ws=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!m_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vg(t)}setAll(e){let t=bs.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=vg(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());m_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];m_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fu(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(vg(this.value))}};function EF(n){let e=[];return Fu(n.fields,(t,r)=>{let i=new bs([t]);if(m_(r)){let s=EF(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Qs(e)}var Lo=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,kt.min(),kt.min(),kt.min(),ws.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,kt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,kt.min(),kt.min(),ws.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,kt.min(),kt.min(),ws.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var of=class{constructor(e,t){this.position=e,this.inclusive=t}};function wL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),t.key):r=rf(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ia(n.position[t],e.position[t]))return!1;return!0}var af=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function SJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var C_=class{},Ar=class n extends C_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _T(e,t,r):t==="array-contains"?new ET(e,r):t==="in"?new IT(e,r):t==="not-in"?new ST(e,r):t==="array-contains-any"?new TT(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wT(e,r):new bT(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(rf(t,this.value)):t!==null&&ku(this.value)===ku(t)&&this.matchesComparison(rf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fo=class n extends C_{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return IF(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function IF(n){return n.op==="and"}function SF(n){return TJ(n)&&IF(n)}function TJ(n){for(let e of n.filters)if(e instanceof Fo)return!1;return!0}function vT(n){if(n instanceof Ar)return n.field.canonicalString()+n.op.toString()+sf(n.value);if(SF(n))return n.filters.map(e=>vT(e)).join(",");{let e=n.filters.map(t=>vT(t)).join(",");return`${n.op}(${e})`}}function TF(n,e){return n instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)}(n,e):n instanceof Fo?function(r,i){return i instanceof Fo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TF(o,i.filters[a]),!0):!1}(n,e):void vt()}function CF(n){return n instanceof Ar?function(t){return`${t.field.canonicalString()} ${t.op} ${sf(t.value)}`}(n):n instanceof Fo?function(t){return t.op.toString()+" {"+t.getFilters().map(CF).join(" ,")+"}"}(n):"Filter"}var _T=class extends Ar{constructor(e,t,r){super(e,t,r),this.key=ft.fromName(r.referenceValue)}matches(e){let t=ft.comparator(e.key,this.key);return this.matchesComparison(t)}},wT=class extends Ar{constructor(e,t){super(e,"in",t),this.keys=AF("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},bT=class extends Ar{constructor(e,t){super(e,"not-in",t),this.keys=AF("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function AF(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ft.fromName(r.referenceValue))}var ET=class extends Ar{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return QC(t)&&Tg(t.arrayValue,this.value)}},IT=class extends Ar{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tg(this.value.arrayValue,t)}},ST=class extends Ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Tg(this.value.arrayValue,t)}},TT=class extends Ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!QC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tg(this.value.arrayValue,r))}};var CT=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}};function EL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new CT(n,e,t,r,i,s,o)}function YC(n){let e=Rt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ew(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sf(r)).join(",")),e.le=t}return e.le}function ZC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bL(n.startAt,e.startAt)&&bL(n.endAt,e.endAt)}function AT(n){return ft.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var rd=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function CJ(n,e,t,r,i,s,o,a){return new rd(n,e,t,r,i,s,o,a)}function nw(n){return new rd(n)}function IL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DF(n){return n.collectionGroup!==null}function _g(n){let e=Rt(n);if(e.he===null){e.he=[];let t=new Set;for(let s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qr(bs.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new af(s,r))}),t.has(bs.keyField().canonicalString())||e.he.push(new af(bs.keyField(),r))}return e.he}function ba(n){let e=Rt(n);return e.Pe||(e.Pe=AJ(e,_g(n))),e.Pe}function AJ(n,e){if(n.limitType==="F")return EL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new af(i.field,s)});let t=n.endAt?new of(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new of(n.startAt.position,n.startAt.inclusive):null;return EL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function DT(n,e){let t=n.filters.concat([e]);return new rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function NT(n,e,t){return new rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rw(n,e){return ZC(ba(n),ba(e))&&n.limitType===e.limitType}function NF(n){return`${YC(ba(n))}|lt:${n.limitType}`}function Kh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>CF(i)).join(", ")}]`),ew(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>sf(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>sf(i)).join(",")),`Target(${r})`}(ba(n))}; limitType=${n.limitType})`}function iw(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of _g(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=wL(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,_g(r),i)||r.endAt&&!function(o,a,c){let u=wL(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,_g(r),i))}(n,e)}function DJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xF(n){return(e,t)=>{let r=!1;for(let i of _g(n)){let s=NJ(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NJ(n,e,t){let r=n.field.isKeyField()?ft.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?rf(c,u):vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}var Nc=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fu(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return pF(this.inner)}size(){return this.innerSize}};var xJ=new nr(ft.comparator);function xc(){return xJ}var RF=new nr(ft.comparator);function yg(...n){let e=RF;for(let t of n)e=e.insert(t.key,t);return e}function PF(n){let e=RF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Jl(){return wg()}function MF(){return wg()}function wg(){return new Nc(n=>n.toString(),(n,e)=>n.isEqual(e))}var RJ=new nr(ft.comparator),PJ=new qr(ft.comparator);function en(...n){let e=PJ;for(let t of n)e=e.add(t);return e}var MJ=new qr(Ht);function kJ(){return MJ}function JC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ig(e)?"-0":e}}function kF(n){return{integerValue:""+n}}function OJ(n,e){return lJ(e)?kF(e):JC(n,e)}var cf=class{constructor(){this._=void 0}};function LJ(n,e,t){return n instanceof uf?function(i,s){let o={fields:{[mF]:{stringValue:gF},[vF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&WC(s)&&(s=tw(s)),s&&(o.fields[yF]=s),{mapValue:o}}(t,e):n instanceof id?LF(n,e):n instanceof sd?FF(n,e):function(i,s){let o=OF(i,s),a=SL(o)+SL(i.Ie);return yT(o)&&yT(i.Ie)?kF(a):JC(i.serializer,a)}(n,e)}function FJ(n,e,t){return n instanceof id?LF(n,e):n instanceof sd?FF(n,e):t}function OF(n,e){return n instanceof lf?function(r){return yT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var uf=class extends cf{},id=class extends cf{constructor(e){super(),this.elements=e}};function LF(n,e){let t=VF(e);for(let r of n.elements)t.some(i=>Ia(i,r))||t.push(r);return{arrayValue:{values:t}}}var sd=class extends cf{constructor(e){super(),this.elements=e}};function FF(n,e){let t=VF(e);for(let r of n.elements)t=t.filter(i=>!Ia(i,r));return{arrayValue:{values:t}}}var lf=class extends cf{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function SL(n){return zn(n.integerValue||n.doubleValue)}function VF(n){return QC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VJ(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof id&&i instanceof id||r instanceof sd&&i instanceof sd?tf(r.elements,i.elements,Ia):r instanceof lf&&i instanceof lf?Ia(r.Ie,i.Ie):r instanceof uf&&i instanceof uf}(n.transform,e.transform)}var xT=class{constructor(e,t){this.version=e,this.transformResults=t}},Tc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function y_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var df=class{};function jF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cg(n.key,Tc.none()):new od(n.key,n.data,Tc.none());{let t=n.data,r=ws.empty(),i=new qr(bs.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sa(n.key,r,new Qs(i.toArray()),Tc.none())}}function jJ(n,e,t){n instanceof od?function(i,s,o){let a=i.value.clone(),c=CL(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Sa?function(i,s,o){if(!y_(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=CL(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(BF(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function bg(n,e,t,r){return n instanceof od?function(s,o,a,c){if(!y_(s.precondition,o))return a;let u=s.value.clone(),h=AL(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Sa?function(s,o,a,c){if(!y_(s.precondition,o))return a;let u=AL(s.fieldTransforms,c,o),h=o.data;return h.setAll(BF(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,o,a){return y_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function BJ(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=OF(r.transform,i||null);s!=null&&(t===null&&(t=ws.empty()),t.set(r.field,s))}return t||null}function TL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tf(r,i,(s,o)=>VJ(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var od=class extends df{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Sa=class extends df{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function BF(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function CL(n,e,t){let r=new Map;yn(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FJ(o,a,t[i]))}return r}function AL(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,LJ(s,o,e))}return r}var Cg=class extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},RT=class extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var PT=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&jJ(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=bg(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=bg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=MF();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=jF(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(t,r)=>TL(t,r))&&tf(this.baseMutations,e.baseMutations,(t,r)=>TL(t,r))}},MT=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){yn(e.mutations.length===r.length);let i=function(){return RJ}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var kT=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var OT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Tr,on;function UJ(n){switch(n){case xe.OK:return vt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return vt()}}function UF(n){if(n===void 0)return Cc("GRPC error has no .code"),xe.UNKNOWN;switch(n){case Tr.OK:return xe.OK;case Tr.CANCELLED:return xe.CANCELLED;case Tr.UNKNOWN:return xe.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return xe.INTERNAL;case Tr.UNAVAILABLE:return xe.UNAVAILABLE;case Tr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Tr.NOT_FOUND:return xe.NOT_FOUND;case Tr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Tr.ABORTED:return xe.ABORTED;case Tr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Tr.DATA_LOSS:return xe.DATA_LOSS;default:return vt()}}(on=Tr||(Tr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";var DL=null;var qJ=new Ic([4294967295,4294967295],0);function NL(n){let e=XL().encode(n),t=new YS;return t.update(e),new Uint8Array(t.digest())}function xL(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ic([t,r],0),new Ic([i,s],0)]}var LT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xl(`Invalid padding: ${t}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ic.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ic.fromNumber(r)));return i.compare(qJ)===1&&(i=new Ic([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=NL(e),[r,i]=xL(t);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;let t=NL(e),[r,i]=xL(t);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Xl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var A_=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ag.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(kt.min(),i,new nr(Ht),xc(),en())}},Ag=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,en(),en(),en())}};var Jh=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},D_=class{constructor(e,t){this.targetId=e,this.ge=t}},N_=class{constructor(e,t,r=oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},x_=class{constructor(){this.pe=0,this.ye=RL(),this.we=oi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=en(),t=en(),r=en();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new Ag(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=RL()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,yn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},FT=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xc(),this.$e=f_(),this.Ue=f_(),this.Ke=new nr(Ht)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let s=i.target;if(AT(s))if(r===0){let o=new ft(s.path);this.ze(t,o,Lo.newNoDocument(o,kt.min()))}else yn(r===1);else{let o=this.et(t);if(o!==r){let a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,u)}DL?.rt(function(h,g,v,p,E){var S,R,x,B,W,oe;let ve={localCacheCount:h,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},Ie=g.unchangedNames;return Ie&&(ve.bloomFilter={applied:E===0,hashCount:(S=Ie?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(B=(x=(R=Ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||x===void 0?void 0:x.length)!==null&&B!==void 0?B:0,padding:(oe=(W=Ie?.bits)===null||W===void 0?void 0:W.padding)!==null&&oe!==void 0?oe:0,mightContain:V=>{var T;return(T=p?.mightContain(V))!==null&&T!==void 0&&T}}),ve}(o,e.ge,this.ke.it(),a,c))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Dc(r).toUint8Array()}catch(c){if(c instanceof I_)return ef("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new LT(o,i,s)}catch(c){return ef(c instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((s,o)=>{let a=this.Xe(o);if(a){if(s.current&&AT(a.target)){let c=new ft(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,Lo.newNoDocument(c,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=en();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Xe(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));let i=new A_(e,t,this.Ke,this.Qe,r);return this.Qe=xc(),this.$e=f_(),this.Ue=f_(),this.Ke=new nr(Ht),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new x_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new qr(Ht),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qr(Ht),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||tt("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new x_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function f_(){return new nr(ft.comparator)}function RL(){return new nr(ft.comparator)}var $J={asc:"ASCENDING",desc:"DESCENDING"},zJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HJ={and:"AND",or:"OR"},VT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function jT(n,e){return n.useProto3Json||ew(e)?e:{value:e}}function R_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WJ(n,e){return R_(n,e.toTimestamp())}function Ea(n){return yn(!!n),kt.fromTimestamp(function(t){let r=Ac(t);return new tr(r.seconds,r.nanos)}(n))}function XC(n,e){return BT(n,e).canonicalString()}function BT(n,e){let t=function(i){return new Hn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $F(n){let e=Hn.fromString(n);return yn(KF(e)),e}function UT(n,e){return XC(n.databaseId,e.path)}function nT(n,e){let t=$F(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(HF(t))}function zF(n,e){return XC(n.databaseId,e)}function GJ(n){let e=$F(n);return e.length===4?Hn.emptyPath():HF(e)}function qT(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HF(n){return yn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function PL(n,e,t){return{name:UT(n,e),fields:t.value.mapValue.fields}}function KJ(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(yn(h===void 0||typeof h=="string"),oi.fromBase64String(h||"")):(yn(h===void 0||h instanceof Buffer||h instanceof Uint8Array),oi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let h=u.code===void 0?xe.UNKNOWN:UF(u.code);return new nt(h,u.message||"")}(o);t=new N_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=nT(n,r.document.name),s=Ea(r.document.updateTime),o=r.document.createTime?Ea(r.document.createTime):kt.min(),a=new ws({mapValue:{fields:r.document.fields}}),c=Lo.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Jh(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=nT(n,r.document),s=r.readTime?Ea(r.readTime):kt.min(),o=Lo.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Jh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=nT(n,r.document),s=r.removedTargetIds||[];t=new Jh([],s,i,null)}else{if(!("filter"in e))return vt();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new OT(i,s),a=r.targetId;t=new D_(a,o)}}return t}function QJ(n,e){let t;if(e instanceof od)t={update:PL(n,e.key,e.value)};else if(e instanceof Cg)t={delete:UT(n,e.key)};else if(e instanceof Sa)t={update:PL(n,e.key,e.data),updateMask:iX(e.fieldMask)};else{if(!(e instanceof RT))return vt();t={verify:UT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof uf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof id)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw vt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:WJ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(n,e.precondition)),t}function YJ(n,e){return n&&n.length>0?(yn(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Ea(i.updateTime):Ea(s);return o.isEqual(kt.min())&&(o=Ea(s)),new xT(o,i.transformResults||[])}(t,e))):[]}function ZJ(n,e){return{documents:[zF(n,e.path)]}}function JJ(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zF(n,i);let s=function(u){if(u.length!==0)return GF(Fo.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(h=>function(v){return{field:Qh(v.field),direction:tX(v.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=jT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:t,parent:i}}function XJ(n){let e=GJ(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){yn(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(g){let v=WF(g);return v instanceof Fo&&SF(v)?v.getFilters():[v]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(v=>function(E){return new af(Yh(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(g){let v;return v=typeof g=="object"?g.value:g,ew(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(g){let v=!!g.before,p=g.values||[];return new of(p,v)}(t.startAt));let u=null;return t.endAt&&(u=function(g){let v=!g.before,p=g.values||[];return new of(p,v)}(t.endAt)),CJ(e,i,o,s,a,"F",c,u)}function eX(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WF(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Yh(t.unaryFilter.field);return Ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Yh(t.unaryFilter.field);return Ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Yh(t.unaryFilter.field);return Ar.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Yh(t.unaryFilter.field);return Ar.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(n):n.fieldFilter!==void 0?function(t){return Ar.create(Yh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fo.create(t.compositeFilter.filters.map(r=>WF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt()}}(t.compositeFilter.op))}(n):vt()}function tX(n){return $J[n]}function nX(n){return zJ[n]}function rX(n){return HJ[n]}function Qh(n){return{fieldPath:n.canonicalString()}}function Yh(n){return bs.fromServerFormat(n.fieldPath)}function GF(n){return n instanceof Ar?function(t){if(t.op==="=="){if(_L(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NAN"}};if(vL(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_L(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NOT_NAN"}};if(vL(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(t.field),op:nX(t.op),value:t.value}}}(n):n instanceof Fo?function(t){let r=t.getFilters().map(i=>GF(i));return r.length===1?r[0]:{compositeFilter:{op:rX(t.op),filters:r}}}(n):vt()}function iX(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Dg=class n{constructor(e,t,r,i,s=kt.min(),o=kt.min(),a=oi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $T=class{constructor(e){this.Tt=e}};function sX(n){let e=XJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?NT(e,e.limit,"L"):e}var P_=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(zn(e.integerValue));else if("doubleValue"in e){let r=zn(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Ig(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ac(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Dc(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?bF(e)?this.ft(t,Number.MAX_SAFE_INTEGER):wF(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):vt()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let s=e.fields||{};this.ft(t,53);let o=nf,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(zn(a)),this.wt(o,t),this.Rt(s[o],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),ft.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};P_.xt=new P_;var zT=class{constructor(){this.Tn=new HT}addToCollectionParentIndex(e,t){return this.Tn.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}deleteAllFieldIndexes(e){return Fe.resolve()}createTargetIndexes(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getIndexType(e,t){return Fe.resolve(0)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,t){return Fe.resolve(nd.min())}getMinOffsetFromCollectionGroup(e,t){return Fe.resolve(nd.min())}updateCollectionGroup(e,t,r){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}},HT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qr(Hn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qr(Hn.comparator)).toArray()}};var zfe=new Uint8Array(0);var ML={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QF=41943040,Ks=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(QF,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);var Ng=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new n(0)}static Kn(){return new n(-1)}};var kL="LruGarbageCollector",oX=1048576;function OL([n,e],[t,r]){let i=Ht(n,t);return i===0?Ht(e,r):i}var WT=class{constructor(e){this.Hn=e,this.buffer=new qr(OL),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();OL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},GT=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){tt(kL,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>G(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){yf(t)?tt(kL,"Ignoring IndexedDB error during garbage collection: ",t):yield mf(t)}yield this.er(3e5)}))}},KT=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Fe.resolve(zC.ae);let r=new WT(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(ML)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ML):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,c,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),Gh()<=Yt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}};function aX(n,e){return new KT(n,e)}var QT=class{constructor(){this.changes=new Nc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Lo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?Fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var YT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ZT=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bg(r.mutation,i,Qs.empty(),tr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,en()).next(()=>r))}getLocalViewOfDocuments(e,t,r=en()){let i=Jl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=yg();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Jl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,en()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=xc(),o=wg(),a=function(){return wg()}();return t.forEach((c,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Sa)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),bg(h.mutation,u,h.mutation.getFieldMask(),tr.now())):o.set(u.key,Qs.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var g;return a.set(u,new YT(h,(g=o.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=wg(),i=new nr((o,a)=>o-a),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=r.get(c)||Qs.empty();h=a.applyToLocalView(u,h),r.set(c,h);let g=(i.get(a.batchId)||en()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,g=MF();h.forEach(v=>{if(!s.has(v)){let p=jF(t.get(v),r.get(v));p!==null&&g.set(v,p),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return Fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Fe.resolve(Jl()),a=Eg,c=s;return o.next(u=>Fe.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(h)?Fe.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,en())).next(h=>({batchId:a,changes:PF(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(r=>{let i=yg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=yg();return this.indexManager.getCollectionParents(e,s).next(a=>Fe.forEach(a,c=>{let u=function(g,v){return new rd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{let h=u.getKey();o.get(h)===null&&(o=o.insert(h,Lo.newInvalidDocument(h)))});let a=yg();return o.forEach((c,u)=>{let h=s.get(c);h!==void 0&&bg(h.mutation,u,Qs.empty(),tr.now()),iw(t,u)&&(a=a.insert(c,u))}),a})}};var JT=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Fe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ea(i.createTime)}}(t)),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:sX(i.bundledQuery),readTime:Ea(i.readTime)}}(t)),Fe.resolve()}};var XT=class{constructor(){this.overlays=new nr(ft.comparator),this.Rr=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Jl();return Fe.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),Fe.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),Fe.resolve()}getOverlaysForCollection(e,t,r){let i=Jl(),s=t.length+1,o=new ft(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new nr((u,h)=>u-h),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Jl(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Jl(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return Fe.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kT(t,r));let s=this.Rr.get(t);s===void 0&&(s=en(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}};var eC=class{constructor(){this.sessionToken=oi.EMPTY_BYTE_STRING}getSessionToken(e){return Fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Fe.resolve()}};var xg=class{constructor(){this.Vr=new qr(Cr.mr),this.gr=new qr(Cr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Cr(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Cr(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new ft(new Hn([])),r=new Cr(t,e),i=new Cr(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new ft(new Hn([])),r=new Cr(t,e),i=new Cr(t,e+1),s=en();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Cr(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Cr=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ft.comparator(e.key,t.key)||Ht(e.Cr,t.Cr)}static pr(e,t){return Ht(e.Cr,t.Cr)||ft.comparator(e.key,t.key)}};var tC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qr(Cr.mr)}checkEmpty(e){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new PT(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Mr=this.Mr.add(new Cr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Fe.resolve(o)}lookupMutationBatch(e,t){return Fe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),s=i<0?0:i;return Fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?HC:this.Fr-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Cr(t,0),i=new Cr(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{let a=this.Or(o.Cr);s.push(a)}),Fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qr(Ht);return t.forEach(i=>{let s=new Cr(i,0),o=new Cr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),Fe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ft.isDocumentKey(s)||(s=s.child(""));let o=new Cr(new ft(s),0),a=new qr(Ht);return this.Mr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Cr)),!0)},o),Fe.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){yn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Fe.forEach(t.mutations,i=>{let s=new Cr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Cr(t,0),i=this.Mr.firstAfterOrEqual(r);return Fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var nC=class{constructor(e){this.kr=e,this.docs=function(){return new nr(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return Fe.resolve(r?r.document.mutableCopy():Lo.newInvalidDocument(t))}getEntries(e,t){let r=xc();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Lo.newInvalidDocument(i))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=xc(),o=t.path,a=new ft(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aJ(oJ(h),r)<=0||(i.has(h.key)||iw(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Fe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){vt()}qr(e,t){return Fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rC(this)}getSize(e){return Fe.resolve(this.size)}},rC=class extends QT{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Fe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var iC=class{constructor(e){this.persistence=e,this.Qr=new Nc(t=>YC(t),ZC),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xg,this.targetCount=0,this.Kr=Ng.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Fe.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ng(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.zn(t),Fe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Fe.waitFor(s).next(()=>i)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return Fe.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Fe.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Fe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Ur.vr(t);return Fe.resolve(r)}containsKey(e,t){return Fe.resolve(this.Ur.containsKey(t))}};var M_=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new zC(0),this.zr=!1,this.zr=!0,this.jr=new eC,this.referenceDelegate=e(this),this.Hr=new iC(this),this.indexManager=new zT,this.remoteDocumentCache=function(i){return new nC(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new $T(t),this.Yr=new JT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new tC(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){tt("MemoryPersistence","Starting transaction:",e);let i=new sC(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return Fe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},sC=class extends pT{constructor(e){super(),this.currentSequenceNumber=e}},oC=class n{constructor(e){this.persistence=e,this.ti=new xg,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Fe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.ii,r=>{let i=ft.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,kt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Fe.or([()=>Fe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},k_=class n{constructor(e,t){this.persistence=e,this.oi=new Nc(r=>dJ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aX(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return Fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Fe.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?Fe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,kt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Fe.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Fe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Fe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Fe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=g_(e.data.value)),t}ar(e,t,r){return Fe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return Fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var aC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=en(),i=en();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var cC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var uC=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dO()?8:uJ(_s())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new cC;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Gh()<=Yt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Kh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Fe.resolve()):(Gh()<=Yt.DEBUG&&tt("QueryEngine","Query:",Kh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Gh()<=Yt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Kh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ba(t))):Fe.resolve())}rs(e,t){if(IL(t))return Fe.resolve(null);let r=ba(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=NT(t,null,"F"),r=ba(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=en(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.cs(t,a);return this.ls(t,u,o,c.readTime)?this.rs(e,NT(t,null,"F")):this.hs(e,u,t,c)}))})))}ss(e,t,r,i){return IL(t)||i.isEqual(kt.min())?Fe.resolve(null):this.ns.getDocuments(e,r).next(s=>{let o=this.cs(t,s);return this.ls(t,o,r,i)?Fe.resolve(null):(Gh()<=Yt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kh(t)),this.hs(e,o,t,sJ(i,Eg)).next(a=>a))})}cs(e,t){let r=new qr(xF(e));return t.forEach((i,s)=>{iw(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return Gh()<=Yt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Kh(t)),this.ns.getDocumentsMatchingQuery(e,t,nd.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var eA="LocalStore",cX=3e8,lC=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new nr(Ht),this.Is=new Nc(s=>YC(s),ZC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function uX(n,e,t,r){return new lC(n,e,t,r)}function YF(n,e){return G(this,null,function*(){let t=Rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=en();for(let u of i){o.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of s){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function lX(n,e){let t=Rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let g=u.batch,v=g.keys(),p=Fe.resolve();return v.forEach(E=>{p=p.next(()=>h.getEntry(c,E)).next(S=>{let R=u.docVersions.get(E);yn(R!==null),S.version.compareTo(R)<0&&(g.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=en();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ZF(n){let e=Rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function dX(n,e){let t=Rt(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((h,g)=>{let v=i.get(g);if(!v)return;a.push(t.Hr.removeMatchingKeys(s,h.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,h.addedDocuments,g)));let p=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?p=p.withResumeToken(oi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(g,p),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=cX?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,p,h)&&a.push(t.Hr.updateTargetData(s,p))});let c=xc(),u=en();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(hX(s,o,e.documentUpdates).next(h=>{c=h.Vs,u=h.fs})),!r.isEqual(kt.min())){let h=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return Fe.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.Ts=i,s))}function hX(n,e,t){let r=en(),i=en();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=xc();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(kt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):tt(eA,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Vs:o,fs:i}})}function fX(n,e){let t=Rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pX(n,e){let t=Rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,Fe.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new Dg(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function dC(n,e,t){return G(this,null,function*(){let r=Rt(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!yf(o))throw o;tt(eA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function LL(n,e,t){let r=Rt(n),i=kt.min(),s=en();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){let g=Rt(c),v=g.Is.get(h);return v!==void 0?Fe.resolve(g.Ts.get(v)):g.Hr.getTargetData(u,h)}(r,o,ba(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:kt.min(),t?s:en())).next(a=>(gX(r,DJ(e),a),{documents:a,gs:s})))}function gX(n,e,t){let r=n.Es.get(e)||kt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}var O_=class{constructor(){this.activeTargetIds=kJ()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var hC=class{constructor(){this.ho=new O_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new O_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fC=class{To(e){}shutdown(){}};var FL="ConnectivityMonitor",L_=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){tt(FL,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){tt(FL,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var p_=null;function pC(){return p_===null?p_=function(){return 268435456+Math.round(2147483648*Math.random())}():p_++,"0x"+p_.toString(16)}var rT="RestConnection",mX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gC=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===S_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,s){let o=pC(),a=this.bo(e,t.toUriEncodedString());tt(rT,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(e,a,c,r).then(u=>(tt(rT,`Received RPC '${e}' ${o}: `,u),u),u=>{throw ef(rT,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,t,r,i,s,o){return this.So(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,t){let r=mX[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var mC=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}};var si="WebChannelConnection",yC=class extends gC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let s=pC();return new Promise((o,a)=>{let c=new ZS;c.setWithCredentials(!0),c.listenOnce(JS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mg.NO_ERROR:let h=c.getResponseJson();tt(si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mg.TIMEOUT:tt(si,`RPC '${e}' ${s} timed out`),a(new nt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case mg.HTTP_ERROR:let g=c.getStatus();if(tt(si,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let p=v?.error;if(p&&p.status&&p.message){let E=function(R){let x=R.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(x)>=0?x:xe.UNKNOWN}(p.status);a(new nt(E,p.message))}else a(new nt(xe.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new nt(xe.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{tt(si,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);tt(si,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}Wo(e,t,r){let i=pC(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tT(),a=eT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=s.join("");tt(si,`Creating RPC '${e}' stream ${i}: ${h}`,c);let g=o.createWebChannel(h,c),v=!1,p=!1,E=new mC({Fo:R=>{p?tt(si,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(tt(si,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),tt(si,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},Mo:()=>g.close()}),S=(R,x,B)=>{R.listen(x,W=>{try{B(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return S(g,Wh.EventType.OPEN,()=>{p||(tt(si,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),S(g,Wh.EventType.CLOSE,()=>{p||(p=!0,tt(si,`RPC '${e}' stream ${i} transport closed`),E.Uo())}),S(g,Wh.EventType.ERROR,R=>{p||(p=!0,ef(si,`RPC '${e}' stream ${i} transport errored:`,R),E.Uo(new nt(xe.UNAVAILABLE,"The operation could not be completed")))}),S(g,Wh.EventType.MESSAGE,R=>{var x;if(!p){let B=R.data[0];yn(!!B);let W=B,oe=W?.error||((x=W[0])===null||x===void 0?void 0:x.error);if(oe){tt(si,`RPC '${e}' stream ${i} received error:`,oe);let ve=oe.status,Ie=function(O){let U=Tr[O];if(U!==void 0)return UF(U)}(ve),V=oe.message;Ie===void 0&&(Ie=xe.INTERNAL,V="Unknown error status: "+ve+" with message "+oe.message),p=!0,E.Uo(new nt(Ie,V)),g.close()}else tt(si,`RPC '${e}' stream ${i} received:`,B),E.Ko(B)}}),S(a,XS.STAT_EVENT,R=>{R.stat===d_.PROXY?tt(si,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===d_.NOPROXY&&tt(si,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}};function iT(){return typeof document<"u"?document:null}function sw(n){return new VT(n,!0)}var F_=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var VL="PersistentStream",V_=class{constructor(e,t,r,i,s,o,a,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new F_(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return G(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return G(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return G(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Cc(t.toString()),Cc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new nt(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>G(this,null,function*(){this.state=0,this.start()}))}m_(e){return tt(VL,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(tt(VL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vC=class extends V_{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=KJ(this.serializer,e),r=function(s){if(!("targetChange"in s))return kt.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?Ea(o.readTime):kt.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=qT(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=AT(c)?{documents:ZJ(s,c)}:{query:JJ(s,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qF(s,o.resumeToken);let u=jT(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(kt.min())>0){a.readTime=R_(s,o.snapshotVersion.toTimestamp());let u=jT(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=eX(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=qT(this.serializer),t.removeTarget=e,this.I_(t)}},_C=class extends V_{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return yn(!!e.streamToken),this.lastStreamToken=e.streamToken,yn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=YJ(e.writeResults,e.commitTime),r=Ea(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=qT(this.serializer),this.I_(e)}b_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>QJ(this.serializer,r))};this.I_(t)}};var wC=class{},bC=class extends wC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new nt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,BT(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nt(xe.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,BT(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(xe.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},EC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Cc(t),this.N_=!1):tt("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var ad="RemoteStore",IC=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(()=>G(this,null,function*(){ud(this)&&(tt(ad,"Restarting streams for network reachability change."),yield function(c){return G(this,null,function*(){let u=Rt(c);u.W_.add(4),yield jg(u),u.j_.set("Unknown"),u.W_.delete(4),yield ow(u)})}(this))}))}),this.j_=new EC(r,i)}};function ow(n){return G(this,null,function*(){if(ud(n))for(let e of n.G_)yield e(!0)})}function jg(n){return G(this,null,function*(){for(let e of n.G_)yield e(!1)})}function JF(n,e){let t=Rt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),iA(t)?rA(t):vf(t).c_()&&nA(t,e))}function tA(n,e){let t=Rt(n),r=vf(t);t.K_.delete(e),r.c_()&&XF(t,e),t.K_.size===0&&(r.c_()?r.P_():ud(t)&&t.j_.set("Unknown"))}function nA(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vf(n).y_(e)}function XF(n,e){n.H_.Ne(e),vf(n).w_(e)}function rA(n){n.H_=new FT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),vf(n).start(),n.j_.B_()}function iA(n){return ud(n)&&!vf(n).u_()&&n.K_.size>0}function ud(n){return Rt(n).W_.size===0}function e3(n){n.H_=void 0}function yX(n){return G(this,null,function*(){n.j_.set("Online")})}function vX(n){return G(this,null,function*(){n.K_.forEach((e,t)=>{nA(n,e)})})}function _X(n,e){return G(this,null,function*(){e3(n),iA(n)?(n.j_.q_(e),rA(n)):n.j_.set("Unknown")})}function wX(n,e,t){return G(this,null,function*(){if(n.j_.set("Online"),e instanceof N_&&e.state===2&&e.cause)try{yield function(i,s){return G(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.K_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){tt(ad,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield j_(n,r)}else if(e instanceof Jh?n.H_.We(e):e instanceof D_?n.H_.Ze(e):n.H_.je(e),!t.isEqual(kt.min()))try{let r=yield ZF(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.H_.ot(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.K_.get(u);h&&s.K_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let h=s.K_.get(c);if(!h)return;s.K_.set(c,h.withResumeToken(oi.EMPTY_BYTE_STRING,h.snapshotVersion)),XF(s,c);let g=new Dg(h.target,c,u,h.sequenceNumber);nA(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){tt(ad,"Failed to raise snapshot:",r),yield j_(n,r)}})}function j_(n,e,t){return G(this,null,function*(){if(!yf(e))throw e;n.W_.add(1),yield jg(n),n.j_.set("Offline"),t||(t=()=>ZF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>G(this,null,function*(){tt(ad,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield ow(n)}))})}function t3(n,e){return e().catch(t=>j_(n,t,e))}function aw(n){return G(this,null,function*(){let e=Rt(n),t=Ou(e),r=e.U_.length>0?e.U_[e.U_.length-1].batchId:HC;for(;bX(e);)try{let i=yield fX(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,EX(e,i)}catch(i){yield j_(e,i)}n3(e)&&r3(e)})}function bX(n){return ud(n)&&n.U_.length<10}function EX(n,e){n.U_.push(e);let t=Ou(n);t.c_()&&t.S_&&t.b_(e.mutations)}function n3(n){return ud(n)&&!Ou(n).u_()&&n.U_.length>0}function r3(n){Ou(n).start()}function IX(n){return G(this,null,function*(){Ou(n).C_()})}function SX(n){return G(this,null,function*(){let e=Ou(n);for(let t of n.U_)e.b_(t.mutations)})}function TX(n,e,t){return G(this,null,function*(){let r=n.U_.shift(),i=MT.from(r,e,t);yield t3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield aw(n)})}function CX(n,e){return G(this,null,function*(){e&&Ou(n).S_&&(yield function(r,i){return G(this,null,function*(){if(function(o){return UJ(o)&&o!==xe.ABORTED}(i.code)){let s=r.U_.shift();Ou(r).h_(),yield t3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield aw(r)}})}(n,e)),n3(n)&&r3(n)})}function jL(n,e){return G(this,null,function*(){let t=Rt(n);t.asyncQueue.verifyOperationInProgress(),tt(ad,"RemoteStore received new credentials");let r=ud(t);t.W_.add(3),yield jg(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield ow(t)})}function AX(n,e){return G(this,null,function*(){let t=Rt(n);e?(t.W_.delete(2),yield ow(t)):e||(t.W_.add(2),yield jg(t),t.j_.set("Unknown"))})}function vf(n){return n.J_||(n.J_=function(t,r,i){let s=Rt(t);return s.M_(),new vC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:yX.bind(null,n),No:vX.bind(null,n),Lo:_X.bind(null,n),p_:wX.bind(null,n)}),n.G_.push(e=>G(this,null,function*(){e?(n.J_.h_(),iA(n)?rA(n):n.j_.set("Unknown")):(yield n.J_.stop(),e3(n))}))),n.J_}function Ou(n){return n.Y_||(n.Y_=function(t,r,i){let s=Rt(t);return s.M_(),new _C(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:IX.bind(null,n),Lo:CX.bind(null,n),D_:SX.bind(null,n),v_:TX.bind(null,n)}),n.G_.push(e=>G(this,null,function*(){e?(n.Y_.h_(),yield aw(n)):(yield n.Y_.stop(),n.U_.length>0&&(tt(ad,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))}))),n.Y_}var SC=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sA(n,e){if(Cc("AsyncQueue",`${e}: ${n}`),yf(n))return new nt(xe.UNAVAILABLE,`${e}: ${n}`);throw n}var B_=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ft.comparator(t.key,r.key):(t,r)=>ft.comparator(t.key,r.key),this.keyedMap=yg(),this.sortedSet=new nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var U_=class{constructor(){this.Z_=new nr(ft.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):vt():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},hf=class n{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,B_.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var TC=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},CC=class{constructor(){this.queries=BL(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=Rt(t),s=i.queries;i.queries=BL(),s.forEach((o,a)=>{for(let c of a.ta)c.onError(r)})})(this,new nt(xe.ABORTED,"Firestore shutting down"))}};function BL(){return new Nc(n=>NF(n),rw)}function oA(n,e){return G(this,null,function*(){let t=Rt(n),r=3,i=e.query,s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new TC,r=e.ra()?0:1);try{switch(r){case 0:s.ea=yield t.onListen(i,!0);break;case 1:s.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=sA(o,`Initialization of query '${Kh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&cA(t)})}function aA(n,e){return G(this,null,function*(){let t=Rt(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function DX(n,e){let t=Rt(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&cA(t)}function NX(n,e,t){let r=Rt(n),i=r.queries.get(e);if(i)for(let s of i.ta)s.onError(t);r.queries.delete(e)}function cA(n){n.ia.forEach(e=>{e.next()})}var AC,UL;(UL=AC||(AC={}))._a="default",UL.Cache="cache";var Rg=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new hf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=hf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==AC.Cache}};var q_=class{constructor(e){this.key=e}},$_=class{constructor(e){this.key=e}},DC=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=en(),this.mutatedKeys=en(),this.ya=xF(e),this.wa=new B_(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new U_,i=t?t.wa:this.wa,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let v=i.get(h),p=iw(this.query,g)?g:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),R=!1;v&&p?v.data.isEqual(p.data)?E!==S&&(r.track({type:3,doc:p}),R=!0):this.va(v,p)||(r.track({type:2,doc:p}),R=!0,(c&&this.ya(p,c)>0||u&&this.ya(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),R=!0):v&&!p&&(r.track({type:1,doc:v}),R=!0,(c||u)&&(a=!0)),R&&(p?(o=o.add(p),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let o=e.Da.X_();o.sort((h,g)=>function(p,E){let S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return S(p)-S(E)}(h.type,g.type)||this.ya(h.doc,g.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,u=c!==this.ga;return this.ga=c,o.length!==0||u?{snapshot:new hf(this.query,e.wa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new U_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=en(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new $_(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new q_(r))}),t}Oa(e){this.fa=e.gs,this.pa=en();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return hf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},uA="SyncEngine",NC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},xC=class{constructor(e){this.key=e,this.Ba=!1}},RC=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Nc(a=>NF(a),rw),this.qa=new Map,this.Qa=new Set,this.$a=new nr(ft.comparator),this.Ua=new Map,this.Ka=new xg,this.Wa={},this.Ga=new Map,this.za=Ng.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function xX(n,e,t=!0){return G(this,null,function*(){let r=u3(n),i,s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield i3(r,e,t,!0),i})}function RX(n,e){return G(this,null,function*(){let t=u3(n);yield i3(t,e,!0,!1)})}function i3(n,e,t,r){return G(this,null,function*(){let i=yield pX(n.localStore,ba(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield PX(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&JF(n.remoteStore,i),a})}function PX(n,e,t,r,i){return G(this,null,function*(){n.Ha=(g,v,p)=>function(S,R,x,B){return G(this,null,function*(){let W=R.view.ba(x);W.ls&&(W=yield LL(S.localStore,R.query,!1).then(({documents:V})=>R.view.ba(V,W)));let oe=B&&B.targetChanges.get(R.targetId),ve=B&&B.targetMismatches.get(R.targetId)!=null,Ie=R.view.applyChanges(W,S.isPrimaryClient,oe,ve);return $L(S,R.targetId,Ie.Ma),Ie.snapshot})}(n,g,v,p);let s=yield LL(n.localStore,e,!0),o=new DC(e,s.gs),a=o.ba(s.documents),c=Ag.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,c);$L(n,t,u.Ma);let h=new NC(e,t,o);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),u.snapshot})}function MX(n,e,t){return G(this,null,function*(){let r=Rt(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!rw(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&tA(r.remoteStore,i.targetId),PC(r,i.targetId)}).catch(mf))):(PC(r,i.targetId),yield dC(r.localStore,i.targetId,!0))})}function kX(n,e){return G(this,null,function*(){let t=Rt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tA(t.remoteStore,r.targetId))})}function OX(n,e,t){return G(this,null,function*(){let r=qX(n);try{let i=yield function(o,a){let c=Rt(o),u=tr.now(),h=a.reduce((p,E)=>p.add(E.key),en()),g,v;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=xc(),S=en();return c.ds.getEntries(p,h).next(R=>{E=R,E.forEach((x,B)=>{B.isValidDocument()||(S=S.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,E)).next(R=>{g=R;let x=[];for(let B of a){let W=BJ(B,g.get(B.key).overlayedDocument);W!=null&&x.push(new Sa(B.key,W,EF(W.value.mapValue),Tc.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,a)}).next(R=>{v=R;let x=R.applyToLocalDocumentSet(g,S);return c.documentOverlayCache.saveOverlays(p,R.batchId,x)})}).then(()=>({batchId:v.batchId,changes:PF(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Wa[o.currentUser.toKey()];u||(u=new nr(Ht)),u=u.insert(a,c),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Bg(r,i.changes),yield aw(r.remoteStore)}catch(i){let s=sA(i,"Failed to persist write");t.reject(s)}})}function s3(n,e){return G(this,null,function*(){let t=Rt(n);try{let r=yield dX(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Ua.get(s);o&&(yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?yn(o.Ba):i.removedDocuments.size>0&&(yn(o.Ba),o.Ba=!1))}),yield Bg(t,r,e)}catch(r){yield mf(r)}})}function qL(n,e,t){let r=Rt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((s,o)=>{let a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Rt(o);c.onlineState=a;let u=!1;c.queries.forEach((h,g)=>{for(let v of g.ta)v.sa(a)&&(u=!0)}),u&&cA(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LX(n,e,t){return G(this,null,function*(){let r=Rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ua.get(e),s=i&&i.key;if(s){let o=new nr(ft.comparator);o=o.insert(s,Lo.newNoDocument(s,kt.min()));let a=en().add(s),c=new A_(kt.min(),new Map,new nr(Ht),o,a);yield s3(r,c),r.$a=r.$a.remove(s),r.Ua.delete(e),lA(r)}else yield dC(r.localStore,e,!1).then(()=>PC(r,e,t)).catch(mf)})}function FX(n,e){return G(this,null,function*(){let t=Rt(n),r=e.batch.batchId;try{let i=yield lX(t.localStore,e);a3(t,r,null),o3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bg(t,i)}catch(i){yield mf(i)}})}function VX(n,e,t){return G(this,null,function*(){let r=Rt(n);try{let i=yield function(o,a){let c=Rt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(g=>(yn(g!==null),h=g.keys(),c.mutationQueue.removeMutationBatch(u,g))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);a3(r,e,t),o3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bg(r,i)}catch(i){yield mf(i)}})}function o3(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function a3(n,e,t){let r=Rt(n),i=r.Wa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function PC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||c3(n,r)})}function c3(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(tA(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),lA(n))}function $L(n,e,t){for(let r of t)r instanceof q_?(n.Ka.addReference(r.key,e),jX(n,r)):r instanceof $_?(tt(uA,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||c3(n,r.key)):vt()}function jX(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(tt(uA,"New document in limbo: "+t),n.Qa.add(r),lA(n))}function lA(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new ft(Hn.fromString(e)),r=n.za.next();n.Ua.set(r,new xC(t)),n.$a=n.$a.insert(t,r),JF(n.remoteStore,new Dg(ba(nw(t.path)),r,"TargetPurposeLimboResolution",zC.ae))}}function Bg(n,e,t){return G(this,null,function*(){let r=Rt(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let g=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(u){i.push(u);let g=aC.Yi(c.targetId,u);s.push(g)}}))}),yield Promise.all(o),r.La.p_(i),yield function(c,u){return G(this,null,function*(){let h=Rt(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Fe.forEach(u,v=>Fe.forEach(v.Hi,p=>h.persistence.referenceDelegate.addReference(g,v.targetId,p)).next(()=>Fe.forEach(v.Ji,p=>h.persistence.referenceDelegate.removeReference(g,v.targetId,p)))))}catch(g){if(!yf(g))throw g;tt(eA,"Failed to update sequence numbers: "+g)}for(let g of u){let v=g.targetId;if(!g.fromCache){let p=h.Ts.get(v),E=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(E);h.Ts=h.Ts.insert(v,S)}}})}(r.localStore,s))})}function BX(n,e){return G(this,null,function*(){let t=Rt(n);if(!t.currentUser.isEqual(e)){tt(uA,"User change. New user:",e.toKey());let r=yield YF(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(c=>{c.reject(new nt(xe.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bg(t,r.Rs)}})}function UX(n,e){let t=Rt(n),r=t.Ua.get(e);if(r&&r.Ba)return en().add(r.key);{let i=en(),s=t.qa.get(e);if(!s)return i;for(let o of s){let a=t.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function u3(n){let e=Rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LX.bind(null,e),e.La.p_=DX.bind(null,e.eventManager),e.La.Ja=NX.bind(null,e.eventManager),e}function qX(n){let e=Rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VX.bind(null,e),e}var l3=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return G(this,null,function*(){this.serializer=sw(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return uX(this.persistence,new uC,t.initialUser,this.serializer)}Xa(t){return new M_(oC.ri,this.serializer)}Za(t){return new hC}terminate(){return G(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),MC=class extends l3{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){yn(this.persistence.referenceDelegate instanceof k_);let r=this.persistence.referenceDelegate.garbageCollector;return new GT(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new M_(r=>k_.ri(r,t),this.serializer)}};var $X=(()=>{class n{initialize(t,r){return G(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BX.bind(null,this.syncEngine),yield AX(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new CC}()}createDatastore(t){let r=sw(t.databaseInfo.databaseId),i=function(o){return new yC(o)}(t.databaseInfo);return function(o,a,c,u){return new bC(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new IC(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>qL(this.syncEngine,r,0),function(){return L_.D()?new L_:new fC}())}createSyncEngine(t,r){return function(s,o,a,c,u,h,g){let v=new RC(s,o,a,c,u,h);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return G(this,null,function*(){var t,r;yield function(s){return G(this,null,function*(){let o=Rt(s);tt(ad,"RemoteStore shutting down."),o.W_.add(5),yield jg(o),o.z_.shutdown(),o.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Pg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Cc("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Lu="FirestoreClient",kC=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ur.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>G(this,null,function*(){tt(Lu,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(tt(Lu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>G(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=sA(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function sT(n,e){return G(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),tt(Lu,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>G(this,null,function*(){r.isEqual(i)||(yield YF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function zL(n,e){return G(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield zX(n);tt(Lu,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jL(e.remoteStore,i)),n._onlineComponents=e})}function zX(n){return G(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt(Lu,"Using user provided OfflineComponentProvider");try{yield sT(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ef("Error using user provided cache. Falling back to memory cache: "+t),yield sT(n,new l3)}}else tt(Lu,"Using default OfflineComponentProvider"),yield sT(n,new MC(void 0));return n._offlineComponents})}function d3(n){return G(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt(Lu,"Using user provided OnlineComponentProvider"),yield zL(n,n._uninitializedComponentsProvider._online)):(tt(Lu,"Using default OnlineComponentProvider"),yield zL(n,new $X))),n._onlineComponents})}function HX(n){return d3(n).then(e=>e.syncEngine)}function z_(n){return G(this,null,function*(){let e=yield d3(n),t=e.eventManager;return t.onListen=xX.bind(null,e.syncEngine),t.onUnlisten=MX.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RX.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kX.bind(null,e.syncEngine),t})}function WX(n,e,t={}){let r=new Oo;return n.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(s,o,a,c,u){let h=new Pg({next:v=>{h.su(),o.enqueueAndForget(()=>aA(s,g));let p=v.docs.has(a);!p&&v.fromCache?u.reject(new nt(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&v.fromCache&&c&&c.source==="server"?u.reject(new nt(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new Rg(nw(a.path),h,{includeMetadataChanges:!0,Ta:!0});return oA(s,g)}(yield z_(n),n.asyncQueue,e,t,r)})),r.promise}function GX(n,e,t={}){let r=new Oo;return n.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return function(s,o,a,c,u){let h=new Pg({next:v=>{h.su(),o.enqueueAndForget(()=>aA(s,g)),v.fromCache&&c.source==="server"?u.reject(new nt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new Rg(a,h,{includeMetadataChanges:!0,Ta:!0});return oA(s,g)}(yield z_(n),n.asyncQueue,e,t,r)})),r.promise}function h3(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var HL=new Map;function f3(n,e,t){if(!t)throw new nt(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KX(n,e,t,r){if(e===!0&&r===!0)throw new nt(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WL(n){if(!ft.isDocumentKey(n))throw new nt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GL(n){if(ft.isDocumentKey(n))throw new nt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":vt()}function Ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=cw(n);throw new nt(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var p3="firestore.googleapis.com",KL=!0,H_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p3,this.ssl=KL}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:KL;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oX)throw new nt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ff=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oT;switch(r.type){case"firstParty":return new lT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return G(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=HL.get(t);r&&(tt("ComponentProvider","Removing Datastore"),HL.delete(t),r.terminate())}(this),Promise.resolve()}};function g3(n,e,t,r={}){var i;let s=(n=Ys(n,ff))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==p3&&s.host!==a&&ef("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!$l(c,o)&&(n._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Ur.MOCK_USER;else{u=oO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new nt(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ur(g)}n._authCredentials=new aT(new v_(u,h))}}var cd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Si=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Mu=class n extends cd{constructor(e,t,r){super(e,t,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new ft(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function m3(n,e,...t){if(n=Zr(n),f3("collection","path",e),n instanceof ff){let r=Hn.fromString(e,...t);return GL(r),new Mu(n,null,r)}{if(!(n instanceof Si||n instanceof Mu))throw new nt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Hn.fromString(e,...t));return GL(r),new Mu(n.firestore,null,r)}}function dA(n,e,...t){if(n=Zr(n),arguments.length===1&&(e=w_.newId()),f3("doc","path",e),n instanceof ff){let r=Hn.fromString(e,...t);return WL(r),new Si(n,null,new ft(r))}{if(!(n instanceof Si||n instanceof Mu))throw new nt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Hn.fromString(e,...t));return WL(r),new Si(n.firestore,n instanceof Mu?n.converter:null,new ft(r))}}var QL="AsyncQueue",W_=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new F_(this,"async_queue_retry"),this.Su=()=>{let r=iT();r&&tt(QL,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=iT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=iT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Oo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return G(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!yf(e))throw e;tt(QL,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cc("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=SC.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&vt()}verifyOperationInProgress(){}Mu(){return G(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};function YL(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Ta=class extends ff{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new W_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return G(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,yield e}})}};function y3(n,e){let t=typeof n=="object"?n:$h(),r=typeof n=="string"?n:e||S_,i=W0(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=iO("firestore");s&&g3(i,...s)}return i}function uw(n){if(n._terminated)throw new nt(xe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QX(n),n._firestoreClient}function QX(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,u,h){return new gT(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h3(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new kC(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Mg=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(oi.fromBase64String(e))}catch(t){throw new nt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var kg=class{constructor(e){this._methodName=e}};var Og=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}};var Lg=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var YX=/^__.*__$/,OC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new od(e,this.data,t,this.fieldTransforms)}},G_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function v3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}var LC=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Q_(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(v3(this.Lu)&&YX.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},FC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sw(e)}ju(e,t,r,i=!1){return new LC({Lu:e,methodName:t,zu:r,path:bs.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hA(n){let e=n._freezeSettings(),t=sw(n._databaseId);return new FC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZX(n,e,t,r,i,s={}){let o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);fA("Data must be an object, but it was:",o,r);let a=_3(r,o),c,u;if(s.merge)c=new Qs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let g of s.mergeFields){let v=VC(e,g,t);if(!o.contains(v))throw new nt(xe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);b3(h,v)||h.push(v)}c=new Qs(h),u=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,u=o.fieldTransforms;return new OC(new ws(a),c,u)}var K_=class n extends kg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function JX(n,e,t,r){let i=n.ju(1,e,t);fA("Data must be an object, but it was:",i,r);let s=[],o=ws.empty();Fu(r,(c,u)=>{let h=pA(e,c,t);u=Zr(u);let g=i.Uu(h);if(u instanceof K_)s.push(h);else{let v=Ug(u,g);v!=null&&(s.push(h),o.set(h,v))}});let a=new Qs(s);return new G_(o,a,i.fieldTransforms)}function XX(n,e,t,r,i,s){let o=n.ju(1,e,t),a=[VC(e,r,t)],c=[i];if(s.length%2!=0)throw new nt(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(VC(e,s[v])),c.push(s[v+1]);let u=[],h=ws.empty();for(let v=a.length-1;v>=0;--v)if(!b3(u,a[v])){let p=a[v],E=c[v];E=Zr(E);let S=o.Uu(p);if(E instanceof K_)u.push(p);else{let R=Ug(E,S);R!=null&&(u.push(p),h.set(p,R))}}let g=new Qs(u);return new G_(h,g,o.fieldTransforms)}function eee(n,e,t,r=!1){return Ug(t,n.ju(r?4:3,e))}function Ug(n,e){if(w3(n=Zr(n)))return fA("Unsupported field value:",e,n),_3(n,e);if(n instanceof kg)return function(r,i){if(!v3(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Ug(a,i.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Zr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=tr.fromDate(r);return{timestampValue:R_(i.serializer,s)}}if(r instanceof tr){let s=new tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:R_(i.serializer,s)}}if(r instanceof Og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mg)return{bytesValue:qF(i.serializer,r._byteString)};if(r instanceof Si){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:XC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lg)return function(o,a){return{mapValue:{fields:{[GC]:{stringValue:KC},[nf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return JC(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${cw(r)}`)}(n,e)}function _3(n,e){let t={};return pF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fu(n,(r,i)=>{let s=Ug(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function w3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tr||n instanceof Og||n instanceof Mg||n instanceof Si||n instanceof kg||n instanceof Lg)}function fA(n,e,t){if(!w3(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=cw(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function VC(n,e,t){if((e=Zr(e))instanceof pf)return e._internalPath;if(typeof e=="string")return pA(n,e);throw Q_("Field path arguments must be of type string or ",n,!1,void 0,t)}var tee=new RegExp("[~\\*/\\[\\]]");function pA(n,e,t){if(e.search(tee)>=0)throw Q_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pf(...e.split("."))._internalPath}catch{throw Q_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Q_(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new nt(xe.INVALID_ARGUMENT,a+n+c)}function b3(n,e){return n.some(t=>t.isEqual(e))}var Y_=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(gA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},jC=class extends Y_{data(){return super.data()}};function gA(n,e){return typeof e=="string"?pA(n,e):e instanceof pf?e._internalPath:e._delegate._internalPath}function E3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fg=class{},BC=class extends Fg{};function I3(n,e,...t){let r=[];e instanceof Fg&&r.push(e),r=r.concat(t),function(s){let o=s.filter(c=>c instanceof UC).length,a=s.filter(c=>c instanceof Z_).length;if(o>1||o>0&&a>0)throw new nt(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Z_=class n extends BC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return T3(e._query,t),new cd(e.firestore,e.converter,DT(e._query,t))}_parse(e){let t=hA(e.firestore);return function(s,o,a,c,u,h,g){let v;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new nt(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){JL(g,h);let E=[];for(let S of g)E.push(ZL(c,s,S));v={arrayValue:{values:E}}}else v=ZL(c,s,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||JL(g,h),v=eee(a,o,g,h==="in"||h==="not-in");return Ar.create(u,h,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function S3(n,e,t){let r=e,i=gA("where",n);return Z_._create(i,r,t)}var UC=class n extends Fg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Fo.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)T3(o,c),o=DT(o,c)}(e._query,t),new cd(e.firestore,e.converter,DT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function ZL(n,e,t){if(typeof(t=Zr(t))=="string"){if(t==="")throw new nt(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DF(e)&&t.indexOf("/")!==-1)throw new nt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Hn.fromString(t));if(!ft.isDocumentKey(r))throw new nt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yL(n,new ft(r))}if(t instanceof Si)return yL(n,t._key);throw new nt(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cw(t)}.`)}function JL(n,e){if(!Array.isArray(n)||n.length===0)throw new nt(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T3(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new nt(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var qC=class{convertValue(e,t="none"){switch(ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Fu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[nf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>zn(o.doubleValue));return new Lg(s)}convertGeoPoint(e){return new Og(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=tw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sg(e));default:return null}}convertTimestamp(e){let t=Ac(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Hn.fromString(e);yn(KF(r));let i=new T_(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(t)||Cc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function nee(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ed=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},J_=class extends Y_{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(gA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Xh=class extends J_{data(e={}){return super.data(e)}},X_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xh(this._firestore,this._userDataWriter,r.key,r,new ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:ree(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function ree(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function C3(n){n=Ys(n,Si);let e=Ys(n.firestore,Ta);return WX(uw(e),n._key).then(t=>R3(e,n,t))}var Vg=class extends qC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mg(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}};function A3(n){n=Ys(n,cd);let e=Ys(n.firestore,Ta),t=uw(e),r=new Vg(e);return E3(n._query),GX(t,n._query).then(i=>new X_(e,r,n,i))}function D3(n,e,t,...r){n=Ys(n,Si);let i=Ys(n.firestore,Ta),s=hA(i),o;return o=typeof(e=Zr(e))=="string"||e instanceof pf?XX(s,"updateDoc",n._key,e,t,r):JX(s,"updateDoc",n._key,e),yA(i,[o.toMutation(n._key,Tc.exists(!0))])}function N3(n){return yA(Ys(n.firestore,Ta),[new Cg(n._key,Tc.none())])}function x3(n,e){let t=Ys(n.firestore,Ta),r=dA(n),i=nee(n.converter,e);return yA(t,[ZX(hA(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Tc.exists(!1))]).then(()=>r)}function mA(n,...e){var t,r,i;n=Zr(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YL(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(YL(e[o])){let g=e[o];e[o]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,u,h;if(n instanceof Si)u=Ys(n.firestore,Ta),h=nw(n._key.path),c={next:g=>{e[o]&&e[o](R3(u,n,g))},error:e[o+1],complete:e[o+2]};else{let g=Ys(n,cd);u=Ys(g.firestore,Ta),h=g._query;let v=new Vg(u);c={next:p=>{e[o]&&e[o](new X_(u,v,g,p))},error:e[o+1],complete:e[o+2]},E3(n._query)}return function(v,p,E,S){let R=new Pg(S),x=new Rg(p,R,E);return v.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return oA(yield z_(v),x)})),()=>{R.su(),v.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return aA(yield z_(v),x)}))}}(uw(u),h,a,c)}function yA(n,e){return function(r,i){let s=new Oo;return r.asyncQueue.enqueueAndForget(()=>G(this,null,function*(){return OX(yield HX(r),i,s)})),s.promise}(uw(n),e)}function R3(n,e,t){let r=t.docs.get(e._key),i=new Vg(n);return new J_(n,i,e._key,r,new ed(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){gf=i})(qh),Mo(new Ii("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ta(new cT(r.getProvider("auth-internal")),new dT(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new nt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T_(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hr(aL,cL,e),hr(aL,cL,"esm2017")})();var lw=function(){return lw=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},lw.apply(this,arguments)};var oee={includeMetadataChanges:!1};function P3(n,e){return e===void 0&&(e=oee),new Ut(function(t){var r=mA(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function M3(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:lw(lw({},r),(t={},t[e.idField]=n.id,t))}function k3(n){return P3(n,{includeMetadataChanges:!0}).pipe(qt(function(e){return e.docs}))}function O3(n,e){return e===void 0&&(e={}),k3(n).pipe(qt(function(t){return t.map(function(r){return M3(r,e)})}))}var ld=class{constructor(e){return e}},L3="firestore",vA=class{constructor(){return Hh(L3)}};var _A=new Je("angularfire2.firestore-instances");function aee(n,e){let t=Q0(L3,n,e);return t&&new ld(t)}function cee(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ld(r)}}var uee={provide:vA,deps:[[new ia,_A]]},lee={provide:ld,useFactory:aee,deps:[[new ia,_A],Kl]};function F3(n,...e){return hr("angularfire",Wl.full,"fst"),ls([lee,uee,{provide:_A,useFactory:cee(n),multi:!0,deps:[rn,$n,Gl,ug,[new ia,u_],[new ia,Z0],...e]}])}var _f=ii(O3,!0);var qg=ii(x3,!0,2);var Zs=ii(m3,!0,2);var wf=ii(N3,!0,2);var dd=ii(dA,!0,2);var V3=ii(C3,!0);var wA=ii(A3,!0);var j3=ii(y3,!0);var B3=ii(I3,!0,2);var bA=ii(D3,!0,2);var U3=ii(S3,!0,2);var q3={production:!1,firebase:{apiKey:"AIzaSyAvTioJ_sKljtj0yUnGMWI_Nm-XJ5Q3xBg",authDomain:"inventory-47f95.firebaseapp.com",projectId:"inventory-47f95",storageBucket:"inventory-47f95.firebasestorage.app",messagingSenderId:"602619385143",appId:"1:602619385143:web:d9bb90d640d0148c6e76b2"}};var J3=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Ze(ca),Ze(wi))};static \u0275dir=Fn({type:n})}return n})(),vw=(()=>{class n extends J3{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,features:[Hi]})}return n})(),Qg=new Je("");var hee={provide:Qg,useExisting:Bs(()=>Js),multi:!0};function fee(){let n=mc()?mc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var pee=new Je(""),Js=(()=>{class n extends J3{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!fee())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Ze(ca),Ze(wi),Ze(pee,8))};static \u0275dir=Fn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&zt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Wi([hee]),Hi]})}return n})();function gee(n){return n==null||mee(n)===0}function mee(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Yg=new Je(""),X3=new Je("");function yee(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function vee(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function _ee(n){return gee(n.value)?{required:!0}:null}function $3(n){return null}function e4(n){return n!=null}function t4(n){return xl(n)?Ln(n):n}function n4(n){let e={};return n.forEach(t=>{e=t!=null?Re(Re({},e),t):e}),Object.keys(e).length===0?null:e}function r4(n,e){return e.map(t=>t(n))}function wee(n){return!n.validate}function i4(n){return n.map(e=>wee(e)?e:t=>e.validate(t))}function bee(n){if(!n)return null;let e=n.filter(e4);return e.length==0?null:function(t){return n4(r4(t,e))}}function IA(n){return n!=null?bee(i4(n)):null}function Eee(n){if(!n)return null;let e=n.filter(e4);return e.length==0?null:function(t){let r=r4(t,e).map(t4);return L1(r).pipe(qt(n4))}}function SA(n){return n!=null?Eee(i4(n)):null}function z3(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Iee(n){return n._rawValidators}function See(n){return n._rawAsyncValidators}function EA(n){return n?Array.isArray(n)?n:[n]:[]}function hw(n,e){return Array.isArray(n)?n.includes(e):n===e}function H3(n,e){let t=EA(e);return EA(n).forEach(i=>{hw(t,i)||t.push(i)}),t}function W3(n,e){return EA(e).filter(t=>!hw(n,t))}var fw=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},If=class extends fw{name;get formDirective(){return null}get path(){return null}},Kg=class extends fw{_parent=null;name=null;valueAccessor=null},pw=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Tee={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Sge=pt(Re({},Tee),{"[class.ng-submitted]":"isSubmitted"}),Ca=(()=>{class n extends pw{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ze(Kg,2))};static \u0275dir=Fn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Eu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Hi]})}return n})(),s4=(()=>{class n extends pw{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ze(If,10))};static \u0275dir=Fn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Eu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Hi]})}return n})();var $g="VALID",dw="INVALID",bf="PENDING",zg="DISABLED",Sf=class{},gw=class extends Sf{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Wg=class extends Sf{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Gg=class extends Sf{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ef=class extends Sf{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function o4(n){return(_w(n)?n.validators:n)||null}function Cee(n){return Array.isArray(n)?IA(n):n||null}function a4(n,e){return(_w(e)?e.asyncValidators:n)||null}function Aee(n){return Array.isArray(n)?SA(n):n||null}function _w(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Dee(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Oe(1e3,"");if(!r[t])throw new Oe(1001,"")}function Nee(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Oe(1002,"")})}var mw=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return la(this.statusReactive)}set status(e){la(()=>this.statusReactive.set(e))}_status=Pl(()=>this.statusReactive());statusReactive=Us(void 0);get valid(){return this.status===$g}get invalid(){return this.status===dw}get pending(){return this.status==bf}get disabled(){return this.status===zg}get enabled(){return this.status!==zg}errors;get pristine(){return la(this.pristineReactive)}set pristine(e){la(()=>this.pristineReactive.set(e))}_pristine=Pl(()=>this.pristineReactive());pristineReactive=Us(!0);get dirty(){return!this.pristine}get touched(){return la(this.touchedReactive)}set touched(e){la(()=>this.touchedReactive.set(e))}_touched=Pl(()=>this.touchedReactive());touchedReactive=Us(!1);get untouched(){return!this.touched}_events=new Tn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(H3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(H3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(W3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(W3(e,this._rawAsyncValidators))}hasValidator(e){return hw(this._rawValidators,e)}hasAsyncValidator(e){return hw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pt(Re({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gg(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gg(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pt(Re({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wg(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wg(!0,r))}markAsPending(e={}){this.status=bf;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ef(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pt(Re({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zg,this.errors=null,this._forEachChild(i=>{i.disable(pt(Re({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gw(this.value,r)),this._events.next(new Ef(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pt(Re({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$g,this._forEachChild(r=>{r.enable(pt(Re({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pt(Re({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$g||this.status===bf)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gw(this.value,t)),this._events.next(new Ef(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pt(Re({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zg:$g}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bf,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=t4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ef(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Mr,this.statusChanges=new Mr}_calculateStatus(){return this._allControlsDisabled()?zg:this.errors?dw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bf)?bf:this._anyControlsHaveStatus(dw)?dw:$g}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Wg(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Gg(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_w(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cee(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Aee(this._rawAsyncValidators)}},yw=class extends mw{constructor(e,t,r){super(o4(t),a4(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Nee(this,!0,e),Object.keys(e).forEach(r=>{Dee(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var TA=new Je("",{providedIn:"root",factory:()=>CA}),CA="always";function xee(n,e){return[...e.path,n]}function c4(n,e,t=CA){u4(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Pee(n,e),kee(n,e),Mee(n,e),Ree(n,e)}function G3(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ree(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function u4(n,e){let t=Iee(n);e.validator!==null?n.setValidators(z3(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=See(n);e.asyncValidator!==null?n.setAsyncValidators(z3(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();G3(e._rawValidators,i),G3(e._rawAsyncValidators,i)}function Pee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&l4(n,e)})}function Mee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&l4(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function l4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kee(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Oee(n,e){n==null,u4(n,e)}function Lee(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Fee(n){return Object.getPrototypeOf(n.constructor)===vw}function Vee(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jee(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Js?t=s:Fee(s)?r=s:i=s}),i||r||t||null}var Bee={provide:If,useExisting:Bs(()=>AA)},Hg=Promise.resolve(),AA=(()=>{class n extends If{callSetDisabledState;get submitted(){return la(this.submittedReactive)}_submitted=Pl(()=>this.submittedReactive());submittedReactive=Us(!1);_directives=new Set;form;ngSubmit=new Mr;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new yw({},IA(t),SA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hg.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),c4(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hg.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hg.then(()=>{let r=this._findContainer(t.path),i=new yw({});Oee(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hg.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hg.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Vee(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Ze(Yg,10),Ze(X3,10),Ze(TA,8))};static \u0275dir=Fn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&zt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wi([Bee]),Hi]})}return n})();function K3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q3(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Uee=class extends mw{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(o4(t),a4(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_w(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Q3(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Q3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qee={provide:Kg,useExisting:Bs(()=>Vo)},Y3=Promise.resolve(),Vo=(()=>{class n extends Kg{_changeDetectorRef;callSetDisabledState;control=new Uee;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Mr;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jee(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Lee(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){c4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Y3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Su(r);Y3.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?xee(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Ze(If,9),Ze(Yg,10),Ze(X3,10),Ze(Qg,10),Ze(Iu,8),Ze(TA,8))};static \u0275dir=Fn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Wi([qee]),Hi,mu]})}return n})();var d4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),$ee={provide:Qg,useExisting:Bs(()=>Zg),multi:!0},Zg=(()=>{class n extends vw{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&zt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Wi([$ee]),Hi]})}return n})();var zee={provide:Qg,useExisting:Bs(()=>Vu),multi:!0};function h4(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Hee(n){return n.split(":")[0]}var Vu=(()=>{class n extends vw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=h4(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Hee(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&zt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Wi([zee]),Hi]})}return n})(),Tf=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(h4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Ze(wi),Ze(ca),Ze(Vu,9))};static \u0275dir=Fn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Wee={provide:Qg,useExisting:Bs(()=>f4),multi:!0};function Z3(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Gee(n){return n.split(":")[0]}var f4=(()=>{class n extends vw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Gee(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&zt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Wi([Wee]),Hi]})}return n})(),Cf=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Z3(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Z3(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Ze(wi),Ze(ca),Ze(f4,9))};static \u0275dir=Fn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function p4(n){return typeof n=="number"?n:parseFloat(n)}var DA=(()=>{class n{_validator=$3;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$3,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fn({type:n,features:[mu]})}return n})(),Kee={provide:Yg,useExisting:Bs(()=>NA),multi:!0},NA=(()=>{class n extends DA{max;inputName="max";normalizeInput=t=>p4(t);createValidator=t=>vee(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$s("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Wi([Kee]),Hi]})}return n})(),Qee={provide:Yg,useExisting:Bs(()=>xA),multi:!0},xA=(()=>{class n extends DA{min;inputName="min";normalizeInput=t=>p4(t);createValidator=t=>yee(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&$s("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Wi([Qee]),Hi]})}return n})(),Yee={provide:Yg,useExisting:Bs(()=>RA),multi:!0};var RA=(()=>{class n extends DA{required;inputName="required";normalizeInput=Su;createValidator=t=>_ee;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Io(n)))(i||n)}})();static \u0275dir=Fn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&$s("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Wi([Yee]),Hi]})}return n})();var Zee=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ua({type:n});static \u0275inj=ra({})}return n})();var Aa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:TA,useValue:t.callSetDisabledState??CA}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ua({type:n});static \u0275inj=ra({imports:[Zee]})}return n})();var Xs=class n{constructor(e){this.firestore=e}addCategory(e){let t=Zs(this.firestore,"categories1");return qg(t,e)}getCategories(){let e=Zs(this.firestore,"categories1");return _f(e,{idField:"id"})}deleteCategory(e){let t=dd(this.firestore,`categories1/${e.id}`);return wf(t)}updateCategory(e){if(!e.id)return Promise.reject("Category ID is required for update");let t=dd(this.firestore,`categories1/${e.id}`);return bA(t,{name:e.name,imageUrl:e.imageUrl})}addProduct(e){let t=Zs(this.firestore,"products1");return qg(t,e)}getProducts(){let e=Zs(this.firestore,"products1");return _f(e,{idField:"id"})}getProductsByCategory(e){let t=Zs(this.firestore,"products1"),r=B3(t,U3("categoryId","==",e));return _f(r,{idField:"id"})}getProductById(e){return G(this,null,function*(){try{let t=dd(this.firestore,`products1/${e}`),r=yield V3(t);if(r.exists()){let i=r.data();return Re({id:r.id},i)}else return null}catch(t){return console.error("Error getting document:",t),null}})}updateProduct(e){let t=dd(this.firestore,`products1/${e.id}`);return bA(t,{name:e.name,categoryId:e.categoryId,subCategory:e.subCategory,price:e.price,cost:e.cost,quantity:e.quantity})}deleteProduct(e){let t=dd(this.firestore,`products1/${e.id}`);return wf(t)}addSale(e){let t=Zs(this.firestore,"sales1");return qg(t,e)}getSales(){let e=Zs(this.firestore,"sales1");return _f(e,{idField:"id"})}clearAllSales(){return new Promise((e,t)=>G(this,null,function*(){try{let r=Zs(this.firestore,"sales1"),s=(yield wA(r)).docs.map(o=>wf(o.ref));yield Promise.all(s),e()}catch(r){console.error("Error clearing sales:",r),t(r)}}))}addExpense(e){let t=Zs(this.firestore,"expenses1");return qg(t,pt(Re({},e),{createdAt:new Date}))}getExpenses(){let e=Zs(this.firestore,"expenses1");return _f(e,{idField:"id"})}deleteExpense(e){let t=dd(this.firestore,`expenses1/${e.id}`);return wf(t)}clearAllExpenses(){return new Promise((e,t)=>G(this,null,function*(){try{let r=Zs(this.firestore,"expenses1"),s=(yield wA(r)).docs.map(o=>wf(o.ref));yield Promise.all(s),e()}catch(r){console.error("Error clearing Expenses:",r),t(r)}}))}static \u0275fac=function(t){return new(t||n)(at(ld))};static \u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"})};function Jee(n,e){if(n&1){let t=ri();ue(0,"li",24),zt("click",function(){let i=ar(t).$implicit,s=Qt();return cr(s.selectCategory(i))}),Ee(1),ae()}if(n&2){let t=e.$implicit,r=Qt();Eu("active",(r.selectedCategory==null?null:r.selectedCategory.id)===t.id),Le(),tn(" ",t.name," ")}}function Xee(n,e){if(n&1&&(ue(0,"option",28),Ee(1),ae()),n&2){let t=e.$implicit;At("value",t),Le(),tn(" ",t," ")}}function ete(n,e){if(n&1){let t=ri();ue(0,"select",25),er("ngModelChange",function(i){ar(t);let s=Qt();return ur(s.selectedSubCategory,i)||(s.selectedSubCategory=i),cr(i)}),zt("change",function(){ar(t);let i=Qt();return cr(i.filterProducts())}),ue(1,"option",26),Ee(2,"All Brands"),ae(),ln(3,Xee,2,2,"option",27),ae()}if(n&2){let t=Qt();Xn("ngModel",t.selectedSubCategory),Le(3),At("ngForOf",t.subCategories)}}function tte(n,e){if(n&1&&(ue(0,"span",29),Ee(1),ae()),n&2){let t=Qt();Le(),tn(" ",t.selectedCategory.name," ")}}function nte(n,e){if(n&1&&(ue(0,"tr")(1,"td"),Ee(2),ae(),ue(3,"td"),Ee(4),ae(),ue(5,"td"),Ee(6),lr(7,"number"),ae(),ue(8,"td"),Ee(9),lr(10,"number"),ae(),ue(11,"td"),Ee(12),ae()()),n&2){let t=e.$implicit;Le(2),qn(t.name),Le(2),qn(t.subCategory),Le(2),tn("Rs. ",dr(7,5,t.price,"1.2-2"),""),Le(3),tn("Rs. ",dr(10,8,t.cost,"1.2-2"),""),Le(3),qn(t.quantity)}}var ww=class n{constructor(e,t){this.firebaseService=e;this.toastr=t;this.firebaseService.getExpenses().subscribe(r=>{this.totalExpenses=r.reduce((i,s)=>i+s.amount,0)})}categories=[];products=[];selectedCategory=null;totalStocks=0;totalSales=0;totalExpenses=0;totalNetProfit=0;TotalgrossProfit=0;searchTerm="";selectedSubCategory="";subCategories=[];filterProducts(){this.selectedCategory?this.firebaseService.getProductsByCategory(this.selectedCategory.id).subscribe(e=>{this.products=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())&&(this.selectedSubCategory===""||t.subCategory===this.selectedSubCategory)),this.updateSubCategories(e)}):this.firebaseService.getProducts().subscribe(e=>{this.products=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())&&(this.selectedSubCategory===""||t.subCategory===this.selectedSubCategory)),this.updateSubCategories(e)})}updateSubCategories(e){this.subCategories=[...new Set(e.map(t=>t.subCategory))]}selectCategory(e){this.selectedCategory=e,this.selectedSubCategory="",this.searchTerm="",this.filterProducts()}ngOnInit(){this.loadFinancialData(),this.loadCategories(),this.filterProducts(),this.firebaseService.getSales().subscribe(e=>{this.totalSales=e.reduce((t,r)=>t+r.totalAmount,0)})}loadFinancialData(){this.firebaseService.getSales().subscribe(e=>{this.totalSales=e.reduce((r,i)=>r+i.totalAmount,0);let t=e.reduce((r,i)=>r+i.items.reduce((s,o)=>s+(o.price*o.quantity-o.cost*o.quantity),0),0);this.TotalgrossProfit=t,this.firebaseService.getExpenses().subscribe(r=>{this.totalExpenses=r.reduce((i,s)=>i+s.amount,0),this.totalNetProfit=t-this.totalExpenses})}),this.firebaseService.getProducts().subscribe(e=>{this.totalStocks=e.reduce((t,r)=>t+r.cost*r.quantity,0),this.products=e})}loadCategories(){this.firebaseService.getCategories().subscribe(e=>{this.categories=e})}loadProducts(){this.firebaseService.getProducts().subscribe(e=>{this.products=e,this.totalStocks=e.reduce((t,r)=>t+r.quantity*r.cost,0)})}deleteProduct(e){confirm("Are you sure you want to delete this product?")&&this.firebaseService.deleteProduct(e).then(()=>{this.toastr.success("Product deleted successfully"),this.loadProducts()})}static \u0275fac=function(t){return new(t||n)(Ze(Xs),Ze(ya))};static \u0275cmp=Yr({type:n,selectors:[["app-dashboard"]],decls:59,vars:17,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","sticky-top"],[1,"h2","p-3","bg-grad-stl",2,"width","100%"],[1,"row","row-cols-2","row-cols-lg-3","g-2","g-lg-4","mt-4","mb-3"],[1,"m-auto","mb-2"],[1,"p-3","pt-4","pb-4","bg-grad-stl"],[2,"letter-spacing","1px"],[1,"text-danger","fw-bold"],[1,"row"],[1,"col-md-4"],[1,"card"],[1,"card-header","header-stl"],[1,"card-body"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],[1,"col-md-8"],[1,"card-header","d-flex","justify-content-between","align-items-center","header-stl"],[1,"d-flex","gap-2"],["type","text","placeholder","Search Model...",1,"form-control",2,"width","200px",3,"ngModelChange","input","ngModel"],["class","form-select","style","width: 200px;",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","badge bg-primary fs-6",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"form-select",2,"width","200px",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"badge","bg-primary","fs-6"]],template:function(t,r){t&1&&(ue(0,"div",0)(1,"div",1)(2,"h1",2),Ee(3,"Dashboard - Sub Branch 1"),ae()(),ue(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),Ee(8,"Total Stocks"),ae(),Ee(9),lr(10,"number"),ae()(),ue(11,"div",4)(12,"div",5)(13,"h5",6),Ee(14,"Total Sales"),ae(),Ee(15),lr(16,"number"),ae()(),ue(17,"div",4)(18,"div",5)(19,"h5",6),Ee(20,"Total Expenses"),ae(),ue(21,"div",7),Ee(22),lr(23,"number"),ae()()()(),ue(24,"div",8)(25,"div",9)(26,"div",10)(27,"div",11)(28,"h5"),Ee(29,"Categories"),ae()(),ue(30,"div",12)(31,"ul",13),ln(32,Jee,2,3,"li",14),ae()()()(),ue(33,"div",15)(34,"div",10)(35,"div",16)(36,"h5"),Ee(37,"Products"),ae(),ue(38,"div",17)(39,"input",18),er("ngModelChange",function(s){return ur(r.searchTerm,s)||(r.searchTerm=s),s}),zt("input",function(){return r.filterProducts()}),ae(),ln(40,ete,4,2,"select",19),ae(),ln(41,tte,2,1,"span",20),ae(),ue(42,"div",12)(43,"div",21)(44,"table",22)(45,"thead")(46,"tr")(47,"th"),Ee(48,"Model"),ae(),ue(49,"th"),Ee(50,"Brand"),ae(),ue(51,"th"),Ee(52,"Price"),ae(),ue(53,"th"),Ee(54,"Cost"),ae(),ue(55,"th"),Ee(56,"Quantity"),ae()()(),ue(57,"tbody"),ln(58,nte,13,11,"tr",23),ae()()()()()()()()),t&2&&(Le(9),tn("Rs. ",dr(10,8,r.totalStocks,"1.2-2"),""),Le(6),tn("Rs. ",dr(16,11,r.totalSales,"1.2-2"),""),Le(7),tn("- Rs. ",dr(23,14,r.totalExpenses,"1.2-2"),""),Le(10),At("ngForOf",r.categories),Le(7),Xn("ngModel",r.searchTerm),Le(),At("ngIf",r.subCategories.length>0),Le(),At("ngIf",r.selectedCategory),Le(17),At("ngForOf",r.products))},dependencies:[Ao,da,Co,ha,yk,Aa,Tf,Cf,Js,Vu,Ca,Vo],styles:[".form-control-stl[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:600;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control-stl[_ngcontent-%COMP%]{transition:none}}.form-control-stl[type=file][_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control-stl[_ngcontent-%COMP%]:focus{background-color:var(--bs-body-bg);border-color:#d8dddf;outline:0;transition:all ease .1s;border-bottom:2px solid #2641C2}.form-control-stl[_ngcontent-%COMP%]::-webkit-date-and-time-value{min-width:85px;height:1.5em;margin:0}.form-control-stl[_ngcontent-%COMP%]::-webkit-datetime-edit{display:block;padding:0}.form-control-stl[_ngcontent-%COMP%]::-moz-placeholder{color:var(--bs-secondary-color);opacity:1}.form-control-stl[_ngcontent-%COMP%]::placeholder{color:var(--bs-secondary-color);opacity:1}.form-control-stl[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:var(--bs-secondary-bg)}.form-control-stl[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::file-selector-button{background-color:var(--bs-secondary-bg)}.form-control-stl-plaintext[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:var(--bs-body-color);background-color:transparent;border:solid transparent;border-width:var(--bs-border-width) 0}.form-control-stl-plaintext[_ngcontent-%COMP%]:focus{outline:0}.form-control-stl-plaintext.form-control-stl-lg[_ngcontent-%COMP%], .form-control-stl-plaintext.form-control-stl-sm[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.form-control-stl-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2));padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-control-stl-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2));padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:3em;height:1.5em}.form-check-label-stl[_ngcontent-%COMP%]{font-weight:600}.edit-sector[_ngcontent-%COMP%]{border:1px solid #2641C2;border-radius:10px}"]})};function rte(n,e){if(n&1){let t=ri();ue(0,"li",17),zt("click",function(){let i=ar(t).$implicit,s=Qt();return cr(s.selectCategory(i))}),Ee(1),ae()}if(n&2){let t=e.$implicit,r=Qt();Eu("active",(r.selectedCategory==null?null:r.selectedCategory.id)===t.id),Le(),tn(" ",t.name," ")}}function ite(n,e){if(n&1&&(ue(0,"option",21),Ee(1),ae()),n&2){let t=e.$implicit;At("value",t),Le(),tn(" ",t," ")}}function ste(n,e){if(n&1){let t=ri();ue(0,"select",18),er("ngModelChange",function(i){ar(t);let s=Qt();return ur(s.selectedSubCategory,i)||(s.selectedSubCategory=i),cr(i)}),zt("change",function(){ar(t);let i=Qt();return cr(i.filterProducts())}),ue(1,"option",19),Ee(2,"All Brands"),ae(),ln(3,ite,2,2,"option",20),ae()}if(n&2){let t=Qt();Xn("ngModel",t.selectedSubCategory),Le(3),At("ngForOf",t.subCategories)}}function ote(n,e){if(n&1&&(ue(0,"tr")(1,"td"),Ee(2),ae(),ue(3,"td"),Ee(4),ae(),ue(5,"td"),Ee(6),ae(),ue(7,"td"),Ee(8),lr(9,"number"),ae(),ue(10,"td"),Ee(11),ae()()),n&2){let t=e.$implicit,r=Qt();Le(2),qn(t.name),Le(2),qn(r.getCategoryName(t.categoryId)),Le(2),qn(t.subCategory),Le(2),tn("Rs. ",dr(9,5,t.price,"1.2-2"),""),Le(3),qn(t.quantity)}}var bw=class n{constructor(e,t,r,i){this.firebaseService=e;this.toastr=t;this.router=r;this.route=i}products=[];categories=[];selectedCategory=null;newProduct={name:"",categoryId:"",subCategory:"",price:0,cost:0,quantity:0};currentProduct=this.createEmptyProduct();editingProduct=null;isEditing=!1;searchTerm="";selectedSubCategory="";subCategories=[];ngOnInit(){this.filterProducts(),this.loadCategories(),this.route.params.subscribe(e=>{e.id?(this.isEditing=!0,this.firebaseService.getProducts().subscribe(t=>{let r=t.find(i=>i.id===e.id);r&&(this.currentProduct=Re({},r))})):this.resetForm()})}createEmptyProduct(){return{name:"",categoryId:"",subCategory:"",price:0,cost:0,quantity:0}}filterProducts(){this.selectedCategory?this.firebaseService.getProductsByCategory(this.selectedCategory.id).subscribe(e=>{this.products=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())&&(this.selectedSubCategory===""||t.subCategory===this.selectedSubCategory)),this.updateSubCategories(e)}):this.firebaseService.getProducts().subscribe(e=>{this.products=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())&&(this.selectedSubCategory===""||t.subCategory===this.selectedSubCategory)),this.updateSubCategories(e)})}selectCategory(e){this.selectedCategory=e,this.selectedSubCategory="",this.searchTerm="",this.filterProducts()}updateSubCategories(e){this.subCategories=[...new Set(e.map(t=>t.subCategory))]}loadProducts(){this.firebaseService.getProducts().subscribe(e=>{this.products=e})}loadCategories(){this.firebaseService.getCategories().subscribe(e=>{this.categories=e})}addProduct(){this.validateProduct(this.currentProduct)&&this.firebaseService.addProduct(this.currentProduct).then(()=>{this.toastr.success("Product added successfully"),this.resetForm(),this.filterProducts()})}validateProduct(e){return e.name?e.categoryId?e.price<=0?(this.toastr.error("Price must be greater than 0"),!1):e.cost<=0?(this.toastr.error("Cost must be greater than 0"),!1):e.quantity<0?(this.toastr.error("Quantity cannot be negative"),!1):!0:(this.toastr.error("Category is required"),!1):(this.toastr.error("Product name is required"),!1)}resetForm(){this.currentProduct={name:"",categoryId:"",subCategory:"",price:0,cost:0,quantity:0},this.isEditing=!1}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}startEdit(e){this.currentProduct=Re({},e),this.isEditing=!0,window.scrollTo(0,0)}cancelEdit(){this.isEditing=!1,this.currentProduct=this.createEmptyProduct()}saveProduct(){this.isEditing?this.firebaseService.updateProduct(this.currentProduct).then(()=>{this.loadProducts(),this.cancelEdit()}):this.firebaseService.addProduct(this.currentProduct).then(()=>{this.loadProducts(),this.cancelEdit()})}deleteProduct(e){confirm("Delete this product?")&&this.firebaseService.deleteProduct(e).then(()=>this.loadProducts())}static \u0275fac=function(t){return new(t||n)(Ze(Xs),Ze(ya),Ze(xo),Ze(pa))};static \u0275cmp=Yr({type:n,selectors:[["app-add-product"]],decls:37,vars:4,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","sticky-top"],[1,"h2","p-3","bg-grad-stl",2,"width","100%"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-header","header-stl"],[1,"card-body"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],[1,"col","md-9"],[1,"card-header","d-flex","justify-content-between","align-items-center","header-stl"],[1,"d-flex","gap-2"],["type","text","placeholder","Search Model...",1,"form-control",2,"width","200px",3,"ngModelChange","input","ngModel"],["class","form-select","style","width: 200px;",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"form-select",2,"width","200px",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){t&1&&(ue(0,"div",0)(1,"div",1)(2,"h1",2),Ee(3,"Products - Sub Branch 1"),ae()(),ue(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h5"),Ee(9,"Categories"),ae()(),ue(10,"div",7)(11,"ul",8),ln(12,rte,2,3,"li",9),ae()()()(),ue(13,"div",10)(14,"div",5)(15,"div",11)(16,"h5"),Ee(17,"Product List"),ae(),ue(18,"div",12)(19,"input",13),er("ngModelChange",function(s){return ur(r.searchTerm,s)||(r.searchTerm=s),s}),zt("input",function(){return r.filterProducts()}),ae(),ln(20,ste,4,2,"select",14),ae()(),ue(21,"div",7)(22,"table",15)(23,"thead")(24,"tr")(25,"th"),Ee(26,"Model"),ae(),ue(27,"th"),Ee(28,"Category"),ae(),ue(29,"th"),Ee(30,"Brand"),ae(),ue(31,"th"),Ee(32,"Price"),ae(),ue(33,"th"),Ee(34,"Quantity"),ae()()(),ue(35,"tbody"),ln(36,ote,12,8,"tr",16),ae()()()()()()()),t&2&&(Le(12),At("ngForOf",r.categories),Le(7),Xn("ngModel",r.searchTerm),Le(),At("ngIf",r.subCategories.length>0),Le(16),At("ngForOf",r.products))},dependencies:[Ao,da,Co,ha,Aa,Tf,Cf,Js,Vu,Ca,Vo],encapsulation:2})};var ai=Uint8Array,Es=Uint16Array,jA=Int32Array,Ew=new ai([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Iw=new ai([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OA=new ai([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v4=function(n,e){for(var t=new Es(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new jA(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},_4=v4(Ew,2),w4=_4.b,LA=_4.r;w4[28]=258,LA[258]=28;var b4=v4(Iw,0),ate=b4.b,g4=b4.r,FA=new Es(32768);for(hn=0;hn<32768;++hn)Rc=(hn&43690)>>1|(hn&21845)<<1,Rc=(Rc&52428)>>2|(Rc&13107)<<2,Rc=(Rc&61680)>>4|(Rc&3855)<<4,FA[hn]=((Rc&65280)>>8|(Rc&255)<<8)>>1;var Rc,hn,Da=function(n,e,t){for(var r=n.length,i=0,s=new Es(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new Es(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Es(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],h=e-n[i],g=o[n[i]-1]++<<h,v=g|(1<<h)-1;g<=v;++g)a[FA[g]>>c]=u}else for(a=new Es(r),i=0;i<r;++i)n[i]&&(a[i]=FA[o[n[i]-1]++]>>15-n[i]);return a},ju=new ai(288);for(hn=0;hn<144;++hn)ju[hn]=8;var hn;for(hn=144;hn<256;++hn)ju[hn]=9;var hn;for(hn=256;hn<280;++hn)ju[hn]=7;var hn;for(hn=280;hn<288;++hn)ju[hn]=8;var hn,rm=new ai(32);for(hn=0;hn<32;++hn)rm[hn]=5;var hn,cte=Da(ju,9,0),ute=Da(ju,9,1),lte=Da(rm,5,0),dte=Da(rm,5,1),PA=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},jo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},MA=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},BA=function(n){return(n+7)/8|0},E4=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new ai(n.subarray(e,t))};var hte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bo=function(n,e,t){var r=new Error(e||hte[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Bo),!t)throw r;return r},fte=function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new ai(0);var o=!t,a=o||e.i!=2,c=e.i;o&&(t=new ai(i*3));var u=function(ke){var He=t.length;if(ke>He){var $e=new ai(Math.max(He*2,ke));$e.set(t),t=$e}},h=e.f||0,g=e.p||0,v=e.b||0,p=e.l,E=e.d,S=e.m,R=e.n,x=i*8;do{if(!p){h=jo(n,g,1);var B=jo(n,g+1,3);if(g+=3,B)if(B==1)p=ute,E=dte,S=9,R=5;else if(B==2){var Ie=jo(n,g,31)+257,V=jo(n,g+10,15)+4,T=Ie+jo(n,g+5,31)+1;g+=14;for(var O=new ai(T),U=new ai(19),I=0;I<V;++I)U[OA[I]]=jo(n,g+I*3,7);g+=V*3;for(var C=PA(U),N=(1<<C)-1,Q=Da(U,C,1),I=0;I<T;){var be=Q[jo(n,g,N)];g+=be&15;var W=be>>4;if(W<16)O[I++]=W;else{var X=0,ie=0;for(W==16?(ie=3+jo(n,g,3),g+=2,X=O[I-1]):W==17?(ie=3+jo(n,g,7),g+=3):W==18&&(ie=11+jo(n,g,127),g+=7);ie--;)O[I++]=X}}var Z=O.subarray(0,Ie),he=O.subarray(Ie);S=PA(Z),R=PA(he),p=Da(Z,S,1),E=Da(he,R,1)}else Bo(1);else{var W=BA(g)+4,oe=n[W-4]|n[W-3]<<8,ve=W+oe;if(ve>i){c&&Bo(0);break}a&&u(v+oe),t.set(n.subarray(W,ve),v),e.b=v+=oe,e.p=g=ve*8,e.f=h;continue}if(g>x){c&&Bo(0);break}}a&&u(v+131072);for(var _e=(1<<S)-1,Ue=(1<<R)-1,M=g;;M=g){var X=p[MA(n,g)&_e],q=X>>4;if(g+=X&15,g>x){c&&Bo(0);break}if(X||Bo(2),q<256)t[v++]=q;else if(q==256){M=g,p=null;break}else{var H=q-254;if(q>264){var I=q-257,Y=Ew[I];H=jo(n,g,(1<<Y)-1)+w4[I],g+=Y}var se=E[MA(n,g)&Ue],le=se>>4;se||Bo(3),g+=se&15;var he=ate[le];if(le>3){var Y=Iw[le];he+=MA(n,g)&(1<<Y)-1,g+=Y}if(g>x){c&&Bo(0);break}a&&u(v+131072);var ye=v+H;if(v<he){var me=s-he,je=Math.min(he,ye);for(me+v<0&&Bo(3);v<je;++v)t[v]=r[me+v]}for(;v<ye;++v)t[v]=t[v-he]}}e.l=p,e.p=M,e.b=v,e.f=h,p&&(h=1,e.m=S,e.d=E,e.n=R)}while(!h);return v!=t.length&&o?E4(t,0,v):t.subarray(0,v)},Pc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},tm=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},kA=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:S4,l:0};if(i==1){var o=new ai(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(ve,Ie){return ve.f-Ie.f}),t.push({s:-1,f:25001});var a=t[0],c=t[1],u=0,h=1,g=2;for(t[0]={s:-1,f:a.f+c.f,l:a,r:c};h!=i-1;)a=t[t[u].f<t[g].f?u++:g++],c=t[u!=h&&t[u].f<t[g].f?u++:g++],t[h++]={s:-1,f:a.f+c.f,l:a,r:c};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new Es(v+1),E=VA(t[h-1],p,0);if(E>e){var r=0,S=0,R=E-e,x=1<<R;for(s.sort(function(Ie,V){return p[V.s]-p[Ie.s]||Ie.f-V.f});r<i;++r){var B=s[r].s;if(p[B]>e)S+=x-(1<<E-p[B]),p[B]=e;else break}for(S>>=R;S>0;){var W=s[r].s;p[W]<e?S-=1<<e-p[W]++-1:++r}for(;r>=0&&S;--r){var oe=s[r].s;p[oe]==e&&(--p[oe],++S)}E=e}return{t:new ai(p),l:E}},VA=function(n,e,t){return n.s==-1?Math.max(VA(n.l,e,t+1),VA(n.r,e,t+1)):e[n.s]=t},m4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Es(++e),r=0,i=n[0],s=1,o=function(c){t[r++]=c},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},nm=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},I4=function(n,e,t){var r=t.length,i=BA(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},y4=function(n,e,t,r,i,s,o,a,c,u,h){Pc(e,h++,t),++i[256];for(var g=kA(i,15),v=g.t,p=g.l,E=kA(s,15),S=E.t,R=E.l,x=m4(v),B=x.c,W=x.n,oe=m4(S),ve=oe.c,Ie=oe.n,V=new Es(19),T=0;T<B.length;++T)++V[B[T]&31];for(var T=0;T<ve.length;++T)++V[ve[T]&31];for(var O=kA(V,7),U=O.t,I=O.l,C=19;C>4&&!U[OA[C-1]];--C);var N=u+5<<3,Q=nm(i,ju)+nm(s,rm)+o,be=nm(i,v)+nm(s,S)+o+14+3*C+nm(V,U)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&N<=Q&&N<=be)return I4(e,h,n.subarray(c,c+u));var X,ie,Z,he;if(Pc(e,h,1+(be<Q)),h+=2,be<Q){X=Da(v,p,0),ie=v,Z=Da(S,R,0),he=S;var _e=Da(U,I,0);Pc(e,h,W-257),Pc(e,h+5,Ie-1),Pc(e,h+10,C-4),h+=14;for(var T=0;T<C;++T)Pc(e,h+3*T,U[OA[T]]);h+=3*C;for(var Ue=[B,ve],M=0;M<2;++M)for(var q=Ue[M],T=0;T<q.length;++T){var H=q[T]&31;Pc(e,h,_e[H]),h+=U[H],H>15&&(Pc(e,h,q[T]>>5&127),h+=q[T]>>12)}}else X=cte,ie=ju,Z=lte,he=rm;for(var T=0;T<a;++T){var Y=r[T];if(Y>255){var H=Y>>18&31;tm(e,h,X[H+257]),h+=ie[H+257],H>7&&(Pc(e,h,Y>>23&31),h+=Ew[H]);var se=Y&31;tm(e,h,Z[se]),h+=he[se],se>3&&(tm(e,h,Y>>5&8191),h+=Iw[se])}else tm(e,h,X[Y]),h+=ie[Y]}return tm(e,h,X[256]),h+ie[256]},pte=new jA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),S4=new ai(0),gte=function(n,e,t,r,i,s){var o=s.z||n.length,a=new ai(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var g=pte[e-1],v=g>>13,p=g&8191,E=(1<<t)-1,S=s.p||new Es(32768),R=s.h||new Es(E+1),x=Math.ceil(t/3),B=2*x,W=function(ct){return(n[ct]^n[ct+1]<<x^n[ct+2]<<B)&E},oe=new jA(25e3),ve=new Es(288),Ie=new Es(32),V=0,T=0,O=s.i||0,U=0,I=s.w||0,C=0;O+2<o;++O){var N=W(O),Q=O&32767,be=R[N];if(S[Q]=be,R[N]=Q,I<=O){var X=o-O;if((V>7e3||U>24576)&&(X>423||!u)){h=y4(n,c,0,oe,ve,Ie,T,U,C,O-C,h),U=V=T=0,C=O;for(var ie=0;ie<286;++ie)ve[ie]=0;for(var ie=0;ie<30;++ie)Ie[ie]=0}var Z=2,he=0,_e=p,Ue=Q-be&32767;if(X>2&&N==W(O-Ue))for(var M=Math.min(v,X)-1,q=Math.min(32767,O),H=Math.min(258,X);Ue<=q&&--_e&&Q!=be;){if(n[O+Z]==n[O+Z-Ue]){for(var Y=0;Y<H&&n[O+Y]==n[O+Y-Ue];++Y);if(Y>Z){if(Z=Y,he=Ue,Y>M)break;for(var se=Math.min(Ue,Y-2),le=0,ie=0;ie<se;++ie){var ye=O-Ue+ie&32767,me=S[ye],je=ye-me&32767;je>le&&(le=je,be=ye)}}}Q=be,be=S[Q],Ue+=Q-be&32767}if(he){oe[U++]=268435456|LA[Z]<<18|g4[he];var ke=LA[Z]&31,He=g4[he]&31;T+=Ew[ke]+Iw[He],++ve[257+ke],++Ie[He],I=O+Z,++V}else oe[U++]=n[O],++ve[n[O]]}}for(O=Math.max(O,I);O<o;++O)oe[U++]=n[O],++ve[n[O]];h=y4(n,c,u,oe,ve,Ie,T,U,C,O-C,h),u||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=R,s.p=S,s.i=O,s.w=I)}else{for(var O=s.w||0;O<o+u;O+=65535){var $e=O+65535;$e>=o&&(c[h/8|0]=u,$e=o),h=I4(c,h+1,n.subarray(O,$e))}s.i=o}return E4(a,0,r+BA(h)+i)};var T4=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},mte=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ai(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return gte(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var C4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var yte=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=T4();i.p(e.dictionary),C4(n,2,i.d())}},vte=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Bo(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Bo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Sw(n,e){e||(e={});var t=T4();t.p(n);var r=mte(n,e,e.dictionary?6:2,4);return yte(r,e),C4(r,r.length-4,t.d()),r}function A4(n,e){return fte(n.subarray(vte(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var _te=typeof TextDecoder<"u"&&new TextDecoder,wte=0;try{_te.decode(S4,{stream:!0}),wte=1}catch{}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function UA(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var Pn={log:UA,warn:function(n){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):UA.call(null,arguments))},error:function(n){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):UA(n))}};function qA(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){hd(r.response,e,t)},r.onerror=function(){Pn.error("could not download file")},r.send()}function D4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tw(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var im,GA,hd=_t.saveAs||((typeof window>"u"?"undefined":Sn(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=_t.URL||_t.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?D4(i.href)?qA(n,e,t):Tw(i,i.target="_blank"):Tw(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Tw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(D4(n))qA(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Tw(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Sn(s)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return qA(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(_t.HTMLElement)||_t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Sn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(n)}else{var c=_t.URL||_t.webkitURL,u=c.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function H4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+a+c+u}}function $A(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ci(t,r,i,s,e[0],7,-680876936),s=ci(s,t,r,i,e[1],12,-389564586),i=ci(i,s,t,r,e[2],17,606105819),r=ci(r,i,s,t,e[3],22,-1044525330),t=ci(t,r,i,s,e[4],7,-176418897),s=ci(s,t,r,i,e[5],12,1200080426),i=ci(i,s,t,r,e[6],17,-1473231341),r=ci(r,i,s,t,e[7],22,-45705983),t=ci(t,r,i,s,e[8],7,1770035416),s=ci(s,t,r,i,e[9],12,-1958414417),i=ci(i,s,t,r,e[10],17,-42063),r=ci(r,i,s,t,e[11],22,-1990404162),t=ci(t,r,i,s,e[12],7,1804603682),s=ci(s,t,r,i,e[13],12,-40341101),i=ci(i,s,t,r,e[14],17,-1502002290),t=ui(t,r=ci(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ui(s,t,r,i,e[6],9,-1069501632),i=ui(i,s,t,r,e[11],14,643717713),r=ui(r,i,s,t,e[0],20,-373897302),t=ui(t,r,i,s,e[5],5,-701558691),s=ui(s,t,r,i,e[10],9,38016083),i=ui(i,s,t,r,e[15],14,-660478335),r=ui(r,i,s,t,e[4],20,-405537848),t=ui(t,r,i,s,e[9],5,568446438),s=ui(s,t,r,i,e[14],9,-1019803690),i=ui(i,s,t,r,e[3],14,-187363961),r=ui(r,i,s,t,e[8],20,1163531501),t=ui(t,r,i,s,e[13],5,-1444681467),s=ui(s,t,r,i,e[2],9,-51403784),i=ui(i,s,t,r,e[7],14,1735328473),t=li(t,r=ui(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=li(s,t,r,i,e[8],11,-2022574463),i=li(i,s,t,r,e[11],16,1839030562),r=li(r,i,s,t,e[14],23,-35309556),t=li(t,r,i,s,e[1],4,-1530992060),s=li(s,t,r,i,e[4],11,1272893353),i=li(i,s,t,r,e[7],16,-155497632),r=li(r,i,s,t,e[10],23,-1094730640),t=li(t,r,i,s,e[13],4,681279174),s=li(s,t,r,i,e[0],11,-358537222),i=li(i,s,t,r,e[3],16,-722521979),r=li(r,i,s,t,e[6],23,76029189),t=li(t,r,i,s,e[9],4,-640364487),s=li(s,t,r,i,e[12],11,-421815835),i=li(i,s,t,r,e[15],16,530742520),t=di(t,r=li(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=di(s,t,r,i,e[7],10,1126891415),i=di(i,s,t,r,e[14],15,-1416354905),r=di(r,i,s,t,e[5],21,-57434055),t=di(t,r,i,s,e[12],6,1700485571),s=di(s,t,r,i,e[3],10,-1894986606),i=di(i,s,t,r,e[10],15,-1051523),r=di(r,i,s,t,e[1],21,-2054922799),t=di(t,r,i,s,e[8],6,1873313359),s=di(s,t,r,i,e[15],10,-30611744),i=di(i,s,t,r,e[6],15,-1560198380),r=di(r,i,s,t,e[13],21,1309151649),t=di(t,r,i,s,e[4],6,-145523070),s=di(s,t,r,i,e[11],10,-1120210379),i=di(i,s,t,r,e[2],15,718787259),r=di(r,i,s,t,e[9],21,-343485551),n[0]=Uu(t,n[0]),n[1]=Uu(r,n[1]),n[2]=Uu(i,n[2]),n[3]=Uu(s,n[3])}function Ow(n,e,t,r,i,s){return e=Uu(Uu(e,n),Uu(r,s)),Uu(e<<i|e>>>32-i,t)}function ci(n,e,t,r,i,s,o){return Ow(e&t|~e&r,n,e,i,s,o)}function ui(n,e,t,r,i,s,o){return Ow(e&r|t&~r,n,e,i,s,o)}function li(n,e,t,r,i,s,o){return Ow(e^t^r,n,e,i,s,o)}function di(n,e,t,r,i,s,o){return Ow(t^(e|~r),n,e,i,s,o)}function W4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)$A(r,bte(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for($A(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,$A(r,i),r}function bte(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}im=_t.atob.bind(_t),GA=_t.btoa.bind(_t);var N4="0123456789abcdef".split("");function Ete(n){for(var e="",t=0;t<4;t++)e+=N4[n>>8*t+4&15]+N4[n>>8*t&15];return e}function Ite(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function KA(n){return W4(n).map(Ite).join("")}var Ste=function(n){for(var e=0;e<n.length;e++)n[e]=Ete(n[e]);return n.join("")}(W4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uu(n,e){if(Ste){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function QA(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var h=a[c];u=(u+h+o.charCodeAt(c))%256,a[c]=a[u],a[u]=h}t=n,r=a}else a=r;var g=e.length,v=0,p=0,E="";for(c=0;c<g;c++)p=(p+(h=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=h,o=a[(a[v]+a[p])%256],E+=String.fromCharCode(e.charCodeAt(c)^o);return E}var x4={print:4,modify:8,copy:16,"annot-forms":32};function Nf(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(x4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=x4[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=KA(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=QA(this.encryptionKey,this.padding)}function xf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function R4(n){if(Sn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){_t.console&&Pn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mw(n){if(!(this instanceof Mw))return new Mw(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function G4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function fd(n,e,t,r,i){if(!(this instanceof fd))return new fd(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,G4.call(this,r,i)}function Rf(n,e,t,r,i){if(!(this instanceof Rf))return new Rf(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,G4.call(this,r,i)}function gt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,u="S",h=null;Sn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),u=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=R4;var E="1.3",S=p.__private__.getPdfVersion=function(){return E};p.__private__.setPdfVersion=function(m){E=m};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return R};var x=p.__private__.getPageFormat=function(m){return R[m]};i=i||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},W=B.COMPAT;function oe(){this.saveGraphicsState(),K(new ut(Qe,0,0,-Qe,0,co()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),u="n",W=B.ADVANCED}function ve(){this.restoreGraphicsState(),u="S",W=B.COMPAT}var Ie=p.__private__.combineFontStyleAndFontWeight=function(m,A){if(m=="bold"&&A=="normal"||m=="bold"&&A==400||m=="normal"&&A=="italic"||m=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(m=A==400||A==="normal"?m==="italic"?"italic":"normal":A!=700&&A!=="bold"||m!=="normal"?(A==700?"bold":A)+""+m:"bold"),m};p.advancedAPI=function(m){var A=W===B.COMPAT;return A&&oe.call(this),typeof m!="function"||(m(this),A&&ve.call(this)),this},p.compatAPI=function(m){var A=W===B.ADVANCED;return A&&ve.call(this),typeof m!="function"||(m(this),A&&oe.call(this)),this},p.isAdvancedAPI=function(){return W===B.ADVANCED};var V,T=function(m){if(W!==B.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(m,A){var z=e||A;if(isNaN(m)||isNaN(z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(z).replace(/0+$/,"")};V=p.hpf=p.__private__.hpf=typeof c=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return O(m,c)}:c==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return O(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return O(m,16)};var U=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return O(m,2)},I=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return O(m,3)},C=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return W===B.COMPAT?m*Qe:W===B.ADVANCED?m:void 0},N=function(m){return W===B.COMPAT?co()-m:W===B.ADVANCED?m:void 0},Q=function(m){return C(N(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var be,X="00000000000000000000000000000000",ie=p.__private__.getFileId=function(){return X},Z=p.__private__.setFileId=function(m){return X=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Kn=new Nf(h.userPermissions,h.userPassword,h.ownerPassword,X)),X};p.setFileId=function(m){return Z(m),this},p.getFileId=function(){return ie()};var he=p.__private__.convertDateToPDFDate=function(m){var A=m.getTimezoneOffset(),z=A<0?"+":"-",J=Math.floor(Math.abs(A/60)),de=Math.abs(A%60),we=[z,H(J),"'",H(de),"'"].join("");return["D:",m.getFullYear(),H(m.getMonth()+1),H(m.getDate()),H(m.getHours()),H(m.getMinutes()),H(m.getSeconds()),we].join("")},_e=p.__private__.convertPDFDateToDate=function(m){var A=parseInt(m.substr(2,4),10),z=parseInt(m.substr(6,2),10)-1,J=parseInt(m.substr(8,2),10),de=parseInt(m.substr(10,2),10),we=parseInt(m.substr(12,2),10),Me=parseInt(m.substr(14,2),10);return new Date(A,z,J,de,we,Me,0)},Ue=p.__private__.setCreationDate=function(m){var A;if(m===void 0&&(m=new Date),m instanceof Date)A=he(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=m}return be=A},M=p.__private__.getCreationDate=function(m){var A=be;return m==="jsDate"&&(A=_e(be)),A};p.setCreationDate=function(m){return Ue(m),this},p.getCreationDate=function(m){return M(m)};var q,H=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Y=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},se=0,le=[],ye=[],me=0,je=[],ke=[],He=!1,$e=ye,ct=function(){se=0,me=0,ye=[],le=[],je=[],to=Gn(),Zi=Gn()};p.__private__.setCustomOutputDestination=function(m){He=!0,$e=m};var Te=function(m){He||($e=m)};p.__private__.resetCustomOutputDestination=function(){He=!1,$e=ye};var K=p.__private__.out=function(m){return m=m.toString(),me+=m.length+1,$e.push(m),$e},St=p.__private__.write=function(m){return K(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},it=p.__private__.getArrayBuffer=function(m){for(var A=m.length,z=new ArrayBuffer(A),J=new Uint8Array(z);A--;)J[A]=m.charCodeAt(A);return z},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Be};var qe=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return qe=W===B.ADVANCED?m/Qe:m,this};var Ge,We=p.__private__.getFontSize=p.getFontSize=function(){return W===B.COMPAT?qe:qe*Qe},ot=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return ot=m,this},p.__private__.getR2L=p.getR2L=function(){return ot};var wt,Dt=p.__private__.setZoomMode=function(m){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ge=m;else if(isNaN(m)){if(A.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ge=m}else Ge=parseInt(m,10)};p.__private__.getZoomMode=function(){return Ge};var Ot,mt=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');wt=m};p.__private__.getPageMode=function(){return wt};var Nt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Ot=m};p.__private__.getLayoutMode=function(){return Ot},p.__private__.setDisplayMode=p.setDisplayMode=function(m,A,z){return Dt(m),Nt(A),mt(z),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(lt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[m]},p.__private__.getDocumentProperties=function(){return lt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var A in lt)lt.hasOwnProperty(A)&&m[A]&&(lt[A]=m[A]);return this},p.__private__.setDocumentProperty=function(m,A){if(Object.keys(lt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[m]=A};var jt,Qe,Lr,Gt,Ti,fn={},bn={},Is=[],cn={},eo={},jn={},Ci={},hi=null,Mn=0,bt=[],Kt=new R4(p),zo=n.hotfixes||[],Wn={},Ki={},Jr=[],ut=function m(A,z,J,de,we,Me){if(!(this instanceof m))return new m(A,z,J,de,we,Me);isNaN(A)&&(A=1),isNaN(z)&&(z=0),isNaN(J)&&(J=0),isNaN(de)&&(de=1),isNaN(we)&&(we=0),isNaN(Me)&&(Me=0),this._matrix=[A,z,J,de,we,Me]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(m)},ut.prototype.multiply=function(m){var A=m.sx*this.sx+m.shy*this.shx,z=m.sx*this.shy+m.shy*this.sy,J=m.shx*this.sx+m.sy*this.shx,de=m.shx*this.shy+m.sy*this.sy,we=m.tx*this.sx+m.ty*this.shx+this.tx,Me=m.tx*this.shy+m.ty*this.sy+this.ty;return new ut(A,z,J,de,we,Me)},ut.prototype.decompose=function(){var m=this.sx,A=this.shy,z=this.shx,J=this.sy,de=this.tx,we=this.ty,Me=Math.sqrt(m*m+A*A),Ye=(m/=Me)*z+(A/=Me)*J;z-=m*Ye,J-=A*Ye;var st=Math.sqrt(z*z+J*J);return Ye/=st,m*(J/=st)<A*(z/=st)&&(m=-m,A=-A,Ye=-Ye,Me=-Me),{scale:new ut(Me,0,0,st,0,0),translate:new ut(1,0,0,1,de,we),rotate:new ut(m,A,-A,m,0,0),skew:new ut(1,0,Ye,1,0,0)}},ut.prototype.toString=function(m){return this.join(" ")},ut.prototype.inversed=function(){var m=this.sx,A=this.shy,z=this.shx,J=this.sy,de=this.tx,we=this.ty,Me=1/(m*J-A*z),Ye=J*Me,st=-A*Me,d=-z*Me,_=m*Me;return new ut(Ye,st,d,_,-Ye*de-d*we,-st*de-_*we)},ut.prototype.applyToPoint=function(m){var A=m.x*this.sx+m.y*this.shx+this.tx,z=m.x*this.shy+m.y*this.sy+this.ty;return new As(A,z)},ut.prototype.applyToRectangle=function(m){var A=this.applyToPoint(m),z=this.applyToPoint(new As(m.x+m.w,m.y+m.h));return new $c(A.x,A.y,z.x-A.x,z.y-A.y)},ut.prototype.clone=function(){var m=this.sx,A=this.shy,z=this.shx,J=this.sy,de=this.tx,we=this.ty;return new ut(m,A,z,J,de,we)},p.Matrix=ut;var Cn=p.matrixMult=function(m,A){return A.multiply(m)},Qi=new ut(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Qi;var mr=function(m,A){if(!eo[m]){var z=(A instanceof fd?"Sh":"P")+(Object.keys(cn).length+1).toString(10);A.id=z,eo[m]=z,cn[z]=A,Kt.publish("addPattern",A)}};p.ShadingPattern=fd,p.TilingPattern=Rf,p.addShadingPattern=function(m,A){return T("addShadingPattern()"),mr(m,A),this},p.beginTilingPattern=function(m){T("beginTilingPattern()"),Hc(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,A){T("endTilingPattern()"),A.stream=ke[q].join(`
`),mr(m,A),Kt.publish("endTilingPattern",A),Jr.pop().restore()};var Bn=p.__private__.newObject=function(){var m=Gn();return fi(m,!0),m},Gn=p.__private__.newObjectDeferred=function(){return se++,le[se]=function(){return me},se},fi=function(m,A){return A=typeof A=="boolean"&&A,le[m]=me,A&&K(m+" 0 obj"),m},Yi=p.__private__.newAdditionalObject=function(){var m={objId:Gn(),content:""};return je.push(m),m},to=Gn(),Zi=Gn(),Xr=p.__private__.decodeColorString=function(m){var A=m.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var z=parseFloat(A[0]);A=[z,z,z,"r"]}for(var J="#",de=0;de<3;de++)J+=("0"+Math.floor(255*parseFloat(A[de])).toString(16)).slice(-2);return J},Ai=p.__private__.encodeColorString=function(m){var A;typeof m=="string"&&(m={ch1:m});var z=m.ch1,J=m.ch2,de=m.ch3,we=m.ch4,Me=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof z=="string"&&z.charAt(0)!=="#"){var Ye=new H4(z);if(Ye.ok)z=Ye.toHex();else if(!/^\d*\.?\d*$/.test(z))throw new Error('Invalid color "'+z+'" passed to jsPDF.encodeColorString.')}if(typeof z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(z)&&(z="#"+z[1]+z[1]+z[2]+z[2]+z[3]+z[3]),typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z)){var st=parseInt(z.substr(1),16);z=st>>16&255,J=st>>8&255,de=255&st}if(J===void 0||we===void 0&&z===J&&J===de)if(typeof z=="string")A=z+" "+Me[0];else switch(m.precision){case 2:A=U(z/255)+" "+Me[0];break;case 3:default:A=I(z/255)+" "+Me[0]}else if(we===void 0||Sn(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return A=["1.","1.","1.",Me[1]].join(" ");if(typeof z=="string")A=[z,J,de,Me[1]].join(" ");else switch(m.precision){case 2:A=[U(z/255),U(J/255),U(de/255),Me[1]].join(" ");break;default:case 3:A=[I(z/255),I(J/255),I(de/255),Me[1]].join(" ")}}else if(typeof z=="string")A=[z,J,de,we,Me[2]].join(" ");else switch(m.precision){case 2:A=[U(z),U(J),U(de),U(we),Me[2]].join(" ");break;case 3:default:A=[I(z),I(J),I(de),I(we),Me[2]].join(" ")}return A},Di=p.__private__.getFilters=function(){return o},zr=p.__private__.putStream=function(m){var A=(m=m||{}).data||"",z=m.filters||Di(),J=m.alreadyAppliedFilters||[],de=m.addLength1||!1,we=A.length,Me=m.objectId,Ye=function(Ve){return Ve};if(h!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ye=Kn.encryptor(Me,0));var st={};z===!0&&(z=["FlateEncode"]);var d=m.additionalKeyValues||[],_=(st=gt.API.processDataByFilters!==void 0?gt.API.processDataByFilters(A,z):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(st.data.length!==0&&(d.push({key:"Length",value:st.data.length}),de===!0&&d.push({key:"Length1",value:we})),_.length!=0)if(_.split("/").length-1==1)d.push({key:"Filter",value:_});else{d.push({key:"Filter",value:"["+_+"]"});for(var b=0;b<d.length;b+=1)if(d[b].key==="DecodeParms"){for(var L=[],ne=0;ne<st.reverseChain.split("/").length-1;ne+=1)L.push("null");L.push(d[b].value),d[b].value="["+L.join(" ")+"]"}}K("<<");for(var fe=0;fe<d.length;fe++)K("/"+d[fe].key+" "+d[fe].value);K(">>"),st.data.length!==0&&(K("stream"),K(Ye(st.data)),K("endstream"))},Nr=p.__private__.putPage=function(m){var A=m.number,z=m.data,J=m.objId,de=m.contentsObjId;fi(J,!0),K("<</Type /Page"),K("/Parent "+m.rootDictionaryObjId+" 0 R"),K("/Resources "+m.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(V(m.mediaBox.bottomLeftX))+" "+parseFloat(V(m.mediaBox.bottomLeftY))+" "+V(m.mediaBox.topRightX)+" "+V(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&K("/CropBox ["+V(m.cropBox.bottomLeftX)+" "+V(m.cropBox.bottomLeftY)+" "+V(m.cropBox.topRightX)+" "+V(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&K("/BleedBox ["+V(m.bleedBox.bottomLeftX)+" "+V(m.bleedBox.bottomLeftY)+" "+V(m.bleedBox.topRightX)+" "+V(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&K("/TrimBox ["+V(m.trimBox.bottomLeftX)+" "+V(m.trimBox.bottomLeftY)+" "+V(m.trimBox.topRightX)+" "+V(m.trimBox.topRightY)+"]"),m.artBox!==null&&K("/ArtBox ["+V(m.artBox.bottomLeftX)+" "+V(m.artBox.bottomLeftY)+" "+V(m.artBox.topRightX)+" "+V(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&K("/UserUnit "+m.userUnit),Kt.publish("putPage",{objId:J,pageContext:bt[A],pageNumber:A,page:z}),K("/Contents "+de+" 0 R"),K(">>"),K("endobj");var we=z.join(`
`);return W===B.ADVANCED&&(we+=`
Q`),fi(de,!0),zr({data:we,filters:Di(),objectId:de}),K("endobj"),J},Ho=p.__private__.putPages=function(){var m,A,z=[];for(m=1;m<=Mn;m++)bt[m].objId=Gn(),bt[m].contentsObjId=Gn();for(m=1;m<=Mn;m++)z.push(Nr({number:m,data:ke[m],objId:bt[m].objId,contentsObjId:bt[m].contentsObjId,mediaBox:bt[m].mediaBox,cropBox:bt[m].cropBox,bleedBox:bt[m].bleedBox,trimBox:bt[m].trimBox,artBox:bt[m].artBox,userUnit:bt[m].userUnit,rootDictionaryObjId:to,resourceDictionaryObjId:Zi}));fi(to,!0),K("<</Type /Pages");var J="/Kids [";for(A=0;A<Mn;A++)J+=z[A]+" 0 R ";K(J+"]"),K("/Count "+Mn),K(">>"),K("endobj"),Kt.publish("postPutPages")},Pa=function(m){Kt.publish("putFont",{font:m,out:K,newObject:Bn,putStream:zr}),m.isAlreadyPutted!==!0&&(m.objectNumber=Bn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+xf(m.postScriptName)),K("/Subtype /Type1"),typeof m.encoding=="string"&&K("/Encoding /"+m.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Wo=function(){for(var m in fn)fn.hasOwnProperty(m)&&(g===!1||g===!0&&v.hasOwnProperty(m))&&Pa(fn[m])},Go=function(m){m.objectNumber=Bn();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[V(m.x),V(m.y),V(m.x+m.width),V(m.y+m.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var z=m.pages[1].join(`
`);zr({data:z,additionalKeyValues:A,objectId:m.objectNumber}),K("endobj")},Ma=function(){for(var m in Wn)Wn.hasOwnProperty(m)&&Go(Wn[m])},$u=function(m,A){var z,J=[],de=1/(A-1);for(z=0;z<1;z+=de)J.push(z);if(J.push(1),m[0].offset!=0){var we={offset:0,color:m[0].color};m.unshift(we)}if(m[m.length-1].offset!=1){var Me={offset:1,color:m[m.length-1].color};m.push(Me)}for(var Ye="",st=0,d=0;d<J.length;d++){for(z=J[d];z>m[st+1].offset;)st++;var _=m[st].offset,b=(z-_)/(m[st+1].offset-_),L=m[st].color,ne=m[st+1].color;Ye+=Y(Math.round((1-b)*L[0]+b*ne[0]).toString(16))+Y(Math.round((1-b)*L[1]+b*ne[1]).toString(16))+Y(Math.round((1-b)*L[2]+b*ne[2]).toString(16))}return Ye.trim()},Ff=function(m,A){A||(A=21);var z=Bn(),J=$u(m.colors,A),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+A+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zr({data:J,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:z}),K("endobj"),m.objectNumber=Bn(),K("<< /ShadingType "+m.type),K("/ColorSpace /DeviceRGB");var we="/Coords ["+V(parseFloat(m.coords[0]))+" "+V(parseFloat(m.coords[1]))+" ";m.type===2?we+=V(parseFloat(m.coords[2]))+" "+V(parseFloat(m.coords[3])):we+=V(parseFloat(m.coords[2]))+" "+V(parseFloat(m.coords[3]))+" "+V(parseFloat(m.coords[4]))+" "+V(parseFloat(m.coords[5])),K(we+="]"),m.matrix&&K("/Matrix ["+m.matrix.toString()+"]"),K("/Function "+z+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Mc=function(m,A){var z=Gn(),J=Bn();A.push({resourcesOid:z,objectOid:J}),m.objectNumber=J;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+m.boundingBox.map(V).join(" ")+"]"}),de.push({key:"XStep",value:V(m.xStep)}),de.push({key:"YStep",value:V(m.yStep)}),de.push({key:"Resources",value:z+" 0 R"}),m.matrix&&de.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),zr({data:m.stream,additionalKeyValues:de,objectId:m.objectNumber}),K("endobj")},ka=function(m){var A;for(A in cn)cn.hasOwnProperty(A)&&(cn[A]instanceof fd?Ff(cn[A]):cn[A]instanceof Rf&&Mc(cn[A],m))},kc=function(m){for(var A in m.objectNumber=Bn(),K("<<"),m)switch(A){case"opacity":K("/ca "+U(m[A]));break;case"stroke-opacity":K("/CA "+U(m[A]))}K(">>"),K("endobj")},Oa=function(){var m;for(m in jn)jn.hasOwnProperty(m)&&kc(jn[m])},Ji=function(){for(var m in K("/XObject <<"),Wn)Wn.hasOwnProperty(m)&&Wn[m].objectNumber>=0&&K("/"+m+" "+Wn[m].objectNumber+" 0 R");Kt.publish("putXobjectDict"),K(">>")},zu=function(){Kn.oid=Bn(),K("<<"),K("/Filter /Standard"),K("/V "+Kn.v),K("/R "+Kn.r),K("/U <"+Kn.toHexString(Kn.U)+">"),K("/O <"+Kn.toHexString(Kn.O)+">"),K("/P "+Kn.P),K(">>"),K("endobj")},md=function(){for(var m in K("/Font <<"),fn)fn.hasOwnProperty(m)&&(g===!1||g===!0&&v.hasOwnProperty(m))&&K("/"+m+" "+fn[m].objectNumber+" 0 R");K(">>")},yd=function(){if(Object.keys(cn).length>0){for(var m in K("/Shading <<"),cn)cn.hasOwnProperty(m)&&cn[m]instanceof fd&&cn[m].objectNumber>=0&&K("/"+m+" "+cn[m].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),K(">>")}},La=function(m){if(Object.keys(cn).length>0){for(var A in K("/Pattern <<"),cn)cn.hasOwnProperty(A)&&cn[A]instanceof p.TilingPattern&&cn[A].objectNumber>=0&&cn[A].objectNumber<m&&K("/"+A+" "+cn[A].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),K(">>")}},vd=function(){if(Object.keys(jn).length>0){var m;for(m in K("/ExtGState <<"),jn)jn.hasOwnProperty(m)&&jn[m].objectNumber>=0&&K("/"+m+" "+jn[m].objectNumber+" 0 R");Kt.publish("putGStateDict"),K(">>")}},Un=function(m){fi(m.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),md(),yd(),La(m.objectOid),vd(),Ji(),K(">>"),K("endobj")},Oc=function(){var m=[];Wo(),Oa(),Ma(),ka(m),Kt.publish("putResources"),m.forEach(Un),Un({resourcesOid:Zi,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},Hu=function(){Kt.publish("putAdditionalObjects");for(var m=0;m<je.length;m++){var A=je[m];fi(A.objId,!0),K(A.content),K("endobj")}Kt.publish("postPutAdditionalObjects")},Wu=function(m){bn[m.fontName]=bn[m.fontName]||{},bn[m.fontName][m.fontStyle]=m.id},Gu=function(m,A,z,J,de){var we={id:"F"+(Object.keys(fn).length+1).toString(10),postScriptName:m,fontName:A,fontStyle:z,encoding:J,isStandardFont:de||!1,metadata:{}};return Kt.publish("addFont",{font:we,instance:this}),fn[we.id]=we,Wu(we),we.id},Vf=function(m){for(var A=0,z=Be.length;A<z;A++){var J=Gu.call(this,m[A][0],m[A][1],m[A][2],Be[A][3],!0);g===!1&&(v[J]=!0);var de=m[A][0].split("-");Wu({id:J,fontName:de[0],fontStyle:de[1]||""})}Kt.publish("addFonts",{fonts:fn,dictionary:bn})},Ni=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(J){var A=J.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var z="Error in function "+A.split(`
`)[0].split("<")[0]+": "+J.message;if(!_t.console)throw new Error(z);_t.console.error(z,J),_t.alert&&alert(z)}},m.foo.bar=m,m.foo},Fa=function(m,A){var z,J,de,we,Me,Ye,st,d,_;if(de=(A=A||{}).sourceEncoding||"Unicode",Me=A.outputEncoding,(A.autoencode||Me)&&fn[jt].metadata&&fn[jt].metadata[de]&&fn[jt].metadata[de].encoding&&(we=fn[jt].metadata[de].encoding,!Me&&fn[jt].encoding&&(Me=fn[jt].encoding),!Me&&we.codePages&&(Me=we.codePages[0]),typeof Me=="string"&&(Me=we[Me]),Me)){for(st=!1,Ye=[],z=0,J=m.length;z<J;z++)(d=Me[m.charCodeAt(z)])?Ye.push(String.fromCharCode(d)):Ye.push(m[z]),Ye[z].charCodeAt(0)>>8&&(st=!0);m=Ye.join("")}for(z=m.length;st===void 0&&z!==0;)m.charCodeAt(z-1)>>8&&(st=!0),z--;if(!st)return m;for(Ye=A.noBOM?[]:[254,255],z=0,J=m.length;z<J;z++){if((_=(d=m.charCodeAt(z))>>8)>>8)throw new Error("Character at position "+z+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(_),Ye.push(d-(_<<8))}return String.fromCharCode.apply(void 0,Ye)},ei=p.__private__.pdfEscape=p.pdfEscape=function(m,A){return Fa(m,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xi=p.__private__.beginPage=function(m){ke[++Mn]=[],bt[Mn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Va(Mn),Te(ke[q])},xi=function(m,A){var z,J,de;switch(t=A||t,typeof m=="string"&&(z=x(m.toLowerCase()),Array.isArray(z)&&(J=z[0],de=z[1])),Array.isArray(m)&&(J=m[0]*Qe,de=m[1]*Qe),isNaN(J)&&(J=i[0],de=i[1]),(J>14400||de>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),de=Math.min(14400,de)),i=[J,de],t.substr(0,1)){case"l":de>J&&(i=[de,J]);break;case"p":J>de&&(i=[de,J])}Xi(i),Cd(En),K(ns),Yo!==0&&K(Yo+" J"),el!==0&&K(el+" j"),Kt.publish("addPage",{pageNumber:Mn})},Lc=function(m){m>0&&m<=Mn&&(ke.splice(m,1),bt.splice(m,1),Mn--,q>Mn&&(q=Mn),this.setPage(q))},Va=function(m){m>0&&m<=Mn&&(q=m)},_d=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},pn=function(m,A,z){var J,de=void 0;return z=z||{},m=m!==void 0?m:fn[jt].fontName,A=A!==void 0?A:fn[jt].fontStyle,J=m.toLowerCase(),bn[J]!==void 0&&bn[J][A]!==void 0?de=bn[J][A]:bn[m]!==void 0&&bn[m][A]!==void 0?de=bn[m][A]:z.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+m+"', '"+A+"'. Refer to getFontList() for available fonts."),de||z.noFallback||(de=bn.times[A])==null&&(de=bn.times.normal),de},Fc=p.__private__.putInfo=function(){var m=Bn(),A=function(J){return J};for(var z in h!==null&&(A=Kn.encryptor(m,0)),K("<<"),K("/Producer ("+ei(A("jsPDF "+gt.version))+")"),lt)lt.hasOwnProperty(z)&&lt[z]&&K("/"+z.substr(0,1).toUpperCase()+z.substr(1)+" ("+ei(A(lt[z]))+")");K("/CreationDate ("+ei(A(be))+")"),K(">>"),K("endobj")},no=p.__private__.putCatalog=function(m){var A=(m=m||{}).rootDictionaryObjId||to;switch(Bn(),K("<<"),K("/Type /Catalog"),K("/Pages "+A+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var z=""+Ge;z.substr(z.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&K("/OpenAction [3 0 R /XYZ null null "+U(Ge)+"]")}switch(Ot||(Ot="continuous"),Ot){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}wt&&K("/PageMode /"+wt),Kt.publish("putCatalog"),K(">>"),K("endobj")},ja=p.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(se+1)),K("/Root "+se+" 0 R"),K("/Info "+(se-1)+" 0 R"),h!==null&&K("/Encrypt "+Kn.oid+" 0 R"),K("/ID [ <"+X+"> <"+X+"> ]"),K(">>")},jf=p.__private__.putHeader=function(){K("%PDF-"+E),K("%\xBA\xDF\xAC\xE0")},wd=p.__private__.putXRef=function(){var m="0000000000";K("xref"),K("0 "+(se+1)),K("0000000000 65535 f ");for(var A=1;A<=se;A++)typeof le[A]=="function"?K((m+le[A]()).slice(-10)+" 00000 n "):le[A]!==void 0?K((m+le[A]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ro=p.__private__.buildDocument=function(){ct(),Te(ye),Kt.publish("buildDocument"),jf(),Ho(),Hu(),Oc(),h!==null&&zu(),Fc(),no();var m=me;return wd(),ja(),K("startxref"),K(""+m),K("%%EOF"),Te(ke[q]),ye.join(`
`)},Vc=p.__private__.getBlob=function(m){return new Blob([it(m)],{type:"application/pdf"})},jc=p.output=p.__private__.output=Ni(function(m,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",m){case void 0:return ro();case"save":p.save(A.filename);break;case"arraybuffer":return it(ro());case"blob":return Vc(ro());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(Vc(ro()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var z="",J=ro();try{z=GA(J)}catch{z=GA(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+A.filename+";base64,"+z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(de=A.pdfObjectUrl,we="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Ye=_t.open();return Ye!==null&&Ye.document.write(Me),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',d=_t.open();if(d!==null){d.document.write(st);var _=this;d.document.documentElement.querySelector("#pdfViewer").onload=function(){d.document.title=A.filename,d.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_.output("bloburl"))}}return d}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',L=_t.open();if(L!==null&&(L.document.write(b),L.document.title=A.filename),L||typeof safari>"u")return L;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",A);default:return null}}),bd=function(m){return Array.isArray(zo)===!0&&zo.indexOf(m)>-1};switch(r){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=bd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Qe=r}var Kn=null;Ue(),Z();var Ss=function(m){return h!==null?Kn.encryptor(m,0):function(A){return A}},Ku=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[m].objId,pageNumber:m,pageContext:bt[m]}},Et=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in bt)if(bt[A].objId===m)break;return Ku(A)},Ed=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:bt[q].objId,pageNumber:q,pageContext:bt[q]}};p.addPage=function(){return xi.apply(this,arguments),this},p.setPage=function(){return Va.apply(this,arguments),Te.call(this,ke[q]),this},p.insertPage=function(m){return this.addPage(),this.movePage(q,m),this},p.movePage=function(m,A){var z,J;if(m>A){z=ke[m],J=bt[m];for(var de=m;de>A;de--)ke[de]=ke[de-1],bt[de]=bt[de-1];ke[A]=z,bt[A]=J,this.setPage(A)}else if(m<A){z=ke[m],J=bt[m];for(var we=m;we<A;we++)ke[we]=ke[we+1],bt[we]=bt[we+1];ke[A]=z,bt[A]=J,this.setPage(A)}return this},p.deletePage=function(){return Lc.apply(this,arguments),this},p.__private__.text=p.text=function(m,A,z,J,de){var we,Me,Ye,st,d,_,b,L,ne,fe=(J=J||{}).scope||this;if(typeof m=="number"&&typeof A=="number"&&(typeof z=="string"||Array.isArray(z))){var Ve=z;z=A,A=m,m=Ve}if(arguments[3]instanceof ut?(T("The transform parameter of text() with a Matrix value"),ne=de):(Ye=arguments[4],st=arguments[5],Sn(b=arguments[3])==="object"&&b!==null||(typeof Ye=="string"&&(st=Ye,Ye=null),typeof b=="string"&&(st=b,b=null),typeof b=="number"&&(Ye=b,b=null),J={flags:b,angle:Ye,align:st})),isNaN(A)||isNaN(z)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return fe;var Tt="",vn=!1,Ct=typeof J.lineHeightFactor=="number"?J.lineHeightFactor:io,An=fe.internal.scaleFactor;function ir(kn){return kn=kn.split("	").join(Array(J.TabLen||9).join(" ")),ei(kn,b)}function Ns(kn){for(var On,or=kn.concat(),xr=[],Wa=or.length;Wa--;)typeof(On=or.shift())=="string"?xr.push(On):Array.isArray(kn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?xr.push(On[0]):xr.push([On[0],On[1],On[2]]);return xr}function Hr(kn,On){var or;if(typeof kn=="string")or=On(kn)[0];else if(Array.isArray(kn)){for(var xr,Wa,Gf=kn.concat(),Ld=[],um=Gf.length;um--;)typeof(xr=Gf.shift())=="string"?Ld.push(On(xr)[0]):Array.isArray(xr)&&typeof xr[0]=="string"&&(Wa=On(xr[0],xr[1],xr[2]),Ld.push([Wa[0],Wa[1],Wa[2]]));or=Ld}return or}var uo=!1,qa=!0;if(typeof m=="string")uo=!0;else if(Array.isArray(m)){var Uf=m.concat();Me=[];for(var Dd,Wr=Uf.length;Wr--;)(typeof(Dd=Uf.shift())!="string"||Array.isArray(Dd)&&typeof Dd[0]!="string")&&(qa=!1);uo=qa}if(uo===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Nd=qe/fe.internal.scaleFactor,xd=Nd*(Ct-1);switch(J.baseline){case"bottom":z-=xd;break;case"top":z+=Nd-xd;break;case"hanging":z+=Nd-2*xd;break;case"middle":z+=Nd/2-xd}if((_=J.maxWidth||0)>0&&(typeof m=="string"?m=fe.splitTextToSize(m,_):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(kn,On){return kn.concat(fe.splitTextToSize(On,_))},[]))),we={text:m,x:A,y:z,options:J,mutex:{pdfEscape:ei,activeFontKey:jt,fonts:fn,activeFontSize:qe}},Kt.publish("preProcessText",we),m=we.text,Ye=(J=we.options).angle,!(ne instanceof ut)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,J.rotationDirection===0&&(Ye=-Ye),W===B.ADVANCED&&(Ye=-Ye);var Rd=Math.cos(Ye),qf=Math.sin(Ye);ne=new ut(Rd,qf,-qf,Rd,0,0)}else Ye&&Ye instanceof ut&&(ne=Ye);W!==B.ADVANCED||ne||(ne=Qi),(d=J.charSpace||ao)!==void 0&&(Tt+=V(C(d))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(L=J.horizontalScale)!==void 0&&(Tt+=V(100*L)+` Tz
`),J.lang;var Pi=-1,Uw=J.renderingMode!==void 0?J.renderingMode:J.stroke,$f=fe.internal.getCurrentPageInfo().pageContext;switch(Uw){case 0:case!1:case"fill":Pi=0;break;case 1:case!0:case"stroke":Pi=1;break;case 2:case"fillThenStroke":Pi=2;break;case 3:case"invisible":Pi=3;break;case 4:case"fillAndAddForClipping":Pi=4;break;case 5:case"strokeAndAddPathForClipping":Pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pi=6;break;case 7:case"addToPathForClipping":Pi=7}var sm=$f.usedRenderingMode!==void 0?$f.usedRenderingMode:-1;Pi!==-1?Tt+=Pi+` Tr
`:sm!==-1&&(Tt+=`0 Tr
`),Pi!==-1&&($f.usedRenderingMode=Pi),st=J.align||"left";var xs,Pd=qe*Ct,om=fe.internal.pageSize.getWidth(),am=fn[jt];d=J.charSpace||ao,_=J.maxWidth||0,b=Object.assign({autoencode:!0,noBOM:!0},J.flags);var Gc=[],rl=function(kn){return fe.getStringUnitWidth(kn,{font:am,charSpace:d,fontSize:qe,doKerning:!1})*qe/An};if(Object.prototype.toString.call(m)==="[object Array]"){var Mi;Me=Ns(m),st!=="left"&&(xs=Me.map(rl));var mi,Kc=0;if(st==="right"){A-=xs[0],m=[],Wr=Me.length;for(var $a=0;$a<Wr;$a++)$a===0?(mi=gi(A),Mi=Cs(z)):(mi=C(Kc-xs[$a]),Mi=-Pd),m.push([Me[$a],mi,Mi]),Kc=xs[$a]}else if(st==="center"){A-=xs[0]/2,m=[],Wr=Me.length;for(var za=0;za<Wr;za++)za===0?(mi=gi(A),Mi=Cs(z)):(mi=C((Kc-xs[za])/2),Mi=-Pd),m.push([Me[za],mi,Mi]),Kc=xs[za]}else if(st==="left"){m=[],Wr=Me.length;for(var Md=0;Md<Wr;Md++)m.push(Me[Md])}else if(st==="justify"&&am.encoding==="Identity-H"){m=[],Wr=Me.length,_=_!==0?_:om;for(var Ha=0,sr=0;sr<Wr;sr++)if(Mi=sr===0?Cs(z):-Pd,mi=sr===0?gi(A):Ha,sr<Wr-1){var zf=C((_-xs[sr])/(Me[sr].split(" ").length-1)),yi=Me[sr].split(" ");m.push([yi[0]+" ",mi,Mi]),Ha=0;for(var Rs=1;Rs<yi.length;Rs++){var kd=(rl(yi[Rs-1]+" "+yi[Rs])-rl(yi[Rs]))*An+zf;Rs==yi.length-1?m.push([yi[Rs],kd,0]):m.push([yi[Rs]+" ",kd,0]),Ha-=kd}}else m.push([Me[sr],mi,Mi]);m.push(["",Ha,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Wr=Me.length,_=_!==0?_:om,sr=0;sr<Wr;sr++)Mi=sr===0?Cs(z):-Pd,mi=sr===0?gi(A):0,sr<Wr-1?Gc.push(V(C((_-xs[sr])/(Me[sr].split(" ").length-1)))):Gc.push(0),m.push([Me[sr],mi,Mi])}}var cm=typeof J.R2L=="boolean"?J.R2L:ot;cm===!0&&(m=Hr(m,function(kn,On,or){return[kn.split("").reverse().join(""),On,or]})),we={text:m,x:A,y:z,options:J,mutex:{pdfEscape:ei,activeFontKey:jt,fonts:fn,activeFontSize:qe}},Kt.publish("postProcessText",we),m=we.text,vn=we.mutex.isHex||!1;var Hf=fn[jt].encoding;Hf!=="WinAnsiEncoding"&&Hf!=="StandardEncoding"||(m=Hr(m,function(kn,On,or){return[ir(kn),On,or]})),Me=Ns(m),m=[];for(var il,sl,Qc,ol=0,Od=1,al=Array.isArray(Me[0])?Od:ol,Yc="",Wf=function(kn,On,or){var xr="";return or instanceof ut?(or=typeof J.angle=="number"?Cn(or,new ut(1,0,0,1,kn,On)):Cn(new ut(1,0,0,1,kn,On),or),W===B.ADVANCED&&(or=Cn(new ut(1,0,0,-1,0,0),or)),xr=or.join(" ")+` Tm
`):xr=V(kn)+" "+V(On)+` Td
`,xr},Ps=0;Ps<Me.length;Ps++){switch(Yc="",al){case Od:Qc=(vn?"<":"(")+Me[Ps][0]+(vn?">":")"),il=parseFloat(Me[Ps][1]),sl=parseFloat(Me[Ps][2]);break;case ol:Qc=(vn?"<":"(")+Me[Ps]+(vn?">":")"),il=gi(A),sl=Cs(z)}Gc!==void 0&&Gc[Ps]!==void 0&&(Yc=Gc[Ps]+` Tw
`),Ps===0?m.push(Yc+Wf(il,sl,ne)+Qc):al===ol?m.push(Yc+Qc):al===Od&&m.push(Yc+Wf(il,sl,ne)+Qc)}m=al===ol?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Ms=`BT
/`;return Ms+=jt+" "+qe+` Tf
`,Ms+=V(qe*Ct)+` TL
`,Ms+=Qo+`
`,Ms+=Tt,Ms+=m,K(Ms+="ET"),v[jt]=!0,fe};var Ko=p.__private__.clip=p.clip=function(m){return K(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ko("evenodd")},p.__private__.discardPath=p.discardPath=function(){return K("n"),this};var Ts=p.__private__.isValidStyle=function(m){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(A=!0),A};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Ts(m)&&(u=m),this};var Id=p.__private__.getStyle=p.getStyle=function(m){var A=u;switch(m){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=m}return A},Sd=p.close=function(){return K("h"),this};p.stroke=function(){return K("S"),this},p.fill=function(m){return pi("f",m),this},p.fillEvenOdd=function(m){return pi("f*",m),this},p.fillStroke=function(m){return pi("B",m),this},p.fillStrokeEvenOdd=function(m){return pi("B*",m),this};var pi=function(m,A){Sn(A)==="object"?Ba(A,m):K(m)},Qu=function(m){m===null||W===B.ADVANCED&&m===void 0||(m=Id(m),K(m))};function Bf(m,A,z,J,de){var we=new Rf(A||this.boundingBox,z||this.xStep,J||this.yStep,this.gState,de||this.matrix);we.stream=this.stream;var Me=m+"$$"+this.cloneIndex+++"$$";return mr(Me,we),we}var Ba=function(m,A){var z=eo[m.key],J=cn[z];if(J instanceof fd)K("q"),K(Bc(A)),J.gState&&p.setGState(J.gState),K(m.matrix.toString()+" cm"),K("/"+z+" sh"),K("Q");else if(J instanceof Rf){var de=new ut(1,0,0,-1,0,co());m.matrix&&(de=de.multiply(m.matrix||Qi),z=Bf.call(J,m.key,m.boundingBox,m.xStep,m.yStep,de).id),K("q"),K("/Pattern cs"),K("/"+z+" scn"),J.gState&&p.setGState(J.gState),K(A),K("Q")}},Bc=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uc=p.moveTo=function(m,A){return K(V(C(m))+" "+V(Q(A))+" m"),this},es=p.lineTo=function(m,A){return K(V(C(m))+" "+V(Q(A))+" l"),this},Ri=p.curveTo=function(m,A,z,J,de,we){return K([V(C(m)),V(Q(A)),V(C(z)),V(Q(J)),V(C(de)),V(Q(we)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,A,z,J,de){if(isNaN(m)||isNaN(A)||isNaN(z)||isNaN(J)||!Ts(de))throw new Error("Invalid arguments passed to jsPDF.line");return W===B.COMPAT?this.lines([[z-m,J-A]],m,A,[1,1],de||"S"):this.lines([[z-m,J-A]],m,A,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,A,z,J,de,we){var Me,Ye,st,d,_,b,L,ne,fe,Ve,Tt,vn;if(typeof m=="number"&&(vn=z,z=A,A=m,m=vn),J=J||[1,1],we=we||!1,isNaN(A)||isNaN(z)||!Array.isArray(m)||!Array.isArray(J)||!Ts(de)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uc(A,z),Me=J[0],Ye=J[1],d=m.length,Ve=A,Tt=z,st=0;st<d;st++)(_=m[st]).length===2?(Ve=_[0]*Me+Ve,Tt=_[1]*Ye+Tt,es(Ve,Tt)):(b=_[0]*Me+Ve,L=_[1]*Ye+Tt,ne=_[2]*Me+Ve,fe=_[3]*Ye+Tt,Ve=_[4]*Me+Ve,Tt=_[5]*Ye+Tt,Ri(b,L,ne,fe,Ve,Tt));return we&&Sd(),Qu(de),this},p.path=function(m){for(var A=0;A<m.length;A++){var z=m[A],J=z.c;switch(z.op){case"m":Uc(J[0],J[1]);break;case"l":es(J[0],J[1]);break;case"c":Ri.apply(this,J);break;case"h":Sd()}}return this},p.__private__.rect=p.rect=function(m,A,z,J,de){if(isNaN(m)||isNaN(A)||isNaN(z)||isNaN(J)||!Ts(de))throw new Error("Invalid arguments passed to jsPDF.rect");return W===B.COMPAT&&(J=-J),K([V(C(m)),V(Q(A)),V(C(z)),V(C(J)),"re"].join(" ")),Qu(de),this},p.__private__.triangle=p.triangle=function(m,A,z,J,de,we,Me){if(isNaN(m)||isNaN(A)||isNaN(z)||isNaN(J)||isNaN(de)||isNaN(we)||!Ts(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[z-m,J-A],[de-z,we-J],[m-de,A-we]],m,A,[1,1],Me,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,A,z,J,de,we,Me){if(isNaN(m)||isNaN(A)||isNaN(z)||isNaN(J)||isNaN(de)||isNaN(we)||!Ts(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*z),we=Math.min(we,.5*J),this.lines([[z-2*de,0],[de*Ye,0,de,we-we*Ye,de,we],[0,J-2*we],[0,we*Ye,-de*Ye,we,-de,we],[2*de-z,0],[-de*Ye,0,-de,-we*Ye,-de,-we],[0,2*we-J],[0,-we*Ye,de*Ye,-we,de,-we]],m+de,A,[1,1],Me,!0),this},p.__private__.ellipse=p.ellipse=function(m,A,z,J,de){if(isNaN(m)||isNaN(A)||isNaN(z)||isNaN(J)||!Ts(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*z,Me=4/3*(Math.SQRT2-1)*J;return Uc(m+z,A),Ri(m+z,A-Me,m+we,A-J,m,A-J),Ri(m-we,A-J,m-z,A-Me,m-z,A),Ri(m-z,A+Me,m-we,A+J,m,A+J),Ri(m+we,A+J,m+z,A+Me,m+z,A),Qu(de),this},p.__private__.circle=p.circle=function(m,A,z,J){if(isNaN(m)||isNaN(A)||isNaN(z)||!Ts(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,A,z,z,J)},p.setFont=function(m,A,z){return z&&(A=Ie(A,z)),jt=pn(m,A,{disableWarning:!1}),this};var Td=p.__private__.getFont=p.getFont=function(){return fn[pn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,A,z={};for(m in bn)if(bn.hasOwnProperty(m))for(A in z[m]=[],bn[m])bn[m].hasOwnProperty(A)&&z[m].push(A);return z},p.addFont=function(m,A,z,J,de){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(z=Ie(z,J)),de=de||"Identity-H",Gu.call(this,m,A,z,de)};var io,En=n.lineWidth||.200025,qc=p.__private__.getLineWidth=p.getLineWidth=function(){return En},Cd=p.__private__.setLineWidth=p.setLineWidth=function(m){return En=m,K(V(C(m))+" w"),this};p.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(m,A){if(m=m||[],A=A||0,isNaN(A)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(z){return V(C(z))}).join(" "),A=V(C(A)),K("["+m+"] "+A+" d"),this};var Yu=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*io};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*io};var Zu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(io=m),this},Ju=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return io};Zu(n.lineHeight);var gi=p.__private__.getHorizontalCoordinate=function(m){return C(m)},Cs=p.__private__.getVerticalCoordinate=function(m){return W===B.ADVANCED?m:bt[q].mediaBox.topRightY-bt[q].mediaBox.bottomLeftY-C(m)},ts=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return V(gi(m))},so=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return V(Cs(m))},ns=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Xr(ns)},p.__private__.setStrokeColor=p.setDrawColor=function(m,A,z,J){return ns=Ai({ch1:m,ch2:A,ch3:z,ch4:J,pdfColorType:"draw",precision:2}),K(ns),this};var oo=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Xr(oo)},p.__private__.setFillColor=p.setFillColor=function(m,A,z,J){return oo=Ai({ch1:m,ch2:A,ch3:z,ch4:J,pdfColorType:"fill",precision:2}),K(oo),this};var Qo=n.textColor||"0 g",Xu=p.__private__.getTextColor=p.getTextColor=function(){return Xr(Qo)};p.__private__.setTextColor=p.setTextColor=function(m,A,z,J){return Qo=Ai({ch1:m,ch2:A,ch3:z,ch4:J,pdfColorType:"text",precision:3}),this};var ao=n.charSpace,Ad=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ao||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ao=m,this};var Yo=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yo=A,K(A+" J"),this};var el=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return el=A,K(A+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(V(C(m))+" M"),this},p.GState=Mw,p.setGState=function(m){(m=typeof m=="string"?jn[Ci[m]]:tl(null,m)).equals(hi)||(K("/"+m.id+" gs"),hi=m)};var tl=function(m,A){if(!m||!Ci[m]){var z=!1;for(var J in jn)if(jn.hasOwnProperty(J)&&jn[J].equals(A)){z=!0;break}if(z)A=jn[J];else{var de="GS"+(Object.keys(jn).length+1).toString(10);jn[de]=A,A.id=de}return m&&(Ci[m]=A.id),Kt.publish("addGState",A),A}};p.addGState=function(m,A){return tl(m,A),this},p.saveGraphicsState=function(){return K("q"),Is.push({key:jt,size:qe,color:Qo}),this},p.restoreGraphicsState=function(){K("Q");var m=Is.pop();return jt=m.key,qe=m.size,Qo=m.color,hi=null,this},p.setCurrentTransformationMatrix=function(m){return K(m.toString()+" cm"),this},p.comment=function(m){return K("#"+m),this};var As=function(m,A){var z=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return z},set:function(we){isNaN(we)||(z=parseFloat(we))}});var J=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(we){isNaN(we)||(J=parseFloat(we))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(we){de=we.toString()}}),this},$c=function(m,A,z,J){As.call(this,m,A),this.type="rect";var de=z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Me){isNaN(Me)||(de=parseFloat(Me))}});var we=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Me){isNaN(Me)||(we=parseFloat(Me))}}),this},zc=function(){this.page=Mn,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=bt.slice(0),this.x=Lr,this.y=Gt,this.matrix=Ti,this.width=Ds(q),this.height=co(q),this.outputDestination=$e,this.id="",this.objectNumber=-1};zc.prototype.restore=function(){Mn=this.page,q=this.currentPage,bt=this.pagesContext,ke=this.pages,Lr=this.x,Gt=this.y,Ti=this.matrix,Wc(q,this.width),rs(q,this.height),$e=this.outputDestination};var Hc=function(m,A,z,J,de){Jr.push(new zc),Mn=q=0,ke=[],Lr=m,Gt=A,Ti=de,Xi([z,J])},nl=function(m){if(Ki[m])Jr.pop().restore();else{var A=new zc,z="Xo"+(Object.keys(Wn).length+1).toString(10);A.id=z,Ki[m]=z,Wn[z]=A,Kt.publish("addFormObject",A),Jr.pop().restore()}};for(var Ua in p.beginFormObject=function(m,A,z,J,de){return Hc(m,A,z,J,de),this},p.endFormObject=function(m){return nl(m),this},p.doFormObject=function(m,A){var z=Wn[Ki[m]];return K("q"),K(A.toString()+" cm"),K("/"+z.id+" Do"),K("Q"),this},p.getFormObject=function(m){var A=Wn[Ki[m]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},p.save=function(m,A){return m=m||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(hd(Vc(ro()),m),typeof hd.unload=="function"&&_t.setTimeout&&setTimeout(hd.unload,911),this):new Promise(function(z,J){try{var de=hd(Vc(ro()),m);typeof hd.unload=="function"&&_t.setTimeout&&setTimeout(hd.unload,911),z(de)}catch(we){J(we.message)}})},gt.API)gt.API.hasOwnProperty(Ua)&&(Ua==="events"&&gt.API.events.length?function(m,A){var z,J,de;for(de=A.length-1;de!==-1;de--)z=A[de][0],J=A[de][1],m.subscribe.apply(m,[z].concat(typeof J=="function"?[J]:J))}(Kt,gt.API.events):p[Ua]=gt.API[Ua]);var Ds=p.getPageWidth=function(m){return(bt[m=m||q].mediaBox.topRightX-bt[m].mediaBox.bottomLeftX)/Qe},Wc=p.setPageWidth=function(m,A){bt[m].mediaBox.topRightX=A*Qe+bt[m].mediaBox.bottomLeftX},co=p.getPageHeight=function(m){return(bt[m=m||q].mediaBox.topRightY-bt[m].mediaBox.bottomLeftY)/Qe},rs=p.setPageHeight=function(m,A){bt[m].mediaBox.topRightY=A*Qe+bt[m].mediaBox.bottomLeftY};return p.internal={pdfEscape:ei,getStyle:Id,getFont:Td,getFontSize:We,getCharSpace:Ad,getTextColor:Xu,getLineHeight:Yu,getLineHeightFactor:Ju,getLineWidth:qc,write:St,getHorizontalCoordinate:gi,getVerticalCoordinate:Cs,getCoordinateString:ts,getVerticalCoordinateString:so,collections:{},newObject:Bn,newAdditionalObject:Yi,newObjectDeferred:Gn,newObjectDeferredBegin:fi,getFilters:Di,putStream:zr,events:Kt,scaleFactor:Qe,pageSize:{getWidth:function(){return Ds(q)},setWidth:function(m){Wc(q,m)},getHeight:function(){return co(q)},setHeight:function(m){rs(q,m)}},encryptionOptions:h,encryption:Kn,getEncryptor:Ss,output:jc,getNumberOfPages:_d,pages:ke,out:K,f2:U,f3:I,getPageInfo:Ku,getPageInfoByObjId:Et,getCurrentPageInfo:Ed,getPDFVersion:S,Point:As,Rectangle:$c,Matrix:ut,hasHotfix:bd},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ds(q)},set:function(m){Wc(q,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return co(q)},set:function(m){rs(q,m)},enumerable:!0,configurable:!0}),Vf.call(p,Be),jt="F1",xi(i,t),Kt.publish("initialized"),p}Nf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Nf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Nf.prototype.processOwnerPassword=function(n,e){return QA(KA(e).substr(0,5),n)},Nf.prototype.encryptor=function(n,e){var t=KA(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return QA(t,r)}},Mw.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Sn(n)!==Sn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},gt.API={events:[]},gt.version="3.0.1";var rr=gt.API,XA=1,gd=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Af=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(n){return n.toFixed(2)},Bu=function(n){return n.toFixed(5)};rr.__acroform__={};var Gi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},P4=function(n){return n*XA},Na=function(n){var e=new Q4,t=rt.internal.getHeight(n)||0,r=rt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Pt(r)),Number(Pt(t))],e},Tte=rr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Cte=rr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Ate=rr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},fr=rr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ate(n,e-1)},pr=rr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Tte(n,e-1)},gr=rr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cte(n,e-1)},Dte=rr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+a)||0,c.upperRight_X=t(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Pt(c.lowerLeft_X)),Number(Pt(c.lowerLeft_Y)),Number(Pt(c.upperRight_X)),Number(Pt(c.upperRight_Y))]},Nte=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=YA(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Pt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Na(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},YA=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=t,o=rt.internal.getHeight(n)||0;o=o<0?-o:o;var a=rt.internal.getWidth(n)||0;a=a<0?-a:a;var c=function(I,C,N){if(I+1<i.length){var Q=C+" "+i[I+1][0];return Cw(Q,n,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,g=Cw("3",n,s).height,v=n.multiline?o-s:(o-g)/2,p=v+=2,E=0,S=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Cw(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",B=0,W=0;W<i.length;W++)if(i.hasOwnProperty(W)){var oe=!1;if(i[W].length!==1&&R!==i[W].length-1){if((g+2)*(B+2)+2>o)continue e;x+=i[W][R],oe=!0,S=W,W--}else{x=(x+=i[W][R]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var ve=parseInt(W),Ie=c(ve,x,s),V=W>=i.length-1;if(Ie&&!V){x+=" ",R=0;continue}if(Ie||V){if(V)S=ve;else if(n.multiline&&(g+2)*(B+2)+2>o)continue e}else{if(!n.multiline||(g+2)*(B+2)+2>o)continue e;S=ve}}for(var T="",O=E;O<=S;O++){var U=i[O];if(n.multiline){if(O===S){T+=U[R]+" ",R=(R+1)%U.length;continue}if(O===E){T+=U[U.length-1]+" ";continue}}T+=U[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,h=Cw(T,n,s).width,n.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;case"left":default:u=2}e+=Pt(u)+" "+Pt(p)+` Td
`,e+="("+gd(T)+`) Tj
`,e+=-Pt(u)+` 0 Td
`,p=-(s+2),h=0,E=oe?S:S+1,B++,x=""}break}return r.text=e,r.fontSize=s,r},Cw=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},xte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rte=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Pte=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Sn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Mte=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(qo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(xte)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");XA=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Y4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Rte(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],u=a.Rect;if(a.Rect&&(a.Rect=Dte(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=rt.createDefaultAppearanceStream(a),Sn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=Nte(a);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var g="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var E=p[o];typeof E=="function"&&(E=E.call(i,a)),g+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=p)=="function"&&(E=E.call(i,a)),g+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&Pte(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},K4=rr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Sn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+gd(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zA=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+gd(r(n))+")"},xa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xa.prototype.toString=function(){return this.objId+" 0 R"},xa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},xa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:K4(i,this.objId,this.scope)}):i instanceof xa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var Q4=function(){xa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Gi(Q4,xa);var Y4=function(){xa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+gd(t(n))+")"}},set:function(t){n=t}})};Gi(Y4,xa);var qo=function n(){xa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(e,3)},set:function(x){x?this.F=pr(e,3):this.F=gr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof kw)return;s="FieldObject"+n.FieldNum++}var x=function(B){return B};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+gd(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/XA:u},set:function(x){u=x}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(x){h=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof kw||this instanceof pd))return zA(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof $r?v:zA(v,this.objId,this.scope)},set:function(x){x=x.toString(),v=this instanceof $r?x:x.substr(0,1)==="("?Af(x.substr(1,x.length-2)):Af(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?Af(v.substr(1,v.length-1)):v},set:function(x){x=x.toString(),v=this instanceof $r?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $r?p:zA(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof $r?x:x.substr(0,1)==="("?Af(x.substr(1,x.length-2)):Af(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $r?Af(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof $r?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(x){x=!!x,S=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(x){E=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(x){x?this.Ff=pr(this.Ff,1):this.Ff=gr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(x){x?this.Ff=pr(this.Ff,2):this.Ff=gr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(x){x?this.Ff=pr(this.Ff,3):this.Ff=gr(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');R=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(R){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};Gi(qo,xa);var Pf=function(){qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return K4(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,u=[];c=o.exec(s);)u.push(c[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(t){t?this.Ff=pr(this.Ff,18):this.Ff=gr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=pr(this.Ff,19):this.Ff=gr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(t){t?(this.Ff=pr(this.Ff,20),e.sort()):this.Ff=gr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(t){t?this.Ff=pr(this.Ff,22):this.Ff=gr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(t){t?this.Ff=pr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(t){t?this.Ff=pr(this.Ff,27):this.Ff=gr(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(Pf,qo);var Mf=function(){Pf.call(this),this.fontName="helvetica",this.combo=!1};Gi(Mf,Pf);var kf=function(){Mf.call(this),this.combo=!0};Gi(kf,Mf);var Nw=function(){kf.call(this),this.edit=!0};Gi(Nw,kf);var $r=function(){qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(t){t?this.Ff=pr(this.Ff,15):this.Ff=gr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(t){t?this.Ff=pr(this.Ff,16):this.Ff=gr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(t){t?this.Ff=pr(this.Ff,17):this.Ff=gr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(t){t?this.Ff=pr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+gd(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Sn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Gi($r,qo);var xw=function(){$r.call(this),this.pushButton=!0};Gi(xw,$r);var Of=function(){$r.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Gi(Of,$r);var kw=function(){var n,e;qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+gd(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Sn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(kw,qo),Of.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Of.prototype.createOption=function(n){var e=new kw;return e.Parent=this,e.optionName=n,this.Kids.push(e),kte.call(this.scope,e),e};var Rw=function(){$r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};Gi(Rw,$r);var pd=function(){qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(e){e?this.Ff=pr(this.Ff,13):this.Ff=gr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(e){e?this.Ff=pr(this.Ff,21):this.Ff=gr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(e){e?this.Ff=pr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(e){e?this.Ff=pr(this.Ff,24):this.Ff=gr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(e){e?this.Ff=pr(this.Ff,25):this.Ff=gr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(e){e?this.Ff=pr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(pd,qo);var Pw=function(){pd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(n){n?this.Ff=pr(this.Ff,14):this.Ff=gr(this.Ff,14)}}),this.password=!0};Gi(Pw,pd);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Na(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=YA(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Pt(rt.internal.getWidth(n))+" "+Pt(rt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Pt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Na(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=rt.internal.getHeight(n),o=rt.internal.getWidth(n),a=YA(n,n.caption);return i.push("1 g"),i.push("0 0 "+Pt(o)+" "+Pt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Pt(o-1)+" "+Pt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Pt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Na(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Pt(rt.internal.getWidth(n))+" "+Pt(rt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=rt.RadioButton.Circle.YesNormal,e.D[n]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Na(n);e.scope=n.scope;var t=[],r=rt.internal.getWidth(n)<=rt.internal.getHeight(n)?rt.internal.getWidth(n)/4:rt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=rt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Bu(rt.internal.getWidth(n)/2)+" "+Bu(rt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Na(n);e.scope=n.scope;var t=[],r=rt.internal.getWidth(n)<=rt.internal.getHeight(n)?rt.internal.getWidth(n)/4:rt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rt.internal.Bezier_C).toFixed(5)),o=Number((r*rt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Bu(rt.internal.getWidth(n)/2)+" "+Bu(rt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Bu(rt.internal.getWidth(n)/2)+" "+Bu(rt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Na(n);e.scope=n.scope;var t=[],r=rt.internal.getWidth(n)<=rt.internal.getHeight(n)?rt.internal.getWidth(n)/4:rt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Bu(rt.internal.getWidth(n)/2)+" "+Bu(rt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=rt.RadioButton.Cross.YesNormal,e.D[n]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Na(n);e.scope=n.scope;var t=[],r=rt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Pt(rt.internal.getWidth(n)-2)+" "+Pt(rt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),t.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),t.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),t.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Na(n);e.scope=n.scope;var t=rt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(rt.internal.getWidth(n))+" "+Pt(rt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pt(rt.internal.getWidth(n)-2)+" "+Pt(rt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(t.x1.x)+" "+Pt(t.x1.y)+" m"),r.push(Pt(t.x2.x)+" "+Pt(t.x2.y)+" l"),r.push(Pt(t.x4.x)+" "+Pt(t.x4.y)+" m"),r.push(Pt(t.x3.x)+" "+Pt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Na(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Pt(rt.internal.getWidth(n))+" "+Pt(rt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};rt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=rt.internal.getWidth(n),t=rt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},rt.internal.getWidth=function(n){var e=0;return Sn(n)==="object"&&(e=P4(n.Rect[2])),e},rt.internal.getHeight=function(n){var e=0;return Sn(n)==="object"&&(e=P4(n.Rect[3])),e};var kte=rr.addField=function(n){if(Mte(this,n),!(n instanceof qo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};rr.AcroFormChoiceField=Pf,rr.AcroFormListBox=Mf,rr.AcroFormComboBox=kf,rr.AcroFormEditBox=Nw,rr.AcroFormButton=$r,rr.AcroFormPushButton=xw,rr.AcroFormRadioButton=Of,rr.AcroFormCheckBox=Rw,rr.AcroFormTextField=pd,rr.AcroFormPasswordField=Pw,rr.AcroFormAppearance=rt,rr.AcroForm={ChoiceField:Pf,ListBox:Mf,ComboBox:kf,EditBox:Nw,Button:$r,PushButton:xw,RadioButton:Of,CheckBox:Rw,TextField:pd,PasswordField:Pw,Appearance:rt},gt.AcroForm={ChoiceField:Pf,ListBox:Mf,ComboBox:kf,EditBox:Nw,Button:$r,PushButton:xw,RadioButton:Of,CheckBox:Rw,TextField:pd,PasswordField:Pw,Appearance:rt};var Uge=gt.AcroForm;function Z4(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(I,C){var N,Q,be,X,ie,Z=e;if((C=C||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(Ie(I))for(ie in t)for(be=t[ie],N=0;N<be.length;N+=1){for(X=!0,Q=0;Q<be[N].length;Q+=1)if(be[N][Q]!==void 0&&be[N][Q]!==I[Q]){X=!1;break}if(X===!0){Z=ie;break}}else for(ie in t)for(be=t[ie],N=0;N<be.length;N+=1){for(X=!0,Q=0;Q<be[N].length;Q+=1)if(be[N][Q]!==void 0&&be[N][Q]!==I.charCodeAt(Q)){X=!1;break}if(X===!0){Z=ie;break}}return Z===e&&C!==e&&(Z=C),Z},i=function I(C){for(var N=this.internal.write,Q=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:C.width}),X.push({key:"Height",value:C.height}),C.colorSpace===R.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===R.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ie="",Z=0,he=C.transparency.length;Z<he;Z++)ie+=C.transparency[Z]+" "+C.transparency[Z]+" ";X.push({key:"Mask",value:"["+ie+"]"})}C.sMask!==void 0&&X.push({key:"SMask",value:C.objectId+1+" 0 R"});var _e=C.filter!==void 0?["/"+C.filter]:void 0;if(Q({data:C.data,additionalKeyValues:X,alreadyAppliedFilters:_e,objectId:C.objectId}),N("endobj"),"sMask"in C&&C.sMask!==void 0){var Ue="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,M={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Ue,data:C.sMask};"filter"in C&&(M.filter=C.filter),I.call(this,M)}if(C.colorSpace===R.INDEXED){var q=this.internal.newObject();Q({data:T(new Uint8Array(C.palette)),objectId:q}),N("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var C in I)i.call(this,I[C])},o=function(){var I,C=this.internal.collections.addImage_images,N=this.internal.write;for(var Q in C)N("/I"+(I=C[Q]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(I){return typeof n["process"+I.toUpperCase()]=="function"},g=function(I){return Sn(I)==="object"&&I.nodeType===1},v=function(I,C){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var N=""+I.getAttribute("src");if(N.indexOf("data:image/")===0)return im(unescape(N).split("base64,").pop());var Q=n.loadFile(N,!0);if(Q!==void 0)return Q}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var be;switch(C){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;case"JPEG":case"JPG":default:be="image/jpeg"}return im(I.toDataURL(be,1).split("base64,").pop())}},p=function(I){var C=this.internal.collections.addImage_images;if(C){for(var N in C)if(I===C[N].alias)return C[N]}},E=function(I,C,N){return I||C||(I=-96,C=-96),I<0&&(I=-1*N.width*72/I/this.internal.scaleFactor),C<0&&(C=-1*N.height*72/C/this.internal.scaleFactor),I===0&&(I=C*N.width/N.height),C===0&&(C=I*N.height/N.width),[I,C]},S=function(I,C,N,Q,be,X){var ie=E.call(this,N,Q,be),Z=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,_e=c.call(this);if(N=ie[0],Q=ie[1],_e[be.index]=be,X){X*=Math.PI/180;var Ue=Math.cos(X),M=Math.sin(X),q=function(Y){return Y.toFixed(4)},H=[q(Ue),q(M),q(-1*M),q(Ue),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,Z(I),he(C+Q),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([Z(N),"0","0",Z(Q),"0","0","cm"].join(" "))):this.internal.write([Z(N),"0","0",Z(Q),Z(I),he(C+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=n.__addimage__.sHashCode=function(I){var C,N,Q=0;if(typeof I=="string")for(N=I.length,C=0;C<N;C++)Q=(Q<<5)-Q+I.charCodeAt(C),Q|=0;else if(Ie(I))for(N=I.byteLength/2,C=0;C<N;C++)Q=(Q<<5)-Q+I[C],Q|=0;return Q},W=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var C=!0;return I.length===0&&(C=!1),I.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(C=!1),C},oe=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var C=I.indexOf(",");return C<0?null:I.substring(0,C).trim().endsWith("base64")?I.substring(C+1):null},ve=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(I){return ve()&&I instanceof ArrayBuffer};var Ie=n.__addimage__.isArrayBufferView=function(I){return ve()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},V=n.__addimage__.binaryStringToUint8Array=function(I){for(var C=I.length,N=new Uint8Array(C),Q=0;Q<C;Q++)N[Q]=I.charCodeAt(Q);return N},T=n.__addimage__.arrayBufferToBinaryString=function(I){for(var C="",N=Ie(I)?I:new Uint8Array(I),Q=0;Q<N.length;Q+=8192)C+=String.fromCharCode.apply(null,N.subarray(Q,Q+8192));return C};n.addImage=function(){var I,C,N,Q,be,X,ie,Z,he;if(typeof arguments[1]=="number"?(C=e,N=arguments[1],Q=arguments[2],be=arguments[3],X=arguments[4],ie=arguments[5],Z=arguments[6],he=arguments[7]):(C=arguments[1],N=arguments[2],Q=arguments[3],be=arguments[4],X=arguments[5],ie=arguments[6],Z=arguments[7],he=arguments[8]),Sn(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var _e=I;I=_e.imageData,C=_e.format||C||e,N=_e.x||N||0,Q=_e.y||Q||0,be=_e.w||_e.width||be,X=_e.h||_e.height||X,ie=_e.alias||ie,Z=_e.compression||Z,he=_e.rotation||_e.angle||he}var Ue=this.internal.getFilters();if(Z===void 0&&Ue.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(N)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=O.call(this,I,C,ie,Z);return S.call(this,N,Q,be,X,M,he),this};var O=function(I,C,N,Q){var be,X,ie;if(typeof I=="string"&&r(I)===e){I=unescape(I);var Z=U(I,!1);(Z!==""||(Z=n.loadFile(I,!0))!==void 0)&&(I=Z)}if(g(I)&&(I=v(I,C)),C=r(I,C),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ie=N)==null||ie.length===0)&&(N=function(he){return typeof he=="string"||Ie(he)?B(he):Ie(he.data)?B(he.data):null}(I)),(be=p.call(this,N))||(ve()&&(I instanceof Uint8Array||C==="RGBA"||(X=I,I=V(I))),be=this["process"+C.toUpperCase()](I,u.call(this),N,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in n.image_compression?he:x.NONE}(Q),X)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},U=n.__addimage__.convertBase64ToBinaryString=function(I,C){C=typeof C!="boolean"||C;var N,Q="";if(typeof I=="string"){var be;N=(be=oe(I))!==null&&be!==void 0?be:I;try{Q=im(N)}catch(X){if(C)throw W(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};n.getImageProperties=function(I){var C,N,Q="";if(g(I)&&(I=v(I)),typeof I=="string"&&r(I)===e&&((Q=U(I,!1))===""&&(Q=n.loadFile(I)||""),I=Q),N=r(I),!h(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(!ve()||I instanceof Uint8Array||(I=V(I)),!(C=this["process"+N.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=N,C}})(gt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};gt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,h=!1,g=0;g<u.length&&!h;g++)switch((r=u[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(S.objId),B=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(x(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(x(B))+") >>",S.content=s;var W=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+W,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(S.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var oe=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+oe+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ve=this.annotations._nameMap[r.options.name];r.options.pageNumber=ve.page,r.options.top=ve.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Ie=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Ie+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(t),y:u(r),w:c(t+i),h:u(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(t,a).length;o=Math.ceil(u*h)}else a=c,o=u;return this.text(t,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,a,o,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(gt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=n.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(S){var R=0,x=t,B="",W=0;for(R=0;R<S.length;R+=1)x[S.charCodeAt(R)]!==void 0?(W++,typeof(x=x[S.charCodeAt(R)])=="number"&&(B+=String.fromCharCode(x),x=t,W=0),R===S.length-1&&(x=t,B+=S.charAt(R-(W-1)),R-=W-1,W=0)):(x=t,B+=S.charAt(R-W),R-=W,W=0);return B};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(S,R,x){return o(S)?s(S)===!1?-1:!u(S)||!o(R)&&!o(x)||!o(x)&&a(R)||a(S)&&!o(R)||a(S)&&c(R)||a(S)&&a(R)?0:h(S)&&o(R)&&!a(R)&&o(x)&&u(x)?3:a(S)||!o(x)?1:2:-1},p=function(S){var R=0,x=0,B=0,W="",oe="",ve="",Ie=(S=S||"").split("\\s+"),V=[];for(R=0;R<Ie.length;R+=1){for(V.push(""),x=0;x<Ie[R].length;x+=1)W=Ie[R][x],oe=Ie[R][x-1],ve=Ie[R][x+1],o(W)?(B=v(W,oe,ve),V[R]+=B!==-1?String.fromCharCode(e[W.charCodeAt(0)][B]):W):V[R]+=W;V[R]=g(V[R])}return V.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var S,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(R)){var B=0;for(x=[],B=0;B<R.length;B+=1)Array.isArray(R[B])?x.push([p(R[B][0]),R[B][1],R[B][2]]):x.push([p(R[B])]);S=x}else S=p(R);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",E])}(gt.API),gt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(gt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(S){E=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,E=0,S=0,R=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(W,oe){return W.concat(R.splitTextToSize(oe,x))},[])):c=Array.isArray(c)?c:[c];for(var B=0;B<c.length;B++)p<(S=this.getStringUnitWidth(c[B],{font:g})*h)&&(p=S);return p!==0&&(E=c.length),{w:p/=v,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,p&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};n.table=function(c,u,h,g,v){if(r.call(this),!h)throw new Error("No data for PDF table.");var p,E,S,R,x=[],B=[],W=[],oe={},ve={},Ie=[],V=[],T=(v=v||{}).autoSize||!1,O=v.printHeaders!==!1,U=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,I=v.margins||Object.assign({width:this.getPageWidth()},e),C=typeof v.padding=="number"?v.padding:3,N=v.headerBackgroundColor||"#c8c8c8",Q=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=Q,this.setFontSize(U),g==null)B=x=Object.keys(h[0]),W=x.map(function(){return"left"});else if(Array.isArray(g)&&Sn(g[0])==="object")for(x=g.map(function(_e){return _e.name}),B=g.map(function(_e){return _e.prompt||_e.name||""}),W=g.map(function(_e){return _e.align||"left"}),p=0;p<g.length;p+=1)ve[g[p].name]=g[p].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(B=x=g,W=x.map(function(){return"left"}));if(T||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<x.length;p+=1){for(oe[R=x[p]]=h.map(function(_e){return _e[R]}),this.setFont(void 0,"bold"),Ie.push(this.getTextDimensions(B[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=oe[R],this.setFont(void 0,"normal"),S=0;S<E.length;S+=1)Ie.push(this.getTextDimensions(E[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ve[R]=Math.max.apply(null,Ie)+C+C,Ie=[]}if(O){var be={};for(p=0;p<x.length;p+=1)be[x[p]]={},be[x[p]].text=B[p],be[x[p]].align=W[p];var X=a.call(this,be,ve);V=x.map(function(_e){return new s(c,u,ve[_e],X,be[_e].text,void 0,be[_e].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ie=g.reduce(function(_e,Ue){return _e[Ue.name]=Ue.align,_e},{});for(p=0;p<h.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:h[p]},this);var Z=a.call(this,h[p],ve);for(S=0;S<x.length;S+=1){var he=h[p][x[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:S,data:he},this),o.call(this,new s(c,u,ve[x[S]],Z,he,p+2,ie[x[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var a=function(c,u){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(p){var E=c[p];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/v+h+h},this).reduce(function(p,E){return Math.max(p,E)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(E)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}}(gt.API);var J4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ZA=Z4(X4),eV=[100,200,300,400,500,600,700,800,900],Ote=Z4(eV);function JA(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return J4[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof ZA[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function M4(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Lte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},k4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function O4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Fte(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Lte,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=JA(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+O4(s)+"' and default family '"+r+"'.");if(o=function(c,u){if(u[c])return u[c];var h=ZA[c],g=h<=ZA.normal?-1:1,v=M4(u,X4,h,g);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(s.stretch,o),o=function(c,u){if(u[c])return u[c];for(var h=J4[c],g=0;g<h.length;++g)if(u[h[g]])return u[h[g]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var h=Ote[c],g=M4(u,eV,h,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+O4(s)+"'.");return o}function L4(n){return n.trimLeft()}function Vte(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function jte(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Aw,F4,V4,HA=["times"];(function(n){var e,t,r,i,s,o,a,c,u,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var g=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=M;Object.defineProperty(this,"pdf",{get:function(){return q}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Te){H=!!Te}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(Te){Y=!!Te}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Te){isNaN(Te)||(se=Te)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Te){isNaN(Te)||(le=Te)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Te){var K;typeof Te=="number"?K=[Te,Te,Te,Te]:((K=new Array(4))[0]=Te[0],K[1]=Te.length>=2?Te[1]:K[0],K[2]=Te.length>=3?Te[2]:K[0],K[3]=Te.length>=4?Te[3]:K[1]),u.margin=K}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Te){ye=Te}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Te){me=Te}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Te){je=Te}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Te){Te instanceof h&&(u=Te)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Te){u.path=Te}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Te){ke=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var K;K=v(Te),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var K=v(Te);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var He=null;function $e(Te,K){if(He===null){var St=function(it){var Be=[];return Object.keys(it).forEach(function(qe){it[qe].forEach(function(Ge){var We=null;switch(Ge){case"bold":We={family:qe,weight:"bold"};break;case"italic":We={family:qe,style:"italic"};break;case"bolditalic":We={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":We={family:qe}}We!==null&&(We.ref={name:qe,style:Ge},Be.push(We))})}),Be}(Te.getFontList());He=function(it){for(var Be={},qe=0;qe<it.length;++qe){var Ge=JA(it[qe]),We=Ge.family,ot=Ge.stretch,wt=Ge.style,Dt=Ge.weight;Be[We]=Be[We]||{},Be[We][ot]=Be[We][ot]||{},Be[We][ot][wt]=Be[We][ot][wt]||{},Be[We][ot][wt][Dt]=Ge}return Be}(St.concat(K))}return He}var ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(Te){He=null,ct=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var K;if(this.ctx.font=Te,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var St=K[1];K[2];var it=K[3],Be=K[4];K[5];var qe=K[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Ge==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var We=function(lt){var jt,Qe,Lr=[],Gt=lt.trim();if(Gt==="")return HA;if(Gt in k4)return[k4[Gt]];for(;Gt!=="";){switch(Qe=null,jt=(Gt=L4(Gt)).charAt(0)){case'"':case"'":Qe=Vte(Gt.substring(1),jt);break;default:Qe=jte(Gt)}if(Qe===null||(Lr.push(Qe[0]),(Gt=L4(Qe[1]))!==""&&Gt.charAt(0)!==","))return HA;Gt=Gt.replace(/^,/,"")}return Lr}(qe);if(this.fontFaces){var ot=Fte($e(this.pdf,this.fontFaces),We.map(function(lt){return{family:lt,stretch:"normal",weight:it,style:St}}));this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var wt="";(it==="bold"||parseInt(it,10)>=700||St==="bold")&&(wt="bold"),St==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Dt="",Ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<We.length;mt++){if(this.pdf.internal.getFont(We[mt],wt,{noFallback:!0,disableWarning:!0})!==void 0){Dt=We[mt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(We[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dt=We[mt],wt="bold";else if(this.pdf.internal.getFont(We[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dt=We[mt],wt="normal";break}}if(Dt===""){for(var Nt=0;Nt<We.length;Nt++)if(Ot[We[Nt]]){Dt=Ot[We[Nt]];break}}Dt=Dt===""?"Times":Dt,this.pdf.setFont(Dt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};g.prototype.setLineDash=function(M){this.lineDash=M},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){oe.call(this,"fill",!1)},g.prototype.stroke=function(){oe.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(M,q){if(isNaN(M)||isNaN(q))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(M,q));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(M,q)},g.prototype.closePath=function(){var M=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Sn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){M=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},g.prototype.lineTo=function(M,q){if(isNaN(M)||isNaN(q))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(M,q));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),oe.call(this,null,!0)},g.prototype.quadraticCurveTo=function(M,q,H,Y){if(isNaN(H)||isNaN(Y)||isNaN(M)||isNaN(q))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(H,Y)),le=this.ctx.transform.applyToPoint(new o(M,q));this.path.push({type:"qct",x1:le.x,y1:le.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},g.prototype.bezierCurveTo=function(M,q,H,Y,se,le){if(isNaN(se)||isNaN(le)||isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(se,le)),me=this.ctx.transform.applyToPoint(new o(M,q)),je=this.ctx.transform.applyToPoint(new o(H,Y));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:je.x,y2:je.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},g.prototype.arc=function(M,q,H,Y,se,le){if(isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y)||isNaN(se))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(M,q));M=ye.x,q=ye.y;var me=this.ctx.transform.applyToPoint(new o(0,H)),je=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(me.x-je.x,2)+Math.pow(me.y-je.y,2))}Math.abs(se-Y)>=2*Math.PI&&(Y=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:q,radius:H,startAngle:Y,endAngle:se,counterclockwise:le})},g.prototype.arcTo=function(M,q,H,Y,se){throw new Error("arcTo not implemented.")},g.prototype.rect=function(M,q,H,Y){if(isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,q),this.lineTo(M+H,q),this.lineTo(M+H,q+Y),this.lineTo(M,q+Y),this.lineTo(M,q),this.lineTo(M+H,q),this.lineTo(M,q)},g.prototype.fillRect=function(M,q,H,Y){if(isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,q,H,Y),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},g.prototype.strokeRect=function(M,q,H,Y){if(isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(M,q,H,Y),this.stroke())},g.prototype.clearRect=function(M,q,H,Y){if(isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,q,H,Y))},g.prototype.save=function(M){M=typeof M!="boolean"||M;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},g.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(q),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var q,H,Y,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))q=0,H=0,Y=0,se=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(le!==null)q=parseInt(le[1]),H=parseInt(le[2]),Y=parseInt(le[3]),se=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)q=parseInt(le[1]),H=parseInt(le[2]),Y=parseInt(le[3]),se=parseFloat(le[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var ye=new H4(M);M=ye.ok?ye.toHex():"#000000"}M.length===4?(q=M.substring(1,2),q+=q,H=M.substring(2,3),H+=H,Y=M.substring(3,4),Y+=Y):(q=M.substring(1,3),H=M.substring(3,5),Y=M.substring(5,7)),q=parseInt(q,16),H=parseInt(H,16),Y=parseInt(Y,16)}}return{r:q,g:H,b:Y,a:se,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(M,q,H,Y){if(isNaN(q)||isNaN(H)||typeof M!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var se=Z(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:M,x:q,y:H,scale:le,angle:se,align:this.textAlign,maxWidth:Y})}},g.prototype.strokeText=function(M,q,H,Y){if(isNaN(q)||isNaN(H)||typeof M!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Y=isNaN(Y)?void 0:Y;var se=Z(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:M,x:q,y:H,scale:le,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Y})}},g.prototype.measureText=function(M){if(typeof M!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,H=this.pdf.internal.scaleFactor,Y=q.internal.getFontSize(),se=q.getStringUnitWidth(M)*Y/q.internal.scaleFactor,le=function(ye){var me=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new le({width:se*=Math.round(96*H/72*1e4)/1e4})},g.prototype.scale=function(M,q){if(isNaN(M)||isNaN(q))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(M,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.rotate=function(M){if(isNaN(M))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(M,q){if(isNaN(M)||isNaN(q))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,M,q);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.transform=function(M,q,H,Y,se,le){if(isNaN(M)||isNaN(q)||isNaN(H)||isNaN(Y)||isNaN(se)||isNaN(le))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(M,q,H,Y,se,le);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(M,q,H,Y,se,le){M=isNaN(M)?1:M,q=isNaN(q)?0:q,H=isNaN(H)?0:H,Y=isNaN(Y)?1:Y,se=isNaN(se)?0:se,le=isNaN(le)?0:le,this.ctx.transform=new c(M,q,H,Y,se,le)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(M,q,H,Y,se,le,ye,me,je){var ke=this.pdf.getImageProperties(M),He=1,$e=1,ct=1,Te=1;Y!==void 0&&me!==void 0&&(ct=me/Y,Te=je/se,He=ke.width/Y*me/Y,$e=ke.height/se*je/se),le===void 0&&(le=q,ye=H,q=0,H=0),Y!==void 0&&me===void 0&&(me=Y,je=se),Y===void 0&&me===void 0&&(me=ke.width,je=ke.height);for(var K,St=this.ctx.transform.decompose(),it=Z(St.rotate.shx),Be=new c,qe=(Be=(Be=(Be=Be.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new a(le-q*ct,ye-H*Te,Y*He,se*$e)),Ge=R.call(this,qe),We=[],ot=0;ot<Ge.length;ot+=1)We.indexOf(Ge[ot])===-1&&We.push(Ge[ot]);if(W(We),this.autoPaging)for(var wt=We[0],Dt=We[We.length-1],Ot=wt;Ot<Dt+1;Ot++){this.pdf.setPage(Ot);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=Ot===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Ot===1?0:lt+(Ot-2)*jt;if(this.ctx.clip_path.length!==0){var Lr=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(K,this.posX+this.margin[3],-Qe+Nt+this.ctx.prevPageLastElemOffset),ve.call(this,"fill",!0),this.path=Lr}var Gt=JSON.parse(JSON.stringify(qe));Gt=B([Gt],this.posX+this.margin[3],-Qe+Nt+this.ctx.prevPageLastElemOffset)[0];var Ti=(Ot>wt||Ot<Dt)&&S.call(this);Ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,jt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,it),Ti&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,it)};var R=function(M,q,H){var Y=[];q=q||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Y.push(Math.floor((M.y+se)/H)+1);break;case"arc":Y.push(Math.floor((M.y+se-M.radius)/H)+1),Y.push(Math.floor((M.y+se+M.radius)/H)+1);break;case"qct":var le=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Y.push(Math.floor((le.y+se)/H)+1),Y.push(Math.floor((le.y+le.h+se)/H)+1);break;case"bct":var ye=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Y.push(Math.floor((ye.y+se)/H)+1),Y.push(Math.floor((ye.y+ye.h+se)/H)+1);break;case"rect":Y.push(Math.floor((M.y+se)/H)+1),Y.push(Math.floor((M.y+M.h+se)/H)+1)}for(var me=0;me<Y.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Y[me];)x.call(this);return Y},x=function(){var M=this.fillStyle,q=this.strokeStyle,H=this.font,Y=this.lineCap,se=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=q,this.font=H,this.lineCap=Y,this.lineWidth=se,this.lineJoin=le},B=function(M,q,H){for(var Y=0;Y<M.length;Y++)switch(M[Y].type){case"bct":M[Y].x2+=q,M[Y].y2+=H;case"qct":M[Y].x1+=q,M[Y].y1+=H;case"mt":case"lt":case"arc":default:M[Y].x+=q,M[Y].y+=H}return M},W=function(M){return M.sort(function(q,H){return q-H})},oe=function(M,q){for(var H,Y,se=this.fillStyle,le=this.strokeStyle,ye=this.lineCap,me=this.lineWidth,je=Math.abs(me*this.ctx.transform.scaleX),ke=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),ct=[],Te=0;Te<$e.length;Te++)if($e[Te].x!==void 0)for(var K=R.call(this,$e[Te]),St=0;St<K.length;St+=1)ct.indexOf(K[St])===-1&&ct.push(K[St]);for(var it=0;it<ct.length;it++)for(;this.pdf.internal.getNumberOfPages()<ct[it];)x.call(this);if(W(ct),this.autoPaging)for(var Be=ct[0],qe=ct[ct.length-1],Ge=Be;Ge<qe+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=se,this.strokeStyle=le,this.lineCap=ye,this.lineWidth=je,this.lineJoin=ke;var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Ge===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=Ge===1?0:wt+(Ge-2)*Dt;if(this.ctx.clip_path.length!==0){var mt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(H,this.posX+this.margin[3],-Ot+ot+this.ctx.prevPageLastElemOffset),ve.call(this,M,!0),this.path=mt}if(Y=JSON.parse(JSON.stringify(He)),this.path=B(Y,this.posX+this.margin[3],-Ot+ot+this.ctx.prevPageLastElemOffset),q===!1||Ge===0){var Nt=(Ge>Be||Ge<qe)&&S.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Dt,null).clip().discardPath()),ve.call(this,M,q),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=je,ve.call(this,M,q),this.lineWidth=me;this.path=He},ve=function(M,q){if((M!=="stroke"||q||!E.call(this))&&(M==="stroke"||q||!p.call(this))){for(var H,Y,se=[],le=this.path,ye=0;ye<le.length;ye++){var me=le[ye];switch(me.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:me,deltas:[],abs:[]});break;case"lt":var je=se.length;if(le[ye-1]&&!isNaN(le[ye-1].x)&&(H=[me.x-le[ye-1].x,me.y-le[ye-1].y],je>0)){for(;je>=0;je--)if(se[je-1].close!==!0&&se[je-1].begin!==!0){se[je-1].deltas.push(H),se[je-1].abs.push(me);break}}break;case"bct":H=[me.x1-le[ye-1].x,me.y1-le[ye-1].y,me.x2-le[ye-1].x,me.y2-le[ye-1].y,me.x-le[ye-1].x,me.y-le[ye-1].y],se[se.length-1].deltas.push(H);break;case"qct":var ke=le[ye-1].x+2/3*(me.x1-le[ye-1].x),He=le[ye-1].y+2/3*(me.y1-le[ye-1].y),$e=me.x+2/3*(me.x1-me.x),ct=me.y+2/3*(me.y1-me.y),Te=me.x,K=me.y;H=[ke-le[ye-1].x,He-le[ye-1].y,$e-le[ye-1].x,ct-le[ye-1].y,Te-le[ye-1].x,K-le[ye-1].y],se[se.length-1].deltas.push(H);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(me)}}Y=q?null:M==="stroke"?"stroke":"fill";for(var St=!1,it=0;it<se.length;it++)if(se[it].arc)for(var Be=se[it].abs,qe=0;qe<Be.length;qe++){var Ge=Be[qe];Ge.type==="arc"?T.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,q,!St):N.call(this,Ge.x,Ge.y),St=!0}else if(se[it].close===!0)this.pdf.internal.out("h"),St=!1;else if(se[it].begin!==!0){var We=se[it].start.x,ot=se[it].start.y;Q.call(this,se[it].deltas,We,ot),St=!0}Y&&O.call(this,Y),q&&U.call(this)}},Ie=function(M){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-H;case"top":return M+q-H;case"hanging":return M+q-2*H;case"middle":return M+q/2-H;case"ideographic":return M;case"alphabetic":default:return M}},V=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(q,H){this.colorStops.push([q,H])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(M,q,H,Y,se,le,ye,me,je){for(var ke=X.call(this,H,Y,se,le),He=0;He<ke.length;He++){var $e=ke[He];He===0&&(je?I.call(this,$e.x1+M,$e.y1+q):N.call(this,$e.x1+M,$e.y1+q)),be.call(this,M,q,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}me?U.call(this):O.call(this,ye)},O=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(M,q){this.pdf.internal.out(t(M)+" "+r(q)+" m")},C=function(M){var q;switch(M.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var H=this.pdf.getTextDimensions(M.text),Y=Ie.call(this,M.y),se=V.call(this,Y)-H.h,le=this.ctx.transform.applyToPoint(new o(M.x,Y)),ye=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var je,ke,He,$e=this.ctx.transform.applyToRectangle(new a(M.x,Y,H.w,H.h)),ct=me.applyToRectangle(new a(M.x,se,H.w,H.h)),Te=R.call(this,ct),K=[],St=0;St<Te.length;St+=1)K.indexOf(Te[St])===-1&&K.push(Te[St]);if(W(K),this.autoPaging)for(var it=K[0],Be=K[K.length-1],qe=it;qe<Be+1;qe++){this.pdf.setPage(qe);var Ge=qe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],wt=ot-this.margin[0],Dt=this.pdf.internal.pageSize.width-this.margin[1],Ot=Dt-this.margin[3],mt=qe===1?0:We+(qe-2)*wt;if(this.ctx.clip_path.length!==0){var Nt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(je,this.posX+this.margin[3],-1*mt+Ge),ve.call(this,"fill",!0),this.path=Nt}var lt=B([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-mt+Ge+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*M.scale),He=this.lineWidth,this.lineWidth=He*M.scale);var jt=this.autoPaging!=="text";if(jt||lt.y+lt.h<=ot){if(jt||lt.y>=Ge&&lt.x<=Dt){var Qe=jt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Dt-lt.x)[0],Lr=B([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-mt+Ge+this.ctx.prevPageLastElemOffset)[0],Gt=jt&&(qe>it||qe<Be)&&S.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,wt,null).clip().discardPath()),this.pdf.text(Qe,Lr.x,Lr.y,{angle:M.angle,align:q,renderingMode:M.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else lt.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-lt.y);M.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=He)}else M.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*M.scale),He=this.lineWidth,this.lineWidth=He*M.scale),this.pdf.text(M.text,le.x+this.posX,le.y+this.posY,{angle:M.angle,align:q,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=He)},N=function(M,q,H,Y){H=H||0,Y=Y||0,this.pdf.internal.out(t(M+H)+" "+r(q+Y)+" l")},Q=function(M,q,H){return this.pdf.lines(M,q,H,null,null)},be=function(M,q,H,Y,se,le,ye,me){this.pdf.internal.out([e(i(H+M)),e(s(Y+q)),e(i(se+M)),e(s(le+q)),e(i(ye+M)),e(s(me+q)),"c"].join(" "))},X=function(M,q,H,Y){for(var se=2*Math.PI,le=Math.PI/2;q>H;)q-=se;var ye=Math.abs(H-q);ye<se&&Y&&(ye=se-ye);for(var me=[],je=Y?-1:1,ke=q;ye>1e-5;){var He=ke+je*Math.min(ye,le);me.push(ie.call(this,M,ke,He)),ye-=Math.abs(He-ke),ke=He}return me},ie=function(M,q,H){var Y=(H-q)/2,se=M*Math.cos(Y),le=M*Math.sin(Y),ye=se,me=-le,je=ye*ye+me*me,ke=je+ye*se+me*le,He=4/3*(Math.sqrt(2*je*ke)-ke)/(ye*le-me*se),$e=ye-He*me,ct=me+He*ye,Te=$e,K=-ct,St=Y+q,it=Math.cos(St),Be=Math.sin(St);return{x1:M*Math.cos(q),y1:M*Math.sin(q),x2:$e*it-ct*Be,y2:$e*Be+ct*it,x3:Te*it-K*Be,y3:Te*Be+K*it,x4:M*Math.cos(H),y4:M*Math.sin(H)}},Z=function(M){return 180*M/Math.PI},he=function(M,q,H,Y,se,le){var ye=M+.5*(H-M),me=q+.5*(Y-q),je=se+.5*(H-se),ke=le+.5*(Y-le),He=Math.min(M,se,ye,je),$e=Math.max(M,se,ye,je),ct=Math.min(q,le,me,ke),Te=Math.max(q,le,me,ke);return new a(He,ct,$e-He,Te-ct)},_e=function(M,q,H,Y,se,le,ye,me){var je,ke,He,$e,ct,Te,K,St,it,Be,qe,Ge,We,ot,wt=H-M,Dt=Y-q,Ot=se-H,mt=le-Y,Nt=ye-se,lt=me-le;for(ke=0;ke<41;ke++)it=(K=(He=M+(je=ke/40)*wt)+je*((ct=H+je*Ot)-He))+je*(ct+je*(se+je*Nt-ct)-K),Be=(St=($e=q+je*Dt)+je*((Te=Y+je*mt)-$e))+je*(Te+je*(le+je*lt-Te)-St),ke==0?(qe=it,Ge=Be,We=it,ot=Be):(qe=Math.min(qe,it),Ge=Math.min(Ge,Be),We=Math.max(We,it),ot=Math.max(ot,Be));return new a(Math.round(qe),Math.round(Ge),Math.round(We-qe),Math.round(ot-Ge))},Ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,q,H=(M=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:q}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(gt.API),function(n){var e=function(s){var o,a,c,u,h,g,v,p,E,S;for(/[^\x00-\xFF]/.test(s),a=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(g=(h=((h=((h=((h=(h-(S=h%85))/85)-(E=h%85))/85)-(p=h%85))/85)-(v=h%85))/85)%85,a.push(g+33,v+33,p+33,E+33,S+33)):a.push(122);return function(R,x){for(var B=x;B>0;B--)R.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,c,u,h,g=String,v="length",p=255,E="charCodeAt",S="slice",R="replace";for(s[S](-2),s=s[S](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),c=[],u=0,h=(s+=o="uuuuu"[S](s[v]%5||5))[v];h>u;u+=5)a=52200625*(s[E](u)-33)+614125*(s[E](u+1)-33)+7225*(s[E](u+2)-33)+85*(s[E](u+3)-33)+(s[E](u+4)-33),c.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(x,B){for(var W=B;W>0;W--)x.pop()}(c,o[v]),g.fromCharCode.apply(g,c)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",c=0;c<s.length;c+=2)a+=String.fromCharCode("0x"+(s[c]+s[c+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Sw(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,o){var a=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(gt.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,u,h){var g=new XMLHttpRequest,v=0,p=function(E){var S=E.length,R=[],x=String.fromCharCode;for(v=0;v<S;v+=1)R.push(x(255&E.charCodeAt(v)));return R.join("")};if(g.open("GET",c,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?h(p(this.responseText)):h(void 0)}),g.send(null),u&&g.status===200)return p(g.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(gt.API),function(n){function e(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):import("./chunk-SWBZ2T66.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):import("./chunk-X4CKOTYT.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Sn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var c=document.createElement(o);for(var u in a.className&&(c.className=a.className),a.innerHTML&&a.dompurify&&(c.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)c.style[u]=a.style[u];return c},s=function o(a){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function c(u,h){for(var g=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),v=u.firstChild;v;v=v.nextSibling)h!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||g.appendChild(c(v,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(g.width=u.width,g.height=u.height,g.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(g.value=u.value),g.addEventListener("load",function(){g.scrollTop=u.scrollTop,g.scrollLeft=u.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,a(this.prop.container,c)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var v=0;v<u.length;++v){var p=u[v],E=p.src.find(function(S){return S.format==="truetype"});E&&c.addFont(E.url,p.ref.name,p.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),a(this.prop.container,g)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,c,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,c,u){return this.setProgress(o?this.progress.val+o:null,a||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var c=this;return this.thenCore(o,a,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,h).then(function(g){return c.updateProgress(1),g})})},s.prototype.thenCore=function(o,a,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=c.call(u,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(c){a=a.thenCore(c)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,gt.getPageSize=function(o,a,c){if(Sn(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,c=u.format||c}a=a||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,g=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var p,E=0,S=0;if(v.hasOwnProperty(g))E=v[g][1]/h,S=v[g][0]/h;else try{E=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",S>E&&(p=S,S=E,E=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>S&&(p=S,S=E,E=p)}return{width:S,height:E,unit:a,k:h,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(JA):null;var c=new s(a);return a.worker?c:c.from(o).doCallback()}}(gt.API),gt.API.addJS=function(n){return V4=n,this.internal.events.subscribe("postPutResources",function(){Aw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Aw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),F4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+V4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Aw!==void 0&&F4!==void 0&&this.internal.out("/Names <</JavaScript "+Aw+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var c=a[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var g=t.internal.newObject();h.push(g);var v=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(gt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var c,u=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var v,p=256*g.charCodeAt(4)+g.charCodeAt(5),E=g.length,S={width:0,height:0,numcomponents:1},R=4;R<E;R+=2){if(R+=p,e.indexOf(g.charCodeAt(R+1))!==-1){v=256*g.charCodeAt(R+5)+g.charCodeAt(R+6),S={width:256*g.charCodeAt(R+7)+g.charCodeAt(R+8),height:v,numcomponents:g.charCodeAt(R+9)};break}p=256*g.charCodeAt(R+2)+g.charCodeAt(R+3)}return S}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(gt.API);var Df,Dw,j4,B4,U4,Bte=function(){var n,e,t;function r(s){var o,a,c,u,h,g,v,p,E,S,R,x,B,W;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),E=function(){var oe,ve;for(ve=[],oe=0;oe<4;++oe)ve.push(String.fromCharCode(this.data[this.pos++]));return ve}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,g.delay=1e3*h/u,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=g?.data||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(B=0;0<=S?B<S:B>S;0<=S?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(R=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,R.slice(0,v)),this.text[p]=String.fromCharCode.apply(String,R.slice(v+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(W=this.colorType)===4||W===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(g,v,p,E){var S,R,x,B,W,oe,ve,Ie,V,T,O,U,I,C,N,Q,be,X,ie,Z,he,_e=Math.ceil((u.width-g)/p),Ue=Math.ceil((u.height-v)/E),M=u.width==_e&&u.height==Ue;for(C=o*_e,U=M?a:new Uint8Array(C*Ue),oe=s.length,I=0,R=0;I<Ue&&c<oe;){switch(s[c++]){case 0:for(B=be=0;be<C;B=be+=1)U[R++]=s[c++];break;case 1:for(B=X=0;X<C;B=X+=1)S=s[c++],W=B<o?0:U[R-o],U[R++]=(S+W)%256;break;case 2:for(B=ie=0;ie<C;B=ie+=1)S=s[c++],x=(B-B%o)/o,N=I&&U[(I-1)*C+x*o+B%o],U[R++]=(N+S)%256;break;case 3:for(B=Z=0;Z<C;B=Z+=1)S=s[c++],x=(B-B%o)/o,W=B<o?0:U[R-o],N=I&&U[(I-1)*C+x*o+B%o],U[R++]=(S+Math.floor((W+N)/2))%256;break;case 4:for(B=he=0;he<C;B=he+=1)S=s[c++],x=(B-B%o)/o,W=B<o?0:U[R-o],I===0?N=Q=0:(N=U[(I-1)*C+x*o+B%o],Q=x&&U[(I-1)*C+(x-1)*o+B%o]),ve=W+N-Q,Ie=Math.abs(ve-W),T=Math.abs(ve-N),O=Math.abs(ve-Q),V=Ie<=T&&Ie<=O?W:T<=O?N:Q,U[R++]=(S+V)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!M){var q=((v+I*E)*u.width+g)*o,H=I*C;for(B=0;B<_e;B+=1){for(var Y=0;Y<o;Y+=1)a[q++]=U[H++];q+=(p-1)*o}}I++}}return s=A4(s),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,c,u,h,g,v,p;for(a=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+a.length),c=0,s=0,o=g=0,v=a.length;g<v;o=g+=3)u[c++]=a[o],u[c++]=a[o+1],u[c++]=a[o+2],u[c++]=(p=h[s++])!=null?p:255;return u},r.prototype.copyToImageData=function(s,o){var a,c,u,h,g,v,p,E,S,R,x;if(c=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,a=!0),E=(u=s.data||s).length,g=S||o,h=v=0,c===1)for(;h<E;)p=S?4*o[h/4]:v,R=g[p++],u[h++]=R,u[h++]=R,u[h++]=R,u[h++]=a?g[p++]:255,v=p;else for(;h<E;)p=S?4*o[h/4]:v,u[h++]=g[p++],u[h++]=g[p++],u[h++]=g[p++],u[h++]=a?g[p++]:255,v=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(_t)==="[object Window]"){try{e=_t.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,c,u,h,g,v,p;if(this.animation){for(p=[],a=h=0,g=(v=this.animation.frames).length;h<g;a=++h)o=v[a],c=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=n(c));return p}},r.prototype.renderFrame=function(s,o){var a,c,u;return a=(c=this.animation.frames)[o],u=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),u?.disposeOp===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,c,u,h,g,v=this;return a=0,g=this.animation,u=g.numFrames,c=g.frames,h=g.numPlays,(o=function(){var p,E;if(p=a++%u,E=c[p],v.renderFrame(s,p),u>1&&a/u<h)return v.animation._timeout=setTimeout(o,E.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function Ute(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var u=!0,h=[],g=0,v=null,p=0,E=null;for(this.width=t,this.height=r;u&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,E=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];g=n[e++]|n[e++]<<8,v=n[e++],(1&S)==0&&(v=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var R=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,oe=n[e++],ve=oe>>6&1,Ie=1<<(7&oe)+1,V=a,T=c,O=!1;oe>>7&&(O=!0,V=e,T=Ie,e+=3*Ie);var U=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}h.push({x:R,y:x,width:B,height:W,has_local_palette:O,palette_offset:V,palette_size:T,data_offset:U,data_length:e-U,transparent_index:v,interlaced:!!ve,delay:g,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(C){if(C<0||C>=h.length)throw new Error("Frame index out of range.");return h[C]},this.decodeAndBlitFrameBGRA=function(C,N){var Q=this.frameInfo(C),be=Q.width*Q.height,X=new Uint8Array(be);q4(n,Q.data_offset,X,be);var ie=Q.palette_offset,Z=Q.transparent_index;Z===null&&(Z=256);var he=Q.width,_e=t-he,Ue=he,M=4*(Q.y*t+Q.x),q=4*((Q.y+Q.height)*t+Q.x),H=M,Y=4*_e;Q.interlaced===!0&&(Y+=4*t*7);for(var se=8,le=0,ye=X.length;le<ye;++le){var me=X[le];if(Ue===0&&(Ue=he,(H+=Y)>=q&&(Y=4*_e+4*t*(se-1),H=M+(he+_e)*(se<<1),se>>=1)),me===Z)H+=4;else{var je=n[ie+3*me],ke=n[ie+3*me+1],He=n[ie+3*me+2];N[H++]=He,N[H++]=ke,N[H++]=je,N[H++]=255}--Ue}},this.decodeAndBlitFrameRGBA=function(C,N){var Q=this.frameInfo(C),be=Q.width*Q.height,X=new Uint8Array(be);q4(n,Q.data_offset,X,be);var ie=Q.palette_offset,Z=Q.transparent_index;Z===null&&(Z=256);var he=Q.width,_e=t-he,Ue=he,M=4*(Q.y*t+Q.x),q=4*((Q.y+Q.height)*t+Q.x),H=M,Y=4*_e;Q.interlaced===!0&&(Y+=4*t*7);for(var se=8,le=0,ye=X.length;le<ye;++le){var me=X[le];if(Ue===0&&(Ue=he,(H+=Y)>=q&&(Y=4*_e+4*t*(se-1),H=M+(he+_e)*(se<<1),se>>=1)),me===Z)H+=4;else{var je=n[ie+3*me],ke=n[ie+3*me+1],He=n[ie+3*me+2];N[H++]=je,N[H++]=ke,N[H++]=He,N[H++]=255}--Ue}}}function q4(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,c=i+1,u=(1<<c)-1,h=0,g=0,v=0,p=n[e++],E=new Int32Array(4096),S=null;;){for(;h<16&&p!==0;)g|=n[e++]<<h,h+=8,p===1?p=n[e++]:--p;if(h<c)break;var R=g&u;if(g>>=c,h-=c,R!==s){if(R===o)break;for(var x=R<a?R:S,B=0,W=x;W>s;)W=E[W]>>8,++B;var oe=W;if(v+B+(x!==R?1:0)>r)return void Pn.log("Warning, gif stream longer than expected.");t[v++]=oe;var ve=v+=B;for(x!==R&&(t[v++]=oe),W=x;B--;)W=E[W],t[--ve]=255&W,W>>=8;S!==null&&a<4096&&(E[a++]=S<<8|oe,a>=u+1&&c<12&&(++c,u=u<<1|1)),S=R}else a=o+1,u=(1<<(c=i+1))-1,S=null}return v!==r&&Pn.log("Warning, gif stream shorter than expected."),t}function WA(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),g=new Array(65535),v=new Array(65535),p=new Array(64),E=new Array(64),S=[],R=0,x=7,B=new Array(64),W=new Array(64),oe=new Array(64),ve=new Array(256),Ie=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(M,q){for(var H=0,Y=0,se=new Array,le=1;le<=16;le++){for(var ye=1;ye<=M[le];ye++)se[q[Y]]=[],se[q[Y]][0]=H,se[q[Y]][1]=le,Y++,H++;H*=2}return se}function ie(M){for(var q=M[0],H=M[1]-1;H>=0;)q&1<<H&&(R|=1<<x),H--,--x<0&&(R==255?(Z(255),Z(0)):Z(R),x=7,R=0)}function Z(M){S.push(M)}function he(M){Z(M>>8&255),Z(255&M)}function _e(M,q,H,Y,se){for(var le,ye=se[0],me=se[240],je=function(Be,qe){var Ge,We,ot,wt,Dt,Ot,mt,Nt,lt,jt,Qe=0;for(lt=0;lt<8;++lt){Ge=Be[Qe],We=Be[Qe+1],ot=Be[Qe+2],wt=Be[Qe+3],Dt=Be[Qe+4],Ot=Be[Qe+5],mt=Be[Qe+6];var Lr=Ge+(Nt=Be[Qe+7]),Gt=Ge-Nt,Ti=We+mt,fn=We-mt,bn=ot+Ot,Is=ot-Ot,cn=wt+Dt,eo=wt-Dt,jn=Lr+cn,Ci=Lr-cn,hi=Ti+bn,Mn=Ti-bn;Be[Qe]=jn+hi,Be[Qe+4]=jn-hi;var bt=.707106781*(Mn+Ci);Be[Qe+2]=Ci+bt,Be[Qe+6]=Ci-bt;var Kt=.382683433*((jn=eo+Is)-(Mn=fn+Gt)),zo=.5411961*jn+Kt,Wn=1.306562965*Mn+Kt,Ki=.707106781*(hi=Is+fn),Jr=Gt+Ki,ut=Gt-Ki;Be[Qe+5]=ut+zo,Be[Qe+3]=ut-zo,Be[Qe+1]=Jr+Wn,Be[Qe+7]=Jr-Wn,Qe+=8}for(Qe=0,lt=0;lt<8;++lt){Ge=Be[Qe],We=Be[Qe+8],ot=Be[Qe+16],wt=Be[Qe+24],Dt=Be[Qe+32],Ot=Be[Qe+40],mt=Be[Qe+48];var Cn=Ge+(Nt=Be[Qe+56]),Qi=Ge-Nt,mr=We+mt,Bn=We-mt,Gn=ot+Ot,fi=ot-Ot,Yi=wt+Dt,to=wt-Dt,Zi=Cn+Yi,Xr=Cn-Yi,Ai=mr+Gn,Di=mr-Gn;Be[Qe]=Zi+Ai,Be[Qe+32]=Zi-Ai;var zr=.707106781*(Di+Xr);Be[Qe+16]=Xr+zr,Be[Qe+48]=Xr-zr;var Nr=.382683433*((Zi=to+fi)-(Di=Bn+Qi)),Ho=.5411961*Zi+Nr,Pa=1.306562965*Di+Nr,Wo=.707106781*(Ai=fi+Bn),Go=Qi+Wo,Ma=Qi-Wo;Be[Qe+40]=Ma+Ho,Be[Qe+24]=Ma-Ho,Be[Qe+8]=Go+Pa,Be[Qe+56]=Go-Pa,Qe++}for(lt=0;lt<64;++lt)jt=Be[lt]*qe[lt],p[lt]=jt>0?jt+.5|0:jt-.5|0;return p}(M,q),ke=0;ke<64;++ke)E[V[ke]]=je[ke];var He=E[0]-H;H=E[0],He==0?ie(Y[0]):(ie(Y[v[le=32767+He]]),ie(g[le]));for(var $e=63;$e>0&&E[$e]==0;)$e--;if($e==0)return ie(ye),H;for(var ct,Te=1;Te<=$e;){for(var K=Te;E[Te]==0&&Te<=$e;)++Te;var St=Te-K;if(St>=16){ct=St>>4;for(var it=1;it<=ct;++it)ie(me);St&=15}le=32767+E[Te],ie(se[(St<<4)+v[le]]),ie(g[le]),Te++}return $e!=63&&ie(ye),H}function Ue(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(q){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var se=o((H[Y]*q+50)/100);se=Math.min(Math.max(se,1),255),a[V[Y]]=se}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var me=o((le[ye]*q+50)/100);me=Math.min(Math.max(me,1),255),c[V[ye]]=me}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,He=0;He<8;He++)for(var $e=0;$e<8;$e++)u[ke]=1/(a[V[ke]]*je[He]*je[$e]*8),h[ke]=1/(c[V[ke]]*je[He]*je[$e]*8),ke++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,q){q&&Ue(q),S=new Array,R=0,x=7,he(65496),he(65504),he(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),he(1),he(1),Z(0),Z(0),function(){he(65499),he(132),Z(0);for(var We=0;We<64;We++)Z(a[We]);Z(1);for(var ot=0;ot<64;ot++)Z(c[ot])}(),function(We,ot){he(65472),he(17),Z(8),he(ot),he(We),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(M.width,M.height),function(){he(65476),he(418),Z(0);for(var We=0;We<16;We++)Z(T[We+1]);for(var ot=0;ot<=11;ot++)Z(O[ot]);Z(16);for(var wt=0;wt<16;wt++)Z(U[wt+1]);for(var Dt=0;Dt<=161;Dt++)Z(I[Dt]);Z(1);for(var Ot=0;Ot<16;Ot++)Z(C[Ot+1]);for(var mt=0;mt<=11;mt++)Z(N[mt]);Z(17);for(var Nt=0;Nt<16;Nt++)Z(Q[Nt+1]);for(var lt=0;lt<=161;lt++)Z(be[lt])}(),he(65498),he(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var H=0,Y=0,se=0;R=0,x=7,this.encode.displayName="_encode_";for(var le,ye,me,je,ke,He,$e,ct,Te,K=M.data,St=M.width,it=M.height,Be=4*St,qe=0;qe<it;){for(le=0;le<Be;){for(ke=Be*qe+le,$e=-1,ct=0,Te=0;Te<64;Te++)He=ke+(ct=Te>>3)*Be+($e=4*(7&Te)),qe+ct>=it&&(He-=Be*(qe+1+ct-it)),le+$e>=Be&&(He-=le+$e-Be+4),ye=K[He++],me=K[He++],je=K[He++],B[Te]=(Ie[ye]+Ie[me+256>>0]+Ie[je+512>>0]>>16)-128,W[Te]=(Ie[ye+768>>0]+Ie[me+1024>>0]+Ie[je+1280>>0]>>16)-128,oe[Te]=(Ie[ye+1280>>0]+Ie[me+1536>>0]+Ie[je+1792>>0]>>16)-128;H=_e(B,u,H,e,r),Y=_e(W,h,Y,t,i),se=_e(oe,h,se,t,i),le+=32}qe+=8}if(x>=0){var Ge=[];Ge[1]=x+1,Ge[0]=(1<<x+1)-1,ie(Ge)}return he(65497),new Uint8Array(S)},n=n||50,function(){for(var M=String.fromCharCode,q=0;q<256;q++)ve[q]=M(q)}(),e=X(T,O),t=X(C,N),r=X(U,I),i=X(Q,be),function(){for(var M=1,q=2,H=1;H<=15;H++){for(var Y=M;Y<q;Y++)v[32767+Y]=H,g[32767+Y]=[],g[32767+Y][1]=H,g[32767+Y][0]=Y;for(var se=-(q-1);se<=-M;se++)v[32767+se]=H,g[32767+se]=[],g[32767+se][1]=H,g[32767+se][0]=q-1+se;M<<=1,q<<=1}}(),function(){for(var M=0;M<256;M++)Ie[M]=19595*M,Ie[M+256>>0]=38470*M,Ie[M+512>>0]=7471*M+32768,Ie[M+768>>0]=-11059*M,Ie[M+1024>>0]=-21709*M,Ie[M+1280>>0]=32768*M+8421375,Ie[M+1536>>0]=-27439*M,Ie[M+1792>>0]=-5329*M}(),Ue(n)}function Uo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $4(n){function e(T){if(!T)throw Error("assert :P")}function t(T,O,U){for(var I=0;4>I;I++)if(T[O+I]!=U.charCodeAt(I))return!0;return!1}function r(T,O,U,I,C){for(var N=0;N<C;N++)T[O+N]=U[I+N]}function i(T,O,U,I){for(var C=0;C<I;C++)T[O+C]=U}function s(T){return new Int32Array(T)}function o(T,O){for(var U=[],I=0;I<T;I++)U.push(new O);return U}function a(T,O){var U=[];return function I(C,N,Q){for(var be=Q[N],X=0;X<be&&(C.push(Q.length>N+1?[]:new O),!(Q.length<N+1));X++)I(C[X],N+1,Q)}(U,0,T),U}var c=function(){var T=this;function O(l,f){for(var y=1<<f-1>>>0;l&y;)y>>>=1;return y?(l&y-1)+y:l}function U(l,f,y,w,D){e(!(w%y));do l[f+(w-=y)]=D;while(0<w)}function I(l,f,y,w,D){if(e(2328>=D),512>=D)var P=s(512);else if((P=s(D))==null)return 0;return function(k,F,j,$,ee,pe){var ge,ce,Ne=F,Se=1<<j,te=s(16),re=s(16);for(e(ee!=0),e($!=null),e(k!=null),e(0<j),ce=0;ce<ee;++ce){if(15<$[ce])return 0;++te[$[ce]]}if(te[0]==ee)return 0;for(re[1]=0,ge=1;15>ge;++ge){if(te[ge]>1<<ge)return 0;re[ge+1]=re[ge]+te[ge]}for(ce=0;ce<ee;++ce)ge=$[ce],0<$[ce]&&(pe[re[ge]++]=ce);if(re[15]==1)return($=new C).g=0,$.value=pe[0],U(k,Ne,1,Se,$),Se;var Ae,Pe=-1,De=Se-1,Xe=0,ze=1,dt=1,Ke=1<<j;for(ce=0,ge=1,ee=2;ge<=j;++ge,ee<<=1){if(ze+=dt<<=1,0>(dt-=te[ge]))return 0;for(;0<te[ge];--te[ge])($=new C).g=ge,$.value=pe[ce++],U(k,Ne+Xe,ee,Ke,$),Xe=O(Xe,ge)}for(ge=j+1,ee=2;15>=ge;++ge,ee<<=1){if(ze+=dt<<=1,0>(dt-=te[ge]))return 0;for(;0<te[ge];--te[ge]){if($=new C,(Xe&De)!=Pe){for(Ne+=Ke,Ae=1<<(Pe=ge)-j;15>Pe&&!(0>=(Ae-=te[Pe]));)++Pe,Ae<<=1;Se+=Ke=1<<(Ae=Pe-j),k[F+(Pe=Xe&De)].g=Ae+j,k[F+Pe].value=Ne-F-Pe}$.g=ge-j,$.value=pe[ce++],U(k,Ne+(Xe>>j),ee,Ke,$),Xe=O(Xe,ge)}}return ze!=2*re[15]-1?0:Se}(l,f,y,w,D,P)}function C(){this.value=this.g=0}function N(){this.value=this.g=0}function Q(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Wr,N)}function be(l,f,y,w){e(l!=null),e(f!=null),e(2147483648>w),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=f,l.pa=y,l.Jd=f,l.Yc=y+w,l.Zc=4<=w?y+w-4+1:y,le(l)}function X(l,f){for(var y=0;0<f--;)y|=me(l,128)<<f;return y}function ie(l,f){var y=X(l,f);return ye(l)?-y:y}function Z(l,f,y,w){var D,P=0;for(e(l!=null),e(f!=null),e(4294967288>w),l.Sb=w,l.Ra=0,l.u=0,l.h=0,4<w&&(w=4),D=0;D<w;++D)P+=f[y+D]<<8*D;l.Ra=P,l.bb=w,l.oa=f,l.pa=y}function he(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<Rd-8>>>0,++l.bb,l.u-=8;H(l)&&(l.h=1,l.u=0)}function _e(l,f){if(e(0<=f),!l.h&&f<=xd){var y=q(l)&Nd[f];return l.u+=f,he(l),y}return l.h=1,l.u=0}function Ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(l){return l.Ra>>>(l.u&Rd-1)>>>0}function H(l){return e(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>Rd}function Y(l,f){l.u=f,l.h=H(l)}function se(l){l.u>=qf&&(e(l.u>=qf),he(l))}function le(l){e(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(e(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function ye(l){return X(l,1)}function me(l,f){var y=l.Ca;0>l.b&&le(l);var w=l.b,D=y*f>>>8,P=(l.I>>>w>D)+0;for(P?(y-=D,l.I-=D+1<<w>>>0):y=D+1,w=y,D=0;256<=w;)D+=8,w>>=8;return w=7^D+Pi[w],l.b-=w,l.Ca=(y<<w)-1,P}function je(l,f,y){l[f+0]=y>>24&255,l[f+1]=y>>16&255,l[f+2]=y>>8&255,l[f+3]=y>>0&255}function ke(l,f){return l[f+0]<<0|l[f+1]<<8}function He(l,f){return ke(l,f)|l[f+2]<<16}function $e(l,f){return ke(l,f)|ke(l,f+2)<<16}function ct(l,f){var y=1<<f;return e(l!=null),e(0<f),l.X=s(y),l.X==null?0:(l.Mb=32-f,l.Xa=f,1)}function Te(l,f){e(l!=null),e(f!=null),e(l.Xa==f.Xa),r(f.X,0,l.X,0,1<<f.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function St(l,f,y,w){e(y!=null),e(w!=null);var D=y[0],P=w[0];return D==0&&(D=(l*P+f/2)/f),P==0&&(P=(f*D+l/2)/l),0>=D||0>=P?0:(y[0]=D,w[0]=P,1)}function it(l,f){return l+(1<<f)-1>>>f}function Be(l,f){return((4278255360&l)+(4278255360&f)>>>0&4278255360)+((16711935&l)+(16711935&f)>>>0&16711935)>>>0}function qe(l,f){T[f]=function(y,w,D,P,k,F,j){var $;for($=0;$<k;++$){var ee=T[l](F[j+$-1],D,P+$);F[j+$]=Be(y[w+$],ee)}}}function Ge(){this.ud=this.hd=this.jd=0}function We(l,f){return((4278124286&(l^f))>>>1)+(l&f)>>>0}function ot(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function wt(l,f){return ot(l+(l-f+.5>>1))}function Dt(l,f,y){return Math.abs(f-y)-Math.abs(l-y)}function Ot(l,f,y,w,D,P,k){for(w=P[k-1],y=0;y<D;++y)P[k+y]=w=Be(l[f+y],w)}function mt(l,f,y,w,D){var P;for(P=0;P<y;++P){var k=l[f+P],F=k>>8&255,j=16711935&(j=(j=16711935&k)+((F<<16)+F));w[D+P]=(4278255360&k)+j>>>0}}function Nt(l,f){f.jd=l>>0&255,f.hd=l>>8&255,f.ud=l>>16&255}function lt(l,f,y,w,D,P){var k;for(k=0;k<w;++k){var F=f[y+k],j=F>>>8,$=F,ee=255&(ee=(ee=F>>>16)+((l.jd<<24>>24)*(j<<24>>24)>>>5));$=255&($=($=$+((l.hd<<24>>24)*(j<<24>>24)>>>5))+((l.ud<<24>>24)*(ee<<24>>24)>>>5)),D[P+k]=(4278255360&F)+(ee<<16)+$}}function jt(l,f,y,w,D){T[f]=function(P,k,F,j,$,ee,pe,ge,ce){for(j=pe;j<ge;++j)for(pe=0;pe<ce;++pe)$[ee++]=D(F[w(P[k++])])},T[l]=function(P,k,F,j,$,ee,pe){var ge=8>>P.b,ce=P.Ea,Ne=P.K[0],Se=P.w;if(8>ge)for(P=(1<<P.b)-1,Se=(1<<ge)-1;k<F;++k){var te,re=0;for(te=0;te<ce;++te)te&P||(re=w(j[$++])),ee[pe++]=D(Ne[re&Se]),re>>=ge}else T["VP8LMapColor"+y](j,$,Ne,Se,ee,pe,k,F,ce)}}function Qe(l,f,y,w,D){for(y=f+y;f<y;){var P=l[f++];w[D++]=P>>16&255,w[D++]=P>>8&255,w[D++]=P>>0&255}}function Lr(l,f,y,w,D){for(y=f+y;f<y;){var P=l[f++];w[D++]=P>>16&255,w[D++]=P>>8&255,w[D++]=P>>0&255,w[D++]=P>>24&255}}function Gt(l,f,y,w,D){for(y=f+y;f<y;){var P=(k=l[f++])>>16&240|k>>12&15,k=k>>0&240|k>>28&15;w[D++]=P,w[D++]=k}}function Ti(l,f,y,w,D){for(y=f+y;f<y;){var P=(k=l[f++])>>16&248|k>>13&7,k=k>>5&224|k>>3&31;w[D++]=P,w[D++]=k}}function fn(l,f,y,w,D){for(y=f+y;f<y;){var P=l[f++];w[D++]=P>>0&255,w[D++]=P>>8&255,w[D++]=P>>16&255}}function bn(l,f,y,w,D,P){if(P==0)for(y=f+y;f<y;)je(w,((P=l[f++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),D+=32;else r(w,D,l,f,y)}function Is(l,f){T[f][0]=T[l+"0"],T[f][1]=T[l+"1"],T[f][2]=T[l+"2"],T[f][3]=T[l+"3"],T[f][4]=T[l+"4"],T[f][5]=T[l+"5"],T[f][6]=T[l+"6"],T[f][7]=T[l+"7"],T[f][8]=T[l+"8"],T[f][9]=T[l+"9"],T[f][10]=T[l+"10"],T[f][11]=T[l+"11"],T[f][12]=T[l+"12"],T[f][13]=T[l+"13"],T[f][14]=T[l+"0"],T[f][15]=T[l+"0"]}function cn(l){return l==zw||l==Hw||l==gm||l==Ww}function eo(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ci(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new eo,this.f.kb=new jn,this.sd=null}function hi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function bt(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function Kt(l,f){var y=l.T,w=f.ba.f.RGBA,D=w.eb,P=w.fb+l.ka*w.A,k=Os[f.ba.S],F=l.y,j=l.O,$=l.f,ee=l.N,pe=l.ea,ge=l.W,ce=f.cc,Ne=f.dc,Se=f.Mc,te=f.Nc,re=l.ka,Ae=l.ka+l.T,Pe=l.U,De=Pe+1>>1;for(re==0?k(F,j,null,null,$,ee,pe,ge,$,ee,pe,ge,D,P,null,null,Pe):(k(f.ec,f.fc,F,j,ce,Ne,Se,te,$,ee,pe,ge,D,P-w.A,D,P,Pe),++y);re+2<Ae;re+=2)ce=$,Ne=ee,Se=pe,te=ge,ee+=l.Rc,ge+=l.Rc,P+=2*w.A,k(F,(j+=2*l.fa)-l.fa,F,j,ce,Ne,Se,te,$,ee,pe,ge,D,P-w.A,D,P,Pe);return j+=l.fa,l.j+Ae<l.o?(r(f.ec,f.fc,F,j,Pe),r(f.cc,f.dc,$,ee,De),r(f.Mc,f.Nc,pe,ge,De),y--):1&Ae||k(F,j,null,null,$,ee,pe,ge,$,ee,pe,ge,D,P+w.A,null,null,Pe),y}function zo(l,f,y){var w=l.F,D=[l.J];if(w!=null){var P=l.U,k=f.ba.S,F=k==pm||k==gm;f=f.ba.f.RGBA;var j=[0],$=l.ka;j[0]=l.T,l.Kb&&($==0?--j[0]:(--$,D[0]-=l.width),l.j+l.ka+l.T==l.o&&(j[0]=l.o-l.j-$));var ee=f.eb;$=f.fb+$*f.A,l=On(w,D[0],l.width,P,j,ee,$+(F?0:3),f.A),e(y==j),l&&cn(k)&&Ms(ee,$,F,P,j,f.A)}return 0}function Wn(l){var f=l.ma,y=f.ba.S,w=11>y,D=y==hm||y==fm||y==pm||y==$w||y==12||cn(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!qa(f.Oa,l,D?11:12))return 0;if(D&&cn(y)&&Me(),l.da)alert("todo:use_scaling");else{if(w){if(f.Ib=bt,l.Kb){if(y=l.U+1>>1,f.memory=s(l.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+l.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=Kt,Me()}}else alert("todo:EmitYUV");D&&(f.Jb=zo,w&&de())}if(w&&!dD){for(l=0;256>l;++l)IV[l]=89858*(l-128)+ym>>mm,CV[l]=-22014*(l-128)+ym,TV[l]=-45773*(l-128),SV[l]=113618*(l-128)+ym>>mm;for(l=Qf;l<Qw;++l)f=76283*(l-16)+ym>>mm,AV[l-Qf]=Ct(f,255),DV[l-Qf]=Ct(f+8>>4,15);dD=1}return 1}function Ki(l){var f=l.ma,y=l.U,w=l.T;return e(!(1&l.ka)),0>=y||0>=w?0:(y=f.Ib(l,f),f.Jb!=null&&f.Jb(l,f,y),f.Dc+=y,1)}function Jr(l){l.ma.memory=null}function ut(l,f,y,w){return _e(l,8)!=47?0:(f[0]=_e(l,14)+1,y[0]=_e(l,14)+1,w[0]=_e(l,1),_e(l,3)!=0?0:!l.h)}function Cn(l,f){if(4>l)return l+1;var y=l-2>>1;return(2+(1&l)<<y)+_e(f,y)+1}function Qi(l,f){return 120<f?f-120:1<=(y=((y=uV[f-1])>>4)*l+(8-(15&y)))?y:1;var y}function mr(l,f,y){var w=q(y),D=l[f+=255&w].g-8;return 0<D&&(Y(y,y.u+8),w=q(y),f+=l[f].value,f+=w&(1<<D)-1),Y(y,y.u+l[f].g),l[f].value}function Bn(l,f,y){return y.g+=l.g,y.value+=l.value<<f>>>0,e(8>=y.g),l.g}function Gn(l,f,y){var w=l.xc;return e((f=w==0?0:l.vc[l.md*(y>>w)+(f>>w)])<l.Wb),l.Ya[f]}function fi(l,f,y,w){var D=l.ab,P=l.c*f,k=l.C;f=k+f;var F=y,j=w;for(w=l.Ta,y=l.Ua;0<D--;){var $=l.gc[D],ee=k,pe=f,ge=F,ce=j,Ne=(j=w,F=y,$.Ea);switch(e(ee<pe),e(pe<=$.nc),$.hc){case 2:sm(ge,ce,(pe-ee)*Ne,j,F);break;case 0:var Se=ee,te=pe,re=j,Ae=F,Pe=(Ke=$).Ea;Se==0&&(Uw(ge,ce,null,null,1,re,Ae),Ot(ge,ce+1,0,0,Pe-1,re,Ae+1),ce+=Pe,Ae+=Pe,++Se);for(var De=1<<Ke.b,Xe=De-1,ze=it(Pe,Ke.b),dt=Ke.K,Ke=Ke.w+(Se>>Ke.b)*ze;Se<te;){var un=dt,_n=Ke,an=1;for($f(ge,ce,re,Ae-Pe,1,re,Ae);an<Pe;){var Zt=(an&~Xe)+De;Zt>Pe&&(Zt=Pe),(0,Gc[un[_n++]>>8&15])(ge,ce+ +an,re,Ae+an-Pe,Zt-an,re,Ae+an),an=Zt}ce+=Pe,Ae+=Pe,++Se&Xe||(Ke+=ze)}pe!=$.nc&&r(j,F-Ne,j,F+(pe-ee-1)*Ne,Ne);break;case 1:for(Ne=ge,te=ce,Pe=(ge=$.Ea)-(Ae=ge&~(re=(ce=1<<$.b)-1)),Se=it(ge,$.b),De=$.K,$=$.w+(ee>>$.b)*Se;ee<pe;){for(Xe=De,ze=$,dt=new Ge,Ke=te+Ae,un=te+ge;te<Ke;)Nt(Xe[ze++],dt),rl(dt,Ne,te,ce,j,F),te+=ce,F+=ce;te<un&&(Nt(Xe[ze++],dt),rl(dt,Ne,te,Pe,j,F),te+=Pe,F+=Pe),++ee&re||($+=Se)}break;case 3:if(ge==j&&ce==F&&0<$.b){for(te=j,ge=Ne=F+(pe-ee)*Ne-(Ae=(pe-ee)*it($.Ea,$.b)),ce=j,re=F,Se=[],Ae=(Pe=Ae)-1;0<=Ae;--Ae)Se[Ae]=ce[re+Ae];for(Ae=Pe-1;0<=Ae;--Ae)te[ge+Ae]=Se[Ae];xs($,ee,pe,j,Ne,j,F)}else xs($,ee,pe,ge,ce,j,F)}F=w,j=y}j!=y&&r(w,y,F,j,P)}function Yi(l,f){var y=l.V,w=l.Ba+l.c*l.C,D=f-l.C;if(e(f<=l.l.o),e(16>=D),0<D){var P=l.l,k=l.Ta,F=l.Ua,j=P.width;if(fi(l,D,y,w),D=F=[F],e((y=l.C)<(w=f)),e(P.v<P.va),w>P.o&&(w=P.o),y<P.j){var $=P.j-y;y=P.j,D[0]+=$*j}if(y>=w?y=0:(D[0]+=4*P.v,P.ka=y-P.j,P.U=P.va-P.v,P.T=w-y,y=1),y){if(F=F[0],11>(y=l.ca).S){var ee=y.f.RGBA,pe=(w=y.S,D=P.U,P=P.T,$=ee.eb,ee.A),ge=P;for(ee=ee.fb+l.Ma*ee.A;0<ge--;){var ce=k,Ne=F,Se=D,te=$,re=ee;switch(w){case dm:Mi(ce,Ne,Se,te,re);break;case hm:mi(ce,Ne,Se,te,re);break;case zw:mi(ce,Ne,Se,te,re),Ms(te,re,0,Se,1,0);break;case tD:za(ce,Ne,Se,te,re);break;case fm:bn(ce,Ne,Se,te,re,1);break;case Hw:bn(ce,Ne,Se,te,re,1),Ms(te,re,0,Se,1,0);break;case pm:bn(ce,Ne,Se,te,re,0);break;case gm:bn(ce,Ne,Se,te,re,0),Ms(te,re,1,Se,1,0);break;case $w:Kc(ce,Ne,Se,te,re);break;case Ww:Kc(ce,Ne,Se,te,re),kn(te,re,Se,1,0);break;case nD:$a(ce,Ne,Se,te,re);break;default:e(0)}F+=j,ee+=pe}l.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(l.Ma<=y.height)}}l.C=f,e(l.C<=l.i)}function to(l){var f;if(0<l.ua)return 0;for(f=0;f<l.Wb;++f){var y=l.Ya[f].G,w=l.Ya[f].H;if(0<y[1][w[1]+0].g||0<y[2][w[2]+0].g||0<y[3][w[3]+0].g)return 0}return 1}function Zi(l,f,y,w,D,P){if(l.Z!=0){var k=l.qd,F=l.rd;for(e(Jc[l.Z]!=null);f<y;++f)Jc[l.Z](k,F,w,D,w,D,P),k=w,F=D,D+=P;l.qd=k,l.rd=F}}function Xr(l,f){var y=l.l.ma,w=y.Z==0||y.Z==1?l.l.j:l.C;if(w=l.C<w?w:l.C,e(f<=l.l.o),f>w){var D=l.l.width,P=y.ca,k=y.tb+D*w,F=l.V,j=l.Ba+l.c*w,$=l.gc;e(l.ab==1),e($[0].hc==3),om($[0],w,f,F,j,P,k),Zi(y,w,f,P,k,D)}l.C=l.Ma=f}function Ai(l,f,y,w,D,P,k){var F=l.$/w,j=l.$%w,$=l.m,ee=l.s,pe=y+l.$,ge=pe;D=y+w*D;var ce=y+w*P,Ne=280+ee.ua,Se=l.Pb?F:16777216,te=0<ee.ua?ee.Wa:null,re=ee.wc,Ae=pe<ce?Gn(ee,j,F):null;e(l.C<P),e(ce<=D);var Pe=!1;e:for(;;){for(;Pe||pe<ce;){var De=0;if(F>=Se){var Xe=pe-y;e((Se=l).Pb),Se.wd=Se.m,Se.xd=Xe,0<Se.s.ua&&Te(Se.s.Wa,Se.s.vb),Se=F+dV}if(j&re||(Ae=Gn(ee,j,F)),e(Ae!=null),Ae.Qb&&(f[pe]=Ae.qb,Pe=!0),!Pe)if(se($),Ae.jc){De=$,Xe=f;var ze=pe,dt=Ae.pd[q(De)&Wr-1];e(Ae.jc),256>dt.g?(Y(De,De.u+dt.g),Xe[ze]=dt.value,De=0):(Y(De,De.u+dt.g-256),e(256<=dt.value),De=dt.value),De==0&&(Pe=!0)}else De=mr(Ae.G[0],Ae.H[0],$);if($.h)break;if(Pe||256>De){if(!Pe)if(Ae.nd)f[pe]=(Ae.qb|De<<8)>>>0;else{if(se($),Pe=mr(Ae.G[1],Ae.H[1],$),se($),Xe=mr(Ae.G[2],Ae.H[2],$),ze=mr(Ae.G[3],Ae.H[3],$),$.h)break;f[pe]=(ze<<24|Pe<<16|De<<8|Xe)>>>0}if(Pe=!1,++pe,++j>=w&&(j=0,++F,k!=null&&F<=P&&!(F%16)&&k(l,F),te!=null))for(;ge<pe;)De=f[ge++],te.X[(506832829*De&4294967295)>>>te.Mb]=De}else if(280>De){if(De=Cn(De-256,$),Xe=mr(Ae.G[4],Ae.H[4],$),se($),Xe=Qi(w,Xe=Cn(Xe,$)),$.h)break;if(pe-y<Xe||D-pe<De)break e;for(ze=0;ze<De;++ze)f[pe+ze]=f[pe+ze-Xe];for(pe+=De,j+=De;j>=w;)j-=w,++F,k!=null&&F<=P&&!(F%16)&&k(l,F);if(e(pe<=D),j&re&&(Ae=Gn(ee,j,F)),te!=null)for(;ge<pe;)De=f[ge++],te.X[(506832829*De&4294967295)>>>te.Mb]=De}else{if(!(De<Ne))break e;for(Pe=De-280,e(te!=null);ge<pe;)De=f[ge++],te.X[(506832829*De&4294967295)>>>te.Mb]=De;De=pe,e(!(Pe>>>(Xe=te).Xa)),f[De]=Xe.X[Pe],Pe=!0}Pe||e($.h==H($))}if(l.Pb&&$.h&&pe<D)e(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&Te(l.s.vb,l.s.Wa);else{if($.h)break e;k?.(l,F>P?P:F),l.a=0,l.$=pe-y}return 1}return l.a=3,0}function Di(l){e(l!=null),l.vc=null,l.yc=null,l.Ya=null;var f=l.Wa;f!=null&&(f.X=null),l.vb=null,e(l!=null)}function zr(){var l=new nl;return l==null?null:(l.a=0,l.xb=sD,Is("Predictor","VP8LPredictors"),Is("Predictor","VP8LPredictors_C"),Is("PredictorAdd","VP8LPredictorsAdd"),Is("PredictorAdd","VP8LPredictorsAdd_C"),sm=mt,rl=lt,Mi=Qe,mi=Lr,Kc=Gt,$a=Ti,za=fn,T.VP8LMapColor32b=Pd,T.VP8LMapColor8b=am,l)}function Nr(l,f,y,w,D){var P=1,k=[l],F=[f],j=w.m,$=w.s,ee=null,pe=0;e:for(;;){if(y)for(;P&&_e(j,1);){var ge=k,ce=F,Ne=w,Se=1,te=Ne.m,re=Ne.gc[Ne.ab],Ae=_e(te,2);if(Ne.Oc&1<<Ae)P=0;else{switch(Ne.Oc|=1<<Ae,re.hc=Ae,re.Ea=ge[0],re.nc=ce[0],re.K=[null],++Ne.ab,e(4>=Ne.ab),Ae){case 0:case 1:re.b=_e(te,3)+2,Se=Nr(it(re.Ea,re.b),it(re.nc,re.b),0,Ne,re.K),re.K=re.K[0];break;case 3:var Pe,De=_e(te,8)+1,Xe=16<De?0:4<De?1:2<De?2:3;if(ge[0]=it(re.Ea,Xe),re.b=Xe,Pe=Se=Nr(De,1,0,Ne,re.K)){var ze,dt=De,Ke=re,un=1<<(8>>Ke.b),_n=s(un);if(_n==null)Pe=0;else{var an=Ke.K[0],Zt=Ke.w;for(_n[0]=Ke.K[0][0],ze=1;ze<1*dt;++ze)_n[ze]=Be(an[Zt+ze],_n[ze-1]);for(;ze<4*un;++ze)_n[ze]=0;Ke.K[0]=null,Ke.K[0]=_n,Pe=1}}Se=Pe;break;case 2:break;default:e(0)}P=Se}}if(k=k[0],F=F[0],P&&_e(j,1)&&!(P=1<=(pe=_e(j,4))&&11>=pe)){w.a=3;break e}var Dn;if(Dn=P)t:{var In,Lt,yr,ki=w,vr=k,Oi=F,wn=pe,ss=y,os=ki.m,Fr=ki.s,Gr=[null],vi=1,Ls=0,Zo=lV[wn];n:for(;;){if(ss&&_e(os,1)){var Vr=_e(os,3)+2,Ka=it(vr,Vr),cl=it(Oi,Vr),Fd=Ka*cl;if(!Nr(Ka,cl,0,ki,Gr))break n;for(Gr=Gr[0],Fr.xc=Vr,In=0;In<Fd;++In){var Xc=Gr[In]>>8&65535;Gr[In]=Xc,Xc>=vi&&(vi=Xc+1)}}if(os.h)break n;for(Lt=0;5>Lt;++Lt){var Qn=rD[Lt];!Lt&&0<wn&&(Qn+=1<<wn),Ls<Qn&&(Ls=Qn)}var Yw=o(vi*Zo,C),pD=vi,gD=o(pD,Q);if(gD==null)var _m=null;else e(65536>=pD),_m=gD;var Yf=s(Ls);if(_m==null||Yf==null||Yw==null){ki.a=1;break n}var wm=Yw;for(In=yr=0;In<vi;++In){var ho=_m[In],Vd=ho.G,jd=ho.H,mD=0,bm=1,yD=0;for(Lt=0;5>Lt;++Lt){Qn=rD[Lt],Vd[Lt]=wm,jd[Lt]=yr,!Lt&&0<wn&&(Qn+=1<<wn);i:{var Em,Zw=Qn,Im=ki,Zf=Yf,RV=wm,PV=yr,Jw=0,eu=Im.m,MV=_e(eu,1);if(i(Zf,0,0,Zw),MV){var kV=_e(eu,1)+1,OV=_e(eu,1),vD=_e(eu,OV==0?1:8);Zf[vD]=1,kV==2&&(Zf[vD=_e(eu,8)]=1);var Sm=1}else{var _D=s(19),wD=_e(eu,4)+4;if(19<wD){Im.a=3;var Tm=0;break i}for(Em=0;Em<wD;++Em)_D[cV[Em]]=_e(eu,3);var Xw=void 0,Jf=void 0,bD=Im,LV=_D,Cm=Zw,ED=Zf,e1=0,tu=bD.m,ID=8,SD=o(128,C);r:for(;I(SD,0,7,LV,19);){if(_e(tu,1)){var FV=2+2*_e(tu,3);if((Xw=2+_e(tu,FV))>Cm)break r}else Xw=Cm;for(Jf=0;Jf<Cm&&Xw--;){se(tu);var TD=SD[0+(127&q(tu))];Y(tu,tu.u+TD.g);var Bd=TD.value;if(16>Bd)ED[Jf++]=Bd,Bd!=0&&(ID=Bd);else{var VV=Bd==16,CD=Bd-16,jV=oV[CD],AD=_e(tu,sV[CD])+jV;if(Jf+AD>Cm)break r;for(var BV=VV?ID:0;0<AD--;)ED[Jf++]=BV}}e1=1;break r}e1||(bD.a=3),Sm=e1}(Sm=Sm&&!eu.h)&&(Jw=I(RV,PV,8,Zf,Zw)),Sm&&Jw!=0?Tm=Jw:(Im.a=3,Tm=0)}if(Tm==0)break n;if(bm&&aV[Lt]==1&&(bm=wm[yr].g==0),mD+=wm[yr].g,yr+=Tm,3>=Lt){var Xf,t1=Yf[0];for(Xf=1;Xf<Qn;++Xf)Yf[Xf]>t1&&(t1=Yf[Xf]);yD+=t1}}if(ho.nd=bm,ho.Qb=0,bm&&(ho.qb=(Vd[3][jd[3]+0].value<<24|Vd[1][jd[1]+0].value<<16|Vd[2][jd[2]+0].value)>>>0,mD==0&&256>Vd[0][jd[0]+0].value&&(ho.Qb=1,ho.qb+=Vd[0][jd[0]+0].value<<8)),ho.jc=!ho.Qb&&6>yD,ho.jc){var Am,Qa=ho;for(Am=0;Am<Wr;++Am){var nu=Am,ru=Qa.pd[nu],Dm=Qa.G[0][Qa.H[0]+nu];256<=Dm.value?(ru.g=Dm.g+256,ru.value=Dm.value):(ru.g=0,ru.value=0,nu>>=Bn(Dm,8,ru),nu>>=Bn(Qa.G[1][Qa.H[1]+nu],16,ru),nu>>=Bn(Qa.G[2][Qa.H[2]+nu],0,ru),Bn(Qa.G[3][Qa.H[3]+nu],24,ru))}}}Fr.vc=Gr,Fr.Wb=vi,Fr.Ya=_m,Fr.yc=Yw,Dn=1;break t}Dn=0}if(!(P=Dn)){w.a=3;break e}if(0<pe){if($.ua=1<<pe,!ct($.Wa,pe)){w.a=1,P=0;break e}}else $.ua=0;var n1=w,DD=k,UV=F,r1=n1.s,i1=r1.xc;if(n1.c=DD,n1.i=UV,r1.md=it(DD,i1),r1.wc=i1==0?-1:(1<<i1)-1,y){w.xb=vV;break e}if((ee=s(k*F))==null){w.a=1,P=0;break e}P=(P=Ai(w,ee,0,k,F,F,null))&&!j.h;break e}return P?(D!=null?D[0]=ee:(e(ee==null),e(y)),w.$=0,y||Di($)):Di($),P}function Ho(l,f){var y=l.c*l.i,w=y+f+16*f;return e(l.c<=f),l.V=s(w),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+y+f,1)}function Pa(l,f){var y=l.C,w=f-y,D=l.V,P=l.Ba+l.c*y;for(e(f<=l.l.o);0<w;){var k=16<w?16:w,F=l.l.ma,j=l.l.width,$=j*k,ee=F.ca,pe=F.tb+j*y,ge=l.Ta,ce=l.Ua;fi(l,k,D,P),or(ge,ce,ee,pe,$),Zi(F,y,y+k,ee,pe,j),w-=k,D+=k*l.c,y+=k}e(y==f),l.C=l.Ma=f}function Wo(){this.ub=this.yd=this.td=this.Rb=0}function Go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ma(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function $u(){this.Yb=function(){var l=[];return function f(y,w,D){for(var P=D[w],k=0;k<P&&(y.push(D.length>w+1?[]:0),!(D.length<w+1));k++)f(y[k],w+1,D)}(l,0,[3,11]),l}()}function Ff(){this.jb=s(3),this.Wc=a([4,8],$u),this.Xc=a([4,17],$u)}function Mc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ka(){this.ld=this.La=this.dd=this.tc=0}function kc(){this.Na=this.la=0}function Oa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ji(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ka),this.Y=0,this.ya=Array(new Ji),this.aa=0,this.l=new La}function md(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yd(){this.cb=this.a=0,this.sc="",this.m=new Ue,this.Od=new Wo,this.Kc=new Go,this.ed=new Mc,this.Qa=new Ma,this.Ic=this.$c=this.Aa=0,this.D=new zu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ue),this.ia=0,this.pb=o(4,Oa),this.Pa=new Ff,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new md),this.Hd=0,this.rb=Array(new kc),this.sb=0,this.wa=Array(new ka),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ji),this.L=this.aa=0,this.gd=a([4,2],ka),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function La(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vd(){var l=new yd;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,Kf||(Kf=Wu)),l}function Un(l,f,y){return l.a==0&&(l.a=f,l.sc=y,l.cb=0),0}function Oc(l,f,y){return 3<=y&&l[f+0]==157&&l[f+1]==1&&l[f+2]==42}function Hu(l,f){if(l==null)return 0;if(l.a=0,l.sc="OK",f==null)return Un(l,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,w=f.w,D=f.ha;if(4>D)return Un(l,7,"Truncated header.");var P=y[w+0]|y[w+1]<<8|y[w+2]<<16,k=l.Od;if(k.Rb=!(1&P),k.td=P>>1&7,k.yd=P>>4&1,k.ub=P>>5,3<k.td)return Un(l,3,"Incorrect keyframe parameters.");if(!k.yd)return Un(l,4,"Frame not displayable.");w+=3,D-=3;var F=l.Kc;if(k.Rb){if(7>D)return Un(l,7,"cannot parse picture header");if(!Oc(y,w,D))return Un(l,3,"Bad code word");F.c=16383&(y[w+4]<<8|y[w+3]),F.Td=y[w+4]>>6,F.i=16383&(y[w+6]<<8|y[w+5]),F.Ud=y[w+6]>>6,w+=7,D-=7,l.za=F.c+15>>4,l.Ub=F.i+15>>4,f.width=F.c,f.height=F.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((P=l.Pa).jb,0,255,P.jb.length),e((P=l.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(k.ub>D)return Un(l,7,"bad partition length");be(P=l.m,y,w,k.ub),w+=k.ub,D-=k.ub,k.Rb&&(F.Ld=ye(P),F.Kd=ye(P)),F=l.Qa;var j,$=l.Pa;if(e(P!=null),e(F!=null),F.Cb=ye(P),F.Cb){if(F.Bb=ye(P),ye(P)){for(F.Fb=ye(P),j=0;4>j;++j)F.Zb[j]=ye(P)?ie(P,7):0;for(j=0;4>j;++j)F.Lb[j]=ye(P)?ie(P,6):0}if(F.Bb)for(j=0;3>j;++j)$.jb[j]=ye(P)?X(P,8):255}else F.Bb=0;if(P.Ka)return Un(l,3,"cannot parse segment header");if((F=l.ed).zd=ye(P),F.Tb=X(P,6),F.wb=X(P,3),F.Pc=ye(P),F.Pc&&ye(P)){for($=0;4>$;++$)ye(P)&&(F.vd[$]=ie(P,6));for($=0;4>$;++$)ye(P)&&(F.od[$]=ie(P,6))}if(l.L=F.Tb==0?0:F.zd?1:2,P.Ka)return Un(l,3,"cannot parse filter header");var ee=D;if(D=j=w,w=j+ee,F=ee,l.Xb=(1<<X(l.m,2))-1,ee<3*($=l.Xb))y=7;else{for(j+=3*$,F-=3*$,ee=0;ee<$;++ee){var pe=y[D+0]|y[D+1]<<8|y[D+2]<<16;pe>F&&(pe=F),be(l.Jc[+ee],y,j,pe),j+=pe,F-=pe,D+=3}be(l.Jc[+$],y,j,F),y=j<w?0:5}if(y!=0)return Un(l,y,"cannot parse partitions");for(y=X(j=l.m,7),D=ye(j)?ie(j,4):0,w=ye(j)?ie(j,4):0,F=ye(j)?ie(j,4):0,$=ye(j)?ie(j,4):0,j=ye(j)?ie(j,4):0,ee=l.Qa,pe=0;4>pe;++pe){if(ee.Cb){var ge=ee.Zb[pe];ee.Fb||(ge+=y)}else{if(0<pe){l.pb[pe]=l.pb[0];continue}ge=y}var ce=l.pb[pe];ce.Sc[0]=Gw[Ct(ge+D,127)],ce.Sc[1]=Kw[Ct(ge+0,127)],ce.Eb[0]=2*Gw[Ct(ge+w,127)],ce.Eb[1]=101581*Kw[Ct(ge+F,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=Gw[Ct(ge+$,117)],ce.Qc[1]=Kw[Ct(ge+j,127)],ce.lc=ge+j}if(!k.Rb)return Un(l,4,"Not a key frame.");for(ye(P),k=l.Pa,y=0;4>y;++y){for(D=0;8>D;++D)for(w=0;3>w;++w)for(F=0;11>F;++F)$=me(P,mV[y][D][w][F])?X(P,8):pV[y][D][w][F],k.Wc[y][D].Yb[w][F]=$;for(D=0;17>D;++D)k.Xc[y][D]=k.Wc[y][yV[D]]}return l.kc=ye(P),l.kc&&(l.Bd=X(P,8)),l.cb=1}function Wu(l,f,y,w,D,P,k){var F=f[D].Yb[y];for(y=0;16>D;++D){if(!me(l,F[y+0]))return D;for(;!me(l,F[y+1]);)if(F=f[++D].Yb[0],y=0,D==16)return 16;var j=f[D+1].Yb;if(me(l,F[y+2])){var $=l,ee=0;if(me($,(ge=F)[(pe=y)+3]))if(me($,ge[pe+6])){for(F=0,pe=2*(ee=me($,ge[pe+8]))+(ge=me($,ge[pe+9+ee])),ee=0,ge=hV[pe];ge[F];++F)ee+=ee+me($,ge[F]);ee+=3+(8<<pe)}else me($,ge[pe+7])?(ee=7+2*me($,165),ee+=me($,145)):ee=5+me($,159);else ee=me($,ge[pe+4])?3+me($,ge[pe+5]):2;F=j[2]}else ee=1,F=j[1];j=k+fV[D],0>($=l).b&&le($);var pe,ge=$.b,ce=(pe=$.Ca>>1)-($.I>>ge)>>31;--$.b,$.Ca+=ce,$.Ca|=1,$.I-=(pe+1&ce)<<ge,P[j]=((ee^ce)-ce)*w[(0<D)+0]}return 16}function Gu(l){var f=l.rb[l.sb-1];f.la=0,f.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function Vf(l,f){if(l==null)return 0;if(f==null)return Un(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!Hu(l,f))return 0;if(e(l.cb),f.ac==null||f.ac(f)){f.ob&&(l.L=0);var y=vm[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=f.v-y>>4,l.zb=f.j-y>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=f.o+15+y>>4,l.Hb=f.va+15+y>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var w=l.ed;for(y=0;4>y;++y){var D;if(l.Qa.Cb){var P=l.Qa.Lb[y];l.Qa.Fb||(P+=w.Tb)}else P=w.Tb;for(D=0;1>=D;++D){var k=l.gd[y][D],F=P;if(w.Pc&&(F+=w.vd[0],D&&(F+=w.od[0])),0<(F=0>F?0:63<F?63:F)){var j=F;0<w.wb&&(j=4<w.wb?j>>2:j>>1)>9-w.wb&&(j=9-w.wb),1>j&&(j=1),k.dd=j,k.tc=2*F+j,k.ld=40<=F?2:15<=F?1:0}else k.tc=0;k.La=D}}}y=0}else Un(l,6,"Frame setup failed"),y=l.a;if(y=y==0){if(y){l.$c=0,0<l.Aa||(l.Ic=xV);e:{y=l.Ic,w=4*(j=l.za);var $=32*j,ee=j+1,pe=0<l.L?j*(0<l.Aa?2:1):0,ge=(l.Aa==2?2:1)*j;if((k=w+832+(D=3*(16*y+vm[l.L])/2*$)+(P=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=k)y=0;else{if(k>l.Vb){if(l.Vb=0,l.Ec=s(k),l.Fc=0,l.Ec==null){y=Un(l,1,"no memory during frame initialization.");break e}l.Vb=k}k=l.Ec,F=l.Fc,l.Ac=k,l.Bc=F,F+=w,l.Gd=o($,md),l.Hd=0,l.rb=o(ee+1,kc),l.sb=1,l.wa=pe?o(pe,ka):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=j),e(!0),l.oc=k,l.pc=F,F+=832,l.ya=o(ge,Ji),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=j),l.R=16*j,l.B=8*j,j=($=vm[l.L])*l.R,$=$/2*l.B,l.sa=k,l.ta=F+j,l.qa=l.sa,l.ra=l.ta+16*y*l.R+$,l.Ha=l.qa,l.Ia=l.ra+8*y*l.B+$,l.$c=0,F+=D,l.mb=P?k:null,l.nb=P?F:null,e(F+P<=l.Fc+l.Vb),Gu(l),i(l.Ac,l.Bc,0,w),y=1}}if(y){if(f.ka=0,f.y=l.sa,f.O=l.ta,f.f=l.qa,f.N=l.ra,f.ea=l.Ha,f.Vd=l.Ia,f.fa=l.R,f.Rc=l.B,f.F=null,f.J=0,!um){for(y=-255;255>=y;++y)xr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Wa[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Gf[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)Ld[255+y]=0>y?0:255<y?255:y;um=1}Md=Fc,Ha=Lc,zf=Va,yi=_d,Rs=pn,sr=xi,kd=oo,cm=Qo,Hf=Ad,il=Yo,sl=Xu,Qc=ao,ol=el,Od=tl,al=Ju,Yc=gi,Wf=Cs,Ps=ts,lo[0]=Ts,lo[1]=ja,lo[2]=Ed,lo[3]=Ko,lo[4]=Id,lo[5]=pi,lo[6]=Sd,lo[7]=Qu,lo[8]=Ba,lo[9]=Bf,Zc[0]=bd,Zc[1]=wd,Zc[2]=ro,Zc[3]=Vc,Zc[4]=Kn,Zc[5]=Ss,Zc[6]=Ku,Ga[0]=Ri,Ga[1]=jf,Ga[2]=Bc,Ga[3]=Uc,Ga[4]=io,Ga[5]=Td,Ga[6]=En,y=1}else y=0}y&&(y=function(ce,Ne){for(ce.M=0;ce.M<ce.Va;++ce.M){var Se,te=ce.Jc[ce.M&ce.Xb],re=ce.m,Ae=ce;for(Se=0;Se<Ae.za;++Se){var Pe=re,De=Ae,Xe=De.Ac,ze=De.Bc+4*Se,dt=De.zc,Ke=De.ya[De.aa+Se];if(De.Qa.Bb?Ke.$b=me(Pe,De.Pa.jb[0])?2+me(Pe,De.Pa.jb[2]):me(Pe,De.Pa.jb[1]):Ke.$b=0,De.kc&&(Ke.Ad=me(Pe,De.Bd)),Ke.Za=!me(Pe,145)+0,Ke.Za){var un=Ke.Ob,_n=0;for(De=0;4>De;++De){var an,Zt=dt[0+De];for(an=0;4>an;++an){Zt=gV[Xe[ze+an]][Zt];for(var Dn=iD[me(Pe,Zt[0])];0<Dn;)Dn=iD[2*Dn+me(Pe,Zt[Dn])];Zt=-Dn,Xe[ze+an]=Zt}r(un,_n,Xe,ze,4),_n+=4,dt[0+De]=Zt}}else Zt=me(Pe,156)?me(Pe,128)?1:3:me(Pe,163)?2:0,Ke.Ob[0]=Zt,i(Xe,ze,Zt,4),i(dt,0,Zt,4);Ke.Dd=me(Pe,142)?me(Pe,114)?me(Pe,183)?1:3:2:0}if(Ae.m.Ka)return Un(ce,7,"Premature end-of-partition0 encountered.");for(;ce.ja<ce.za;++ce.ja){if(Ae=te,Pe=(re=ce).rb[re.sb-1],Xe=re.rb[re.sb+re.ja],Se=re.ya[re.aa+re.ja],ze=re.kc?Se.Ad:0)Pe.la=Xe.la=0,Se.Za||(Pe.Na=Xe.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var In,Lt;if(Pe=Xe,Xe=Ae,ze=re.Pa.Xc,dt=re.ya[re.aa+re.ja],Ke=re.pb[dt.$b],De=dt.ad,un=0,_n=re.rb[re.sb-1],Zt=an=0,i(De,un,0,384),dt.Za)var yr=0,ki=ze[3];else{Dn=s(16);var vr=Pe.Na+_n.Na;if(vr=Kf(Xe,ze[1],vr,Ke.Eb,0,Dn,0),Pe.Na=_n.Na=(0<vr)+0,1<vr)Md(Dn,0,De,un);else{var Oi=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)De[un+Dn]=Oi}yr=1,ki=ze[0]}var wn=15&Pe.la,ss=15&_n.la;for(Dn=0;4>Dn;++Dn){var os=1&ss;for(Oi=Lt=0;4>Oi;++Oi)wn=wn>>1|(os=(vr=Kf(Xe,ki,vr=os+(1&wn),Ke.Sc,yr,De,un))>yr)<<7,Lt=Lt<<2|(3<vr?3:1<vr?2:De[un+0]!=0),un+=16;wn>>=4,ss=ss>>1|os<<7,an=(an<<8|Lt)>>>0}for(ki=wn,yr=ss>>4,In=0;4>In;In+=2){for(Lt=0,wn=Pe.la>>4+In,ss=_n.la>>4+In,Dn=0;2>Dn;++Dn){for(os=1&ss,Oi=0;2>Oi;++Oi)vr=os+(1&wn),wn=wn>>1|(os=0<(vr=Kf(Xe,ze[2],vr,Ke.Qc,0,De,un)))<<3,Lt=Lt<<2|(3<vr?3:1<vr?2:De[un+0]!=0),un+=16;wn>>=2,ss=ss>>1|os<<5}Zt|=Lt<<4*In,ki|=wn<<4<<In,yr|=(240&ss)<<In}Pe.la=ki,_n.la=yr,dt.Hc=an,dt.Gc=Zt,dt.ia=43690&Zt?0:Ke.ia,ze=!(an|Zt)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[Se.$b][Se.Za],re.wa[re.Y+re.ja].La|=!ze),Ae.Ka)return Un(ce,7,"Premature end-of-file encountered.")}if(Gu(ce),re=Ne,Ae=1,Se=(te=ce).D,Pe=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(Se.M=te.M,Se.uc=Pe,Hr(te,Se),Ae=1,Se=(Lt=te.D).Nb,Pe=(Zt=vm[te.L])*te.R,Xe=Zt/2*te.B,Dn=16*Se*te.R,Oi=8*Se*te.B,ze=te.sa,dt=te.ta-Pe+Dn,Ke=te.qa,De=te.ra-Xe+Oi,un=te.Ha,_n=te.Ia-Xe+Oi,ss=(wn=Lt.M)==0,an=wn>=te.Va-1,te.Aa==2&&Hr(te,Lt),Lt.uc)for(os=(vr=te).D.M,e(vr.D.uc),Lt=vr.yb;Lt<vr.Hb;++Lt){yr=Lt,ki=os;var Fr=(Gr=(Qn=vr).D).Nb;In=Qn.R;var Gr=Gr.wa[Gr.Y+yr],vi=Qn.sa,Ls=Qn.ta+16*Fr*In+16*yr,Zo=Gr.dd,Vr=Gr.tc;if(Vr!=0)if(e(3<=Vr),Qn.L==1)0<yr&&Yc(vi,Ls,In,Vr+4),Gr.La&&Ps(vi,Ls,In,Vr),0<ki&&al(vi,Ls,In,Vr+4),Gr.La&&Wf(vi,Ls,In,Vr);else{var Ka=Qn.B,cl=Qn.qa,Fd=Qn.ra+8*Fr*Ka+8*yr,Xc=Qn.Ha,Qn=Qn.Ia+8*Fr*Ka+8*yr;Fr=Gr.ld,0<yr&&(cm(vi,Ls,In,Vr+4,Zo,Fr),il(cl,Fd,Xc,Qn,Ka,Vr+4,Zo,Fr)),Gr.La&&(Qc(vi,Ls,In,Vr,Zo,Fr),Od(cl,Fd,Xc,Qn,Ka,Vr,Zo,Fr)),0<ki&&(kd(vi,Ls,In,Vr+4,Zo,Fr),Hf(cl,Fd,Xc,Qn,Ka,Vr+4,Zo,Fr)),Gr.La&&(sl(vi,Ls,In,Vr,Zo,Fr),ol(cl,Fd,Xc,Qn,Ka,Vr,Zo,Fr))}}if(te.ia&&alert("todo:DitherRow"),re.put!=null){if(Lt=16*wn,wn=16*(wn+1),ss?(re.y=te.sa,re.O=te.ta+Dn,re.f=te.qa,re.N=te.ra+Oi,re.ea=te.Ha,re.W=te.Ia+Oi):(Lt-=Zt,re.y=ze,re.O=dt,re.f=Ke,re.N=De,re.ea=un,re.W=_n),an||(wn-=Zt),wn>re.o&&(wn=re.o),re.F=null,re.J=null,te.Fa!=null&&0<te.Fa.length&&Lt<wn&&(re.J=rs(te,re,Lt,wn-Lt),re.F=te.mb,re.F==null&&re.F.length==0)){Ae=Un(te,3,"Could not decode alpha data.");break e}Lt<re.j&&(Zt=re.j-Lt,Lt=re.j,e(!(1&Zt)),re.O+=te.R*Zt,re.N+=te.B*(Zt>>1),re.W+=te.B*(Zt>>1),re.F!=null&&(re.J+=re.width*Zt)),Lt<wn&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,re.F!=null&&(re.J+=re.v),re.ka=Lt-re.j,re.U=re.va-re.v,re.T=wn-Lt,Ae=re.put(re))}Se+1!=te.Ic||an||(r(te.sa,te.ta-Pe,ze,dt+16*te.R,Pe),r(te.qa,te.ra-Xe,Ke,De+8*te.B,Xe),r(te.Ha,te.Ia-Xe,un,_n+8*te.B,Xe))}if(!Ae)return Un(ce,6,"Output aborted.")}return 1}(l,f)),f.bc!=null&&f.bc(f),y&=1}return y?(l.cb=0,y):0}function Ni(l,f,y,w,D){D=l[f+y+32*w]+(D>>3),l[f+y+32*w]=-256&D?0>D?0:255:D}function Fa(l,f,y,w,D,P){Ni(l,f,0,y,w+D),Ni(l,f,1,y,w+P),Ni(l,f,2,y,w-P),Ni(l,f,3,y,w-D)}function ei(l){return(20091*l>>16)+l}function Xi(l,f,y,w){var D,P=0,k=s(16);for(D=0;4>D;++D){var F=l[f+0]+l[f+8],j=l[f+0]-l[f+8],$=(35468*l[f+4]>>16)-ei(l[f+12]),ee=ei(l[f+4])+(35468*l[f+12]>>16);k[P+0]=F+ee,k[P+1]=j+$,k[P+2]=j-$,k[P+3]=F-ee,P+=4,f++}for(D=P=0;4>D;++D)F=(l=k[P+0]+4)+k[P+8],j=l-k[P+8],$=(35468*k[P+4]>>16)-ei(k[P+12]),Ni(y,w,0,0,F+(ee=ei(k[P+4])+(35468*k[P+12]>>16))),Ni(y,w,1,0,j+$),Ni(y,w,2,0,j-$),Ni(y,w,3,0,F-ee),P++,w+=32}function xi(l,f,y,w){var D=l[f+0]+4,P=35468*l[f+4]>>16,k=ei(l[f+4]),F=35468*l[f+1]>>16;Fa(y,w,0,D+k,l=ei(l[f+1]),F),Fa(y,w,1,D+P,l,F),Fa(y,w,2,D-P,l,F),Fa(y,w,3,D-k,l,F)}function Lc(l,f,y,w,D){Xi(l,f,y,w),D&&Xi(l,f+16,y,w+4)}function Va(l,f,y,w){Ha(l,f+0,y,w,1),Ha(l,f+32,y,w+128,1)}function _d(l,f,y,w){var D;for(l=l[f+0]+4,D=0;4>D;++D)for(f=0;4>f;++f)Ni(y,w,f,D,l)}function pn(l,f,y,w){l[f+0]&&yi(l,f+0,y,w),l[f+16]&&yi(l,f+16,y,w+4),l[f+32]&&yi(l,f+32,y,w+128),l[f+48]&&yi(l,f+48,y,w+128+4)}function Fc(l,f,y,w){var D,P=s(16);for(D=0;4>D;++D){var k=l[f+0+D]+l[f+12+D],F=l[f+4+D]+l[f+8+D],j=l[f+4+D]-l[f+8+D],$=l[f+0+D]-l[f+12+D];P[0+D]=k+F,P[8+D]=k-F,P[4+D]=$+j,P[12+D]=$-j}for(D=0;4>D;++D)k=(l=P[0+4*D]+3)+P[3+4*D],F=P[1+4*D]+P[2+4*D],j=P[1+4*D]-P[2+4*D],$=l-P[3+4*D],y[w+0]=k+F>>3,y[w+16]=$+j>>3,y[w+32]=k-F>>3,y[w+48]=$-j>>3,w+=64}function no(l,f,y){var w,D=f-32,P=is,k=255-l[D-1];for(w=0;w<y;++w){var F,j=P,$=k+l[f-1];for(F=0;F<y;++F)l[f+F]=j[$+l[D+F]];f+=32}}function ja(l,f){no(l,f,4)}function jf(l,f){no(l,f,8)}function wd(l,f){no(l,f,16)}function ro(l,f){var y;for(y=0;16>y;++y)r(l,f+32*y,l,f-32,16)}function Vc(l,f){var y;for(y=16;0<y;--y)i(l,f,l[f-1],16),f+=32}function jc(l,f,y){var w;for(w=0;16>w;++w)i(f,y+32*w,l,16)}function bd(l,f){var y,w=16;for(y=0;16>y;++y)w+=l[f-1+32*y]+l[f+y-32];jc(w>>5,l,f)}function Kn(l,f){var y,w=8;for(y=0;16>y;++y)w+=l[f-1+32*y];jc(w>>4,l,f)}function Ss(l,f){var y,w=8;for(y=0;16>y;++y)w+=l[f+y-32];jc(w>>4,l,f)}function Ku(l,f){jc(128,l,f)}function Et(l,f,y){return l+2*f+y+2>>2}function Ed(l,f){var y,w=f-32;for(w=new Uint8Array([Et(l[w-1],l[w+0],l[w+1]),Et(l[w+0],l[w+1],l[w+2]),Et(l[w+1],l[w+2],l[w+3]),Et(l[w+2],l[w+3],l[w+4])]),y=0;4>y;++y)r(l,f+32*y,w,0,w.length)}function Ko(l,f){var y=l[f-1],w=l[f-1+32],D=l[f-1+64],P=l[f-1+96];je(l,f+0,16843009*Et(l[f-1-32],y,w)),je(l,f+32,16843009*Et(y,w,D)),je(l,f+64,16843009*Et(w,D,P)),je(l,f+96,16843009*Et(D,P,P))}function Ts(l,f){var y,w=4;for(y=0;4>y;++y)w+=l[f+y-32]+l[f-1+32*y];for(w>>=3,y=0;4>y;++y)i(l,f+32*y,w,4)}function Id(l,f){var y=l[f-1+0],w=l[f-1+32],D=l[f-1+64],P=l[f-1-32],k=l[f+0-32],F=l[f+1-32],j=l[f+2-32],$=l[f+3-32];l[f+0+96]=Et(w,D,l[f-1+96]),l[f+1+96]=l[f+0+64]=Et(y,w,D),l[f+2+96]=l[f+1+64]=l[f+0+32]=Et(P,y,w),l[f+3+96]=l[f+2+64]=l[f+1+32]=l[f+0+0]=Et(k,P,y),l[f+3+64]=l[f+2+32]=l[f+1+0]=Et(F,k,P),l[f+3+32]=l[f+2+0]=Et(j,F,k),l[f+3+0]=Et($,j,F)}function Sd(l,f){var y=l[f+1-32],w=l[f+2-32],D=l[f+3-32],P=l[f+4-32],k=l[f+5-32],F=l[f+6-32],j=l[f+7-32];l[f+0+0]=Et(l[f+0-32],y,w),l[f+1+0]=l[f+0+32]=Et(y,w,D),l[f+2+0]=l[f+1+32]=l[f+0+64]=Et(w,D,P),l[f+3+0]=l[f+2+32]=l[f+1+64]=l[f+0+96]=Et(D,P,k),l[f+3+32]=l[f+2+64]=l[f+1+96]=Et(P,k,F),l[f+3+64]=l[f+2+96]=Et(k,F,j),l[f+3+96]=Et(F,j,j)}function pi(l,f){var y=l[f-1+0],w=l[f-1+32],D=l[f-1+64],P=l[f-1-32],k=l[f+0-32],F=l[f+1-32],j=l[f+2-32],$=l[f+3-32];l[f+0+0]=l[f+1+64]=P+k+1>>1,l[f+1+0]=l[f+2+64]=k+F+1>>1,l[f+2+0]=l[f+3+64]=F+j+1>>1,l[f+3+0]=j+$+1>>1,l[f+0+96]=Et(D,w,y),l[f+0+64]=Et(w,y,P),l[f+0+32]=l[f+1+96]=Et(y,P,k),l[f+1+32]=l[f+2+96]=Et(P,k,F),l[f+2+32]=l[f+3+96]=Et(k,F,j),l[f+3+32]=Et(F,j,$)}function Qu(l,f){var y=l[f+0-32],w=l[f+1-32],D=l[f+2-32],P=l[f+3-32],k=l[f+4-32],F=l[f+5-32],j=l[f+6-32],$=l[f+7-32];l[f+0+0]=y+w+1>>1,l[f+1+0]=l[f+0+64]=w+D+1>>1,l[f+2+0]=l[f+1+64]=D+P+1>>1,l[f+3+0]=l[f+2+64]=P+k+1>>1,l[f+0+32]=Et(y,w,D),l[f+1+32]=l[f+0+96]=Et(w,D,P),l[f+2+32]=l[f+1+96]=Et(D,P,k),l[f+3+32]=l[f+2+96]=Et(P,k,F),l[f+3+64]=Et(k,F,j),l[f+3+96]=Et(F,j,$)}function Bf(l,f){var y=l[f-1+0],w=l[f-1+32],D=l[f-1+64],P=l[f-1+96];l[f+0+0]=y+w+1>>1,l[f+2+0]=l[f+0+32]=w+D+1>>1,l[f+2+32]=l[f+0+64]=D+P+1>>1,l[f+1+0]=Et(y,w,D),l[f+3+0]=l[f+1+32]=Et(w,D,P),l[f+3+32]=l[f+1+64]=Et(D,P,P),l[f+3+64]=l[f+2+64]=l[f+0+96]=l[f+1+96]=l[f+2+96]=l[f+3+96]=P}function Ba(l,f){var y=l[f-1+0],w=l[f-1+32],D=l[f-1+64],P=l[f-1+96],k=l[f-1-32],F=l[f+0-32],j=l[f+1-32],$=l[f+2-32];l[f+0+0]=l[f+2+32]=y+k+1>>1,l[f+0+32]=l[f+2+64]=w+y+1>>1,l[f+0+64]=l[f+2+96]=D+w+1>>1,l[f+0+96]=P+D+1>>1,l[f+3+0]=Et(F,j,$),l[f+2+0]=Et(k,F,j),l[f+1+0]=l[f+3+32]=Et(y,k,F),l[f+1+32]=l[f+3+64]=Et(w,y,k),l[f+1+64]=l[f+3+96]=Et(D,w,y),l[f+1+96]=Et(P,D,w)}function Bc(l,f){var y;for(y=0;8>y;++y)r(l,f+32*y,l,f-32,8)}function Uc(l,f){var y;for(y=0;8>y;++y)i(l,f,l[f-1],8),f+=32}function es(l,f,y){var w;for(w=0;8>w;++w)i(f,y+32*w,l,8)}function Ri(l,f){var y,w=8;for(y=0;8>y;++y)w+=l[f+y-32]+l[f-1+32*y];es(w>>4,l,f)}function Td(l,f){var y,w=4;for(y=0;8>y;++y)w+=l[f+y-32];es(w>>3,l,f)}function io(l,f){var y,w=4;for(y=0;8>y;++y)w+=l[f-1+32*y];es(w>>3,l,f)}function En(l,f){es(128,l,f)}function qc(l,f,y){var w=l[f-y],D=l[f+0],P=3*(D-w)+qw[1020+l[f-2*y]-l[f+y]],k=lm[112+(P+4>>3)];l[f-y]=is[255+w+lm[112+(P+3>>3)]],l[f+0]=is[255+D-k]}function Cd(l,f,y,w){var D=l[f+0],P=l[f+y];return ks[255+l[f-2*y]-l[f-y]]>w||ks[255+P-D]>w}function Yu(l,f,y,w){return 4*ks[255+l[f-y]-l[f+0]]+ks[255+l[f-2*y]-l[f+y]]<=w}function Zu(l,f,y,w,D){var P=l[f-3*y],k=l[f-2*y],F=l[f-y],j=l[f+0],$=l[f+y],ee=l[f+2*y],pe=l[f+3*y];return 4*ks[255+F-j]+ks[255+k-$]>w?0:ks[255+l[f-4*y]-P]<=D&&ks[255+P-k]<=D&&ks[255+k-F]<=D&&ks[255+pe-ee]<=D&&ks[255+ee-$]<=D&&ks[255+$-j]<=D}function Ju(l,f,y,w){var D=2*w+1;for(w=0;16>w;++w)Yu(l,f+w,y,D)&&qc(l,f+w,y)}function gi(l,f,y,w){var D=2*w+1;for(w=0;16>w;++w)Yu(l,f+w*y,1,D)&&qc(l,f+w*y,1)}function Cs(l,f,y,w){var D;for(D=3;0<D;--D)Ju(l,f+=4*y,y,w)}function ts(l,f,y,w){var D;for(D=3;0<D;--D)gi(l,f+=4,y,w)}function so(l,f,y,w,D,P,k,F){for(P=2*P+1;0<D--;){if(Zu(l,f,y,P,k))if(Cd(l,f,y,F))qc(l,f,y);else{var j=l,$=f,ee=y,pe=j[$-2*ee],ge=j[$-ee],ce=j[$+0],Ne=j[$+ee],Se=j[$+2*ee],te=27*(Ae=qw[1020+3*(ce-ge)+qw[1020+pe-Ne]])+63>>7,re=18*Ae+63>>7,Ae=9*Ae+63>>7;j[$-3*ee]=is[255+j[$-3*ee]+Ae],j[$-2*ee]=is[255+pe+re],j[$-ee]=is[255+ge+te],j[$+0]=is[255+ce-te],j[$+ee]=is[255+Ne-re],j[$+2*ee]=is[255+Se-Ae]}f+=w}}function ns(l,f,y,w,D,P,k,F){for(P=2*P+1;0<D--;){if(Zu(l,f,y,P,k))if(Cd(l,f,y,F))qc(l,f,y);else{var j=l,$=f,ee=y,pe=j[$-ee],ge=j[$+0],ce=j[$+ee],Ne=lm[112+((Se=3*(ge-pe))+4>>3)],Se=lm[112+(Se+3>>3)],te=Ne+1>>1;j[$-2*ee]=is[255+j[$-2*ee]+te],j[$-ee]=is[255+pe+Se],j[$+0]=is[255+ge-Ne],j[$+ee]=is[255+ce-te]}f+=w}}function oo(l,f,y,w,D,P){so(l,f,y,1,16,w,D,P)}function Qo(l,f,y,w,D,P){so(l,f,1,y,16,w,D,P)}function Xu(l,f,y,w,D,P){var k;for(k=3;0<k;--k)ns(l,f+=4*y,y,1,16,w,D,P)}function ao(l,f,y,w,D,P){var k;for(k=3;0<k;--k)ns(l,f+=4,1,y,16,w,D,P)}function Ad(l,f,y,w,D,P,k,F){so(l,f,D,1,8,P,k,F),so(y,w,D,1,8,P,k,F)}function Yo(l,f,y,w,D,P,k,F){so(l,f,1,D,8,P,k,F),so(y,w,1,D,8,P,k,F)}function el(l,f,y,w,D,P,k,F){ns(l,f+4*D,D,1,8,P,k,F),ns(y,w+4*D,D,1,8,P,k,F)}function tl(l,f,y,w,D,P,k,F){ns(l,f+4,1,D,8,P,k,F),ns(y,w+4,1,D,8,P,k,F)}function As(){this.ba=new Ci,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $c(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hc(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new C}function nl(){this.xb=this.a=0,this.l=new La,this.ca=new Ci,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hc,this.ab=0,this.gc=o(4,zc),this.Oc=0}function Ua(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new La,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ds(l,f,y,w,D,P,k){for(l=l==null?0:l[f+0],f=0;f<k;++f)D[P+f]=l+y[w+f]&255,l=D[P+f]}function Wc(l,f,y,w,D,P,k){var F;if(l==null)Ds(null,null,y,w,D,P,k);else for(F=0;F<k;++F)D[P+F]=l[f+F]+y[w+F]&255}function co(l,f,y,w,D,P,k){if(l==null)Ds(null,null,y,w,D,P,k);else{var F,j=l[f+0],$=j,ee=j;for(F=0;F<k;++F)$=ee+(j=l[f+F])-$,ee=y[w+F]+(-256&$?0>$?0:255:$)&255,$=j,D[P+F]=ee}}function rs(l,f,y,w){var D=f.width,P=f.o;if(e(l!=null&&f!=null),0>y||0>=w||y+w>P)return null;if(!l.Cc){if(l.ga==null){var k;if(l.ga=new Ua,(k=l.ga==null)||(k=f.width*f.o,e(l.Gb.length==0),l.Gb=s(k),l.Uc=0,l.Gb==null?k=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,k=1),k=!k),!k){k=l.ga;var F=l.Fa,j=l.P,$=l.qc,ee=l.mb,pe=l.nb,ge=j+1,ce=$-1,Ne=k.l;if(e(F!=null&&ee!=null&&f!=null),Jc[0]=null,Jc[1]=Ds,Jc[2]=Wc,Jc[3]=co,k.ca=ee,k.tb=pe,k.c=f.width,k.i=f.height,e(0<k.c&&0<k.i),1>=$)f=0;else if(k.$a=F[j+0]>>0&3,k.Z=F[j+0]>>2&3,k.Lc=F[j+0]>>4&3,j=F[j+0]>>6&3,0>k.$a||1<k.$a||4<=k.Z||1<k.Lc||j)f=0;else if(Ne.put=Ki,Ne.ac=Wn,Ne.bc=Jr,Ne.ma=k,Ne.width=f.width,Ne.height=f.height,Ne.Da=f.Da,Ne.v=f.v,Ne.va=f.va,Ne.j=f.j,Ne.o=f.o,k.$a)e:{e(k.$a==1),f=zr();t:for(;;){if(f==null){f=0;break e}if(e(k!=null),k.mc=f,f.c=k.c,f.i=k.i,f.l=k.l,f.l.ma=k,f.l.width=k.c,f.l.height=k.i,f.a=0,Z(f.m,F,ge,ce),!Nr(k.c,k.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&to(f.s)?(k.ic=1,F=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(F),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(k.ic=0,f=Ho(f,k.c)),!f))break t;f=1;break e}k.mc=null,f=0}else f=ce>=k.c*k.i;k=!f}if(k)return null;l.ga.Lc!=1?l.Ga=0:w=P-y}e(l.ga!=null),e(y+w<=P);e:{if(f=(F=l.ga).c,P=F.l.o,F.$a==0){if(ge=l.rc,ce=l.Vc,Ne=l.Fa,j=l.P+1+y*f,$=l.mb,ee=l.nb+y*f,e(j<=l.P+l.qc),F.Z!=0)for(e(Jc[F.Z]!=null),k=0;k<w;++k)Jc[F.Z](ge,ce,Ne,j,$,ee,f),ge=$,ce=ee,ee+=f,j+=f;else for(k=0;k<w;++k)r($,ee,Ne,j,f),ge=$,ce=ee,ee+=f,j+=f;l.rc=ge,l.Vc=ce}else{if(e(F.mc!=null),f=y+w,e((k=F.mc)!=null),e(f<=k.i),k.C>=f)f=1;else if(F.ic||de(),F.ic){F=k.V,ge=k.Ba,ce=k.c;var Se=k.i,te=(Ne=1,j=k.$/ce,$=k.$%ce,ee=k.m,pe=k.s,k.$),re=ce*Se,Ae=ce*f,Pe=pe.wc,De=te<Ae?Gn(pe,$,j):null;e(te<=re),e(f<=Se),e(to(pe));t:for(;;){for(;!ee.h&&te<Ae;){if($&Pe||(De=Gn(pe,$,j)),e(De!=null),se(ee),256>(Se=mr(De.G[0],De.H[0],ee)))F[ge+te]=Se,++te,++$>=ce&&($=0,++j<=f&&!(j%16)&&Xr(k,j));else{if(!(280>Se)){Ne=0;break t}Se=Cn(Se-256,ee);var Xe,ze=mr(De.G[4],De.H[4],ee);if(se(ee),!(te>=(ze=Qi(ce,ze=Cn(ze,ee)))&&re-te>=Se)){Ne=0;break t}for(Xe=0;Xe<Se;++Xe)F[ge+te+Xe]=F[ge+te+Xe-ze];for(te+=Se,$+=Se;$>=ce;)$-=ce,++j<=f&&!(j%16)&&Xr(k,j);te<Ae&&$&Pe&&(De=Gn(pe,$,j))}e(ee.h==H(ee))}Xr(k,j>f?f:j);break t}!Ne||ee.h&&te<re?(Ne=0,k.a=ee.h?5:3):k.$=te,f=Ne}else f=Ai(k,k.V,k.Ba,k.c,k.i,f,Pa);if(!f){w=0;break e}}y+w>=P&&(l.Cc=1),w=1}if(!w)return null;if(l.Cc&&((w=l.ga)!=null&&(w.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+y*D}function m(l,f,y,w,D,P){for(;0<D--;){var k,F=l,j=f+(y?1:0),$=l,ee=f+(y?0:3);for(k=0;k<w;++k){var pe=$[ee+4*k];pe!=255&&(pe*=32897,F[j+4*k+0]=F[j+4*k+0]*pe>>23,F[j+4*k+1]=F[j+4*k+1]*pe>>23,F[j+4*k+2]=F[j+4*k+2]*pe>>23)}f+=P}}function A(l,f,y,w,D){for(;0<w--;){var P;for(P=0;P<y;++P){var k=l[f+2*P+0],F=15&($=l[f+2*P+1]),j=4369*F,$=(240&$|$>>4)*j>>16;l[f+2*P+0]=(240&k|k>>4)*j>>16&240|(15&k|k<<4)*j>>16>>4&15,l[f+2*P+1]=240&$|F}f+=D}}function z(l,f,y,w,D,P,k,F){var j,$,ee=255;for($=0;$<D;++$){for(j=0;j<w;++j){var pe=l[f+j];P[k+4*j]=pe,ee&=pe}f+=y,k+=F}return ee!=255}function J(l,f,y,w,D){var P;for(P=0;P<D;++P)y[w+P]=l[f+P]>>8}function de(){Ms=m,kn=A,On=z,or=J}function we(l,f,y){T[l]=function(w,D,P,k,F,j,$,ee,pe,ge,ce,Ne,Se,te,re,Ae,Pe){var De,Xe=Pe-1>>1,ze=F[j+0]|$[ee+0]<<16,dt=pe[ge+0]|ce[Ne+0]<<16;e(w!=null);var Ke=3*ze+dt+131074>>2;for(f(w[D+0],255&Ke,Ke>>16,Se,te),P!=null&&(Ke=3*dt+ze+131074>>2,f(P[k+0],255&Ke,Ke>>16,re,Ae)),De=1;De<=Xe;++De){var un=F[j+De]|$[ee+De]<<16,_n=pe[ge+De]|ce[Ne+De]<<16,an=ze+un+dt+_n+524296,Zt=an+2*(un+dt)>>3;Ke=Zt+ze>>1,ze=(an=an+2*(ze+_n)>>3)+un>>1,f(w[D+2*De-1],255&Ke,Ke>>16,Se,te+(2*De-1)*y),f(w[D+2*De-0],255&ze,ze>>16,Se,te+(2*De-0)*y),P!=null&&(Ke=an+dt>>1,ze=Zt+_n>>1,f(P[k+2*De-1],255&Ke,Ke>>16,re,Ae+(2*De-1)*y),f(P[k+2*De+0],255&ze,ze>>16,re,Ae+(2*De+0)*y)),ze=un,dt=_n}1&Pe||(Ke=3*ze+dt+131074>>2,f(w[D+Pe-1],255&Ke,Ke>>16,Se,te+(Pe-1)*y),P!=null&&(Ke=3*dt+ze+131074>>2,f(P[k+Pe-1],255&Ke,Ke>>16,re,Ae+(Pe-1)*y)))}}function Me(){Os[dm]=_V,Os[hm]=oD,Os[tD]=wV,Os[fm]=aD,Os[pm]=cD,Os[$w]=uD,Os[nD]=bV,Os[zw]=oD,Os[Hw]=aD,Os[gm]=cD,Os[Ww]=uD}function Ye(l){return l&~EV?0>l?0:255:l>>lD}function st(l,f){return Ye((19077*l>>8)+(26149*f>>8)-14234)}function d(l,f,y){return Ye((19077*l>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function _(l,f){return Ye((19077*l>>8)+(33050*f>>8)-17685)}function b(l,f,y,w,D){w[D+0]=st(l,y),w[D+1]=d(l,f,y),w[D+2]=_(l,f)}function L(l,f,y,w,D){w[D+0]=_(l,f),w[D+1]=d(l,f,y),w[D+2]=st(l,y)}function ne(l,f,y,w,D){var P=d(l,f,y);f=P<<3&224|_(l,f)>>3,w[D+0]=248&st(l,y)|P>>5,w[D+1]=f}function fe(l,f,y,w,D){var P=240&_(l,f)|15;w[D+0]=240&st(l,y)|d(l,f,y)>>4,w[D+1]=P}function Ve(l,f,y,w,D){w[D+0]=255,b(l,f,y,w,D+1)}function Tt(l,f,y,w,D){L(l,f,y,w,D),w[D+3]=255}function vn(l,f,y,w,D){b(l,f,y,w,D),w[D+3]=255}function Ct(l,f){return 0>l?0:l>f?f:l}function An(l,f,y){T[l]=function(w,D,P,k,F,j,$,ee,pe){for(var ge=ee+(-2&pe)*y;ee!=ge;)f(w[D+0],P[k+0],F[j+0],$,ee),f(w[D+1],P[k+0],F[j+0],$,ee+y),D+=2,++k,++j,ee+=2*y;1&pe&&f(w[D+0],P[k+0],F[j+0],$,ee)}}function ir(l,f,y){return y==0?l==0?f==0?6:5:f==0?4:0:y}function Ns(l,f,y,w,D){switch(l>>>30){case 3:Ha(f,y,w,D,0);break;case 2:sr(f,y,w,D);break;case 1:yi(f,y,w,D)}}function Hr(l,f){var y,w,D=f.M,P=f.Nb,k=l.oc,F=l.pc+40,j=l.oc,$=l.pc+584,ee=l.oc,pe=l.pc+600;for(y=0;16>y;++y)k[F+32*y-1]=129;for(y=0;8>y;++y)j[$+32*y-1]=129,ee[pe+32*y-1]=129;for(0<D?k[F-1-32]=j[$-1-32]=ee[pe-1-32]=129:(i(k,F-32-1,127,21),i(j,$-32-1,127,9),i(ee,pe-32-1,127,9)),w=0;w<l.za;++w){var ge=f.ya[f.aa+w];if(0<w){for(y=-1;16>y;++y)r(k,F+32*y-4,k,F+32*y+12,4);for(y=-1;8>y;++y)r(j,$+32*y-4,j,$+32*y+4,4),r(ee,pe+32*y-4,ee,pe+32*y+4,4)}var ce=l.Gd,Ne=l.Hd+w,Se=ge.ad,te=ge.Hc;if(0<D&&(r(k,F-32,ce[Ne].y,0,16),r(j,$-32,ce[Ne].f,0,8),r(ee,pe-32,ce[Ne].ea,0,8)),ge.Za){var re=k,Ae=F-32+16;for(0<D&&(w>=l.za-1?i(re,Ae,ce[Ne].y[15],4):r(re,Ae,ce[Ne+1].y,0,4)),y=0;4>y;y++)re[Ae+128+y]=re[Ae+256+y]=re[Ae+384+y]=re[Ae+0+y];for(y=0;16>y;++y,te<<=2)re=k,Ae=F+hD[y],lo[ge.Ob[y]](re,Ae),Ns(te,Se,16*+y,re,Ae)}else if(re=ir(w,D,ge.Ob[0]),Zc[re](k,F),te!=0)for(y=0;16>y;++y,te<<=2)Ns(te,Se,16*+y,k,F+hD[y]);for(y=ge.Gc,re=ir(w,D,ge.Dd),Ga[re](j,$),Ga[re](ee,pe),te=Se,re=j,Ae=$,255&(ge=y>>0)&&(170&ge?zf(te,256,re,Ae):Rs(te,256,re,Ae)),ge=ee,te=pe,255&(y>>=8)&&(170&y?zf(Se,320,ge,te):Rs(Se,320,ge,te)),D<l.Ub-1&&(r(ce[Ne].y,0,k,F+480,16),r(ce[Ne].f,0,j,$+224,8),r(ce[Ne].ea,0,ee,pe+224,8)),y=8*P*l.B,ce=l.sa,Ne=l.ta+16*w+16*P*l.R,Se=l.qa,ge=l.ra+8*w+y,te=l.Ha,re=l.Ia+8*w+y,y=0;16>y;++y)r(ce,Ne+y*l.R,k,F+32*y,16);for(y=0;8>y;++y)r(Se,ge+y*l.B,j,$+32*y,8),r(te,re+y*l.B,ee,pe+32*y,8)}}function uo(l,f,y,w,D,P,k,F,j){var $=[0],ee=[0],pe=0,ge=j!=null?j.kd:0,ce=j??new $c;if(l==null||12>y)return 7;ce.data=l,ce.w=f,ce.ha=y,f=[f],y=[y],ce.gb=[ce.gb];e:{var Ne=f,Se=y,te=ce.gb;if(e(l!=null),e(Se!=null),e(te!=null),te[0]=0,12<=Se[0]&&!t(l,Ne[0],"RIFF")){if(t(l,Ne[0]+8,"WEBP")){te=3;break e}var re=$e(l,Ne[0]+4);if(12>re||4294967286<re){te=3;break e}if(ge&&re>Se[0]-8){te=7;break e}te[0]=re,Ne[0]+=12,Se[0]-=12}te=0}if(te!=0)return te;for(re=0<ce.gb[0],y=y[0];;){e:{var Ae=l;Se=f,te=y;var Pe=$,De=ee,Xe=Ne=[0];if((Ke=pe=[pe])[0]=0,8>te[0])te=7;else{if(!t(Ae,Se[0],"VP8X")){if($e(Ae,Se[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var ze=$e(Ae,Se[0]+8),dt=1+He(Ae,Se[0]+12);if(2147483648<=dt*(Ae=1+He(Ae,Se[0]+15))){te=3;break e}Xe!=null&&(Xe[0]=ze),Pe!=null&&(Pe[0]=dt),De!=null&&(De[0]=Ae),Se[0]+=18,te[0]-=18,Ke[0]=1}te=0}}if(pe=pe[0],Ne=Ne[0],te!=0)return te;if(Se=!!(2&Ne),!re&&pe)return 3;if(P!=null&&(P[0]=!!(16&Ne)),k!=null&&(k[0]=Se),F!=null&&(F[0]=0),k=$[0],Ne=ee[0],pe&&Se&&j==null){te=0;break}if(4>y){te=7;break}if(re&&pe||!re&&!pe&&!t(l,f[0],"ALPH")){y=[y],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{ze=l,te=f,re=y;var Ke=ce.gb;Pe=ce.na,De=ce.P,Xe=ce.Sa,dt=22,e(ze!=null),e(re!=null),Ae=te[0];var un=re[0];for(e(Pe!=null),e(Xe!=null),Pe[0]=null,De[0]=null,Xe[0]=0;;){if(te[0]=Ae,re[0]=un,8>un){te=7;break e}var _n=$e(ze,Ae+4);if(4294967286<_n){te=3;break e}var an=8+_n+1&-2;if(dt+=an,0<Ke&&dt>Ke){te=3;break e}if(!t(ze,Ae,"VP8 ")||!t(ze,Ae,"VP8L")){te=0;break e}if(un[0]<an){te=7;break e}t(ze,Ae,"ALPH")||(Pe[0]=ze,De[0]=Ae+8,Xe[0]=_n),Ae+=an,un-=an}}if(y=y[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],te!=0)break}y=[y],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Ke=l,te=f,re=y,Pe=ce.gb[0],De=ce.Ja,Xe=ce.xa,ze=te[0],Ae=!t(Ke,ze,"VP8 "),dt=!t(Ke,ze,"VP8L"),e(Ke!=null),e(re!=null),e(De!=null),e(Xe!=null),8>re[0])te=7;else{if(Ae||dt){if(Ke=$e(Ke,ze+4),12<=Pe&&Ke>Pe-12){te=3;break e}if(ge&&Ke>re[0]-8){te=7;break e}De[0]=Ke,te[0]+=8,re[0]-=8,Xe[0]=dt}else Xe[0]=5<=re[0]&&Ke[ze+0]==47&&!(Ke[ze+4]>>5),De[0]=re[0];te=0}if(y=y[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],f=f[0],te!=0)break;if(4294967286<ce.Ja)return 3;if(F==null||Se||(F[0]=ce.xa?2:1),k=[k],Ne=[Ne],ce.xa){if(5>y){te=7;break}F=k,ge=Ne,Se=P,l==null||5>y?l=0:5<=y&&l[f+0]==47&&!(l[f+4]>>5)?(re=[0],Ke=[0],Pe=[0],Z(De=new M,l,f,y),ut(De,re,Ke,Pe)?(F!=null&&(F[0]=re[0]),ge!=null&&(ge[0]=Ke[0]),Se!=null&&(Se[0]=Pe[0]),l=1):l=0):l=0}else{if(10>y){te=7;break}F=Ne,l==null||10>y||!Oc(l,f+3,y-3)?l=0:(ge=l[f+0]|l[f+1]<<8|l[f+2]<<16,Se=16383&(l[f+7]<<8|l[f+6]),l=16383&(l[f+9]<<8|l[f+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=ce.Ja||!Se||!l?l=0:(k&&(k[0]=Se),F&&(F[0]=l),l=1))}if(!l||(k=k[0],Ne=Ne[0],pe&&($[0]!=k||ee[0]!=Ne)))return 3;j!=null&&(j[0]=ce,j.offset=f-j.w,e(4294967286>f-j.w),e(j.offset==j.ha-y));break}return te==0||te==7&&pe&&j==null?(P!=null&&(P[0]|=ce.na!=null&&0<ce.na.length),w!=null&&(w[0]=k),D!=null&&(D[0]=Ne),0):te}function qa(l,f,y){var w=f.width,D=f.height,P=0,k=0,F=w,j=D;if(f.Da=l!=null&&0<l.Da,f.Da&&(F=l.cd,j=l.bd,P=l.v,k=l.j,11>y||(P&=-2,k&=-2),0>P||0>k||0>=F||0>=j||P+F>w||k+j>D))return 0;if(f.v=P,f.j=k,f.va=P+F,f.o=k+j,f.U=F,f.T=j,f.da=l!=null&&0<l.da,f.da){if(!St(F,j,y=[l.ib],P=[l.hb]))return 0;f.ib=y[0],f.hb=P[0]}return f.ob=l!=null&&l.ob,f.Kb=l==null||!l.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*D/4,f.Kb=0),1}function Uf(l){if(l==null)return 2;if(11>l.S){var f=l.f.RGBA;f.fb+=(l.height-1)*f.A,f.A=-f.A}else f=l.f.kb,l=l.height,f.O+=(l-1)*f.fa,f.fa=-f.fa,f.N+=(l-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(l-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(l-1)*f.lb,f.lb=-f.lb);return 0}function Dd(l,f,y,w){if(w==null||0>=l||0>=f)return 2;if(y!=null){if(y.Da){var D=y.cd,P=y.bd,k=-2&y.v,F=-2&y.j;if(0>k||0>F||0>=D||0>=P||k+D>l||F+P>f)return 2;l=D,f=P}if(y.da){if(!St(l,f,D=[y.ib],P=[y.hb]))return 2;l=D[0],f=P[0]}}w.width=l,w.height=f;e:{var j=w.width,$=w.height;if(l=w.S,0>=j||0>=$||!(l>=dm&&13>l))l=2;else{if(0>=w.Rd&&w.sd==null){k=P=D=f=0;var ee=(F=j*fD[l])*$;if(11>l||(P=($+1)/2*(f=(j+1)/2),l==12&&(k=(D=j)*$)),($=s(ee+2*P+k))==null){l=1;break e}w.sd=$,11>l?((j=w.f.RGBA).eb=$,j.fb=0,j.A=F,j.size=ee):((j=w.f.kb).y=$,j.O=0,j.fa=F,j.Fd=ee,j.f=$,j.N=0+ee,j.Ab=f,j.Cd=P,j.ea=$,j.W=0+ee+P,j.Db=f,j.Ed=P,l==12&&(j.F=$,j.J=0+ee+2*P),j.Tc=k,j.lb=D)}if(f=1,D=w.S,P=w.width,k=w.height,D>=dm&&13>D)if(11>D)l=w.f.RGBA,f&=(F=Math.abs(l.A))*(k-1)+P<=l.size,f&=F>=P*fD[D],f&=l.eb!=null;else{l=w.f.kb,F=(P+1)/2,ee=(k+1)/2,j=Math.abs(l.fa),$=Math.abs(l.Ab);var pe=Math.abs(l.Db),ge=Math.abs(l.lb),ce=ge*(k-1)+P;f&=j*(k-1)+P<=l.Fd,f&=$*(ee-1)+F<=l.Cd,f=(f&=pe*(ee-1)+F<=l.Ed)&j>=P&$>=F&pe>=F,f&=l.y!=null,f&=l.f!=null,f&=l.ea!=null,D==12&&(f&=ge>=P,f&=ce<=l.Tc,f&=l.F!=null)}else f=0;l=f?0:2}}return l!=0||y!=null&&y.fd&&(l=Uf(w)),l}var Wr=64,Nd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xd=24,Rd=32,qf=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(l){return l},T.Predictor2=function(l,f,y){return f[y+0]},T.Predictor3=function(l,f,y){return f[y+1]},T.Predictor4=function(l,f,y){return f[y-1]},T.Predictor5=function(l,f,y){return We(We(l,f[y+1]),f[y+0])},T.Predictor6=function(l,f,y){return We(l,f[y-1])},T.Predictor7=function(l,f,y){return We(l,f[y+0])},T.Predictor8=function(l,f,y){return We(f[y-1],f[y+0])},T.Predictor9=function(l,f,y){return We(f[y+0],f[y+1])},T.Predictor10=function(l,f,y){return We(We(l,f[y-1]),We(f[y+0],f[y+1]))},T.Predictor11=function(l,f,y){var w=f[y+0];return 0>=Dt(w>>24&255,l>>24&255,(f=f[y-1])>>24&255)+Dt(w>>16&255,l>>16&255,f>>16&255)+Dt(w>>8&255,l>>8&255,f>>8&255)+Dt(255&w,255&l,255&f)?w:l},T.Predictor12=function(l,f,y){var w=f[y+0];return(ot((l>>24&255)+(w>>24&255)-((f=f[y-1])>>24&255))<<24|ot((l>>16&255)+(w>>16&255)-(f>>16&255))<<16|ot((l>>8&255)+(w>>8&255)-(f>>8&255))<<8|ot((255&l)+(255&w)-(255&f)))>>>0},T.Predictor13=function(l,f,y){var w=f[y-1];return(wt((l=We(l,f[y+0]))>>24&255,w>>24&255)<<24|wt(l>>16&255,w>>16&255)<<16|wt(l>>8&255,w>>8&255)<<8|wt(l>>0&255,w>>0&255))>>>0};var Uw=T.PredictorAdd0;T.PredictorAdd1=Ot,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var $f=T.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var sm,xs=T.ColorIndexInverseTransform,Pd=T.MapARGB,om=T.VP8LColorIndexInverseTransformAlpha,am=T.MapAlpha,Gc=T.VP8LPredictorsAdd=[];Gc.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var rl,Mi,mi,Kc,$a,za,Md,Ha,sr,zf,yi,Rs,kd,cm,Hf,il,sl,Qc,ol,Od,al,Yc,Wf,Ps,Ms,kn,On,or,xr=s(511),Wa=s(2041),Gf=s(225),Ld=s(767),um=0,qw=Wa,lm=Gf,is=Ld,ks=xr,dm=0,hm=1,tD=2,fm=3,pm=4,$w=5,nD=6,zw=7,Hw=8,gm=9,Ww=10,sV=[2,3,7],oV=[3,3,11],rD=[280,256,256,256,40],aV=[0,1,1,1,0],cV=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uV=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lV=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],dV=8,Gw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kf=null,hV=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fV=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pV=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gV=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mV=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yV=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zc=[],lo=[],Ga=[],vV=1,sD=2,Jc=[],Os=[];we("UpsampleRgbLinePair",b,3),we("UpsampleBgrLinePair",L,3),we("UpsampleRgbaLinePair",vn,4),we("UpsampleBgraLinePair",Tt,4),we("UpsampleArgbLinePair",Ve,4),we("UpsampleRgba4444LinePair",fe,2),we("UpsampleRgb565LinePair",ne,2);var _V=T.UpsampleRgbLinePair,wV=T.UpsampleBgrLinePair,oD=T.UpsampleRgbaLinePair,aD=T.UpsampleBgraLinePair,cD=T.UpsampleArgbLinePair,uD=T.UpsampleRgba4444LinePair,bV=T.UpsampleRgb565LinePair,mm=16,ym=1<<mm-1,Qf=-227,Qw=482,lD=6,EV=(256<<lD)-1,dD=0,IV=s(256),SV=s(256),TV=s(256),CV=s(256),AV=s(Qw-Qf),DV=s(Qw-Qf);An("YuvToRgbRow",b,3),An("YuvToBgrRow",L,3),An("YuvToRgbaRow",vn,4),An("YuvToBgraRow",Tt,4),An("YuvToArgbRow",Ve,4),An("YuvToRgba4444Row",fe,2),An("YuvToRgb565Row",ne,2);var hD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vm=[0,2,8],NV=[8,7,6,4,4,2,2,2,1,1,1,1],xV=1;this.WebPDecodeRGBA=function(l,f,y,w,D){var P=hm,k=new As,F=new Ci;k.ba=F,F.S=P,F.width=[F.width],F.height=[F.height];var j=F.width,$=F.height,ee=new hi;if(ee==null||l==null)var pe=2;else e(ee!=null),pe=uo(l,f,y,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(pe!=0?j=0:(j!=null&&(j[0]=ee.width[0]),$!=null&&($[0]=ee.height[0]),j=1),j){F.width=F.width[0],F.height=F.height[0],w!=null&&(w[0]=F.width),D!=null&&(D[0]=F.height);e:{if(w=new La,(D=new $c).data=l,D.w=f,D.ha=y,D.kd=1,f=[0],e(D!=null),((l=uo(D.data,D.w,D.ha,null,null,null,f,null,D))==0||l==7)&&f[0]&&(l=4),(f=l)==0){if(e(k!=null),w.data=D.data,w.w=D.w+D.offset,w.ha=D.ha-D.offset,w.put=Ki,w.ac=Wn,w.bc=Jr,w.ma=k,D.xa){if((l=zr())==null){k=1;break e}if(function(ge,ce){var Ne=[0],Se=[0],te=[0];t:for(;;){if(ge==null)return 0;if(ce==null)return ge.a=2,0;if(ge.l=ce,ge.a=0,Z(ge.m,ce.data,ce.w,ce.ha),!ut(ge.m,Ne,Se,te)){ge.a=3;break t}if(ge.xb=sD,ce.width=Ne[0],ce.height=Se[0],!Nr(Ne[0],Se[0],1,ge,null))break t;return 1}return e(ge.a!=0),0}(l,w)){if(w=(f=Dd(w.width,w.height,k.Oa,k.ba))==0){t:{w=l;n:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((y=w.l)!=null),e((D=y.ma)!=null),w.xb!=0){if(w.ca=D.ba,w.tb=D.tb,e(w.ca!=null),!qa(D.Oa,y,fm)){w.a=2;break n}if(!Ho(w,y.width)||y.da)break n;if((y.da||cn(w.ca.S))&&de(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&de()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!ct(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!Ai(w,w.V,w.Ba,w.c,w.i,y.o,Yi))break n;D.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(f=l.a)}else f=l.a}else{if((l=new vd)==null){k=1;break e}if(l.Fa=D.na,l.P=D.P,l.qc=D.Sa,Hu(l,w)){if((f=Dd(w.width,w.height,k.Oa,k.ba))==0){if(l.Aa=0,y=k.Oa,e((D=l)!=null),y!=null){if(0<(j=0>(j=y.Md)?0:100<j?255:255*j/100)){for($=ee=0;4>$;++$)12>(pe=D.pb[$]).lc&&(pe.ia=j*NV[0>pe.lc?0:pe.lc]>>3),ee|=pe.ia;ee&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=y.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}Vf(l,w)||(f=l.a)}}else f=l.a}f==0&&k.Oa!=null&&k.Oa.fd&&(f=Uf(k.ba))}k=f}P=k!=0?null:11>P?F.f.RGBA.eb:F.f.kb.y}else P=null;return P};var fD=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,O){for(var U="",I=0;I<4;I++)U+=String.fromCharCode(T[O++]);return U}function h(T,O){return(T[O+0]<<0|T[O+1]<<8|T[O+2]<<16)>>>0}function g(T,O){return(T[O+0]<<0|T[O+1]<<8|T[O+2]<<16|T[O+3]<<24)>>>0}new c;var v=[0],p=[0],E=[],S=new c,R=n,x=function(T,O){var U={},I=0,C=!1,N=0,Q=0;if(U.frames=[],!function(q,H,Y,se){for(var le=0;le<se;le++)if(q[H+le]!=Y.charCodeAt(le))return!0;return!1}(T,O,"RIFF",4)){for(g(T,O+=4),O+=8;O<T.length;){var be=u(T,O),X=g(T,O+=4);O+=4;var ie=X+(1&X);switch(be){case"VP8 ":case"VP8L":U.frames[I]===void 0&&(U.frames[I]={}),(_e=U.frames[I]).src_off=C?Q:O-8,_e.src_size=N+X+8,I++,C&&(C=!1,N=0,Q=0);break;case"VP8X":(_e=U.header={}).feature_flags=T[O];var Z=O+4;_e.canvas_width=1+h(T,Z),Z+=3,_e.canvas_height=1+h(T,Z),Z+=3;break;case"ALPH":C=!0,N=ie+8,Q=O-8;break;case"ANIM":(_e=U.header).bgcolor=g(T,O),Z=O+4,_e.loop_count=(Ue=T)[(M=Z)+0]<<0|Ue[M+1]<<8,Z+=2;break;case"ANMF":var he,_e;(_e=U.frames[I]={}).offset_x=2*h(T,O),O+=3,_e.offset_y=2*h(T,O),O+=3,_e.width=1+h(T,O),O+=3,_e.height=1+h(T,O),O+=3,_e.duration=h(T,O),O+=3,he=T[O++],_e.dispose=1&he,_e.blend=he>>1&1}be!="ANMF"&&(O+=ie)}var Ue,M;return U}}(R,0);x.response=R,x.rgbaoutput=!0,x.dataurl=!1;var B=x.header?x.header:null,W=x.frames?x.frames:null;if(B){B.loop_counter=B.loop_count,v=[B.canvas_height],p=[B.canvas_width];for(var oe=0;oe<W.length&&W[oe].blend!=0;oe++);}var ve=W[0],Ie=S.WebPDecodeRGBA(R,ve.src_off,ve.src_size,p,v);ve.rgba=Ie,ve.imgwidth=p[0],ve.imgheight=v[0];for(var V=0;V<p[0]*v[0]*4;V++)E[V]=Ie[V];return this.width=p,this.height=v,this.data=E,this}(function(n){var e=function(){return typeof Sw=="function"},t=function(v,p,E,S){var R=4,x=o;switch(S){case n.image_compression.FAST:R=1,x=s;break;case n.image_compression.MEDIUM:R=6,x=a;break;case n.image_compression.SLOW:R=9,x=c}v=r(v,p,E,x);var B=Sw(v,{level:R});return n.__addimage__.arrayBufferToBinaryString(B)},r=function(v,p,E,S){for(var R,x,B,W=v.length/p,oe=new Uint8Array(v.length+W),ve=h(),Ie=0;Ie<W;Ie+=1){if(B=Ie*p,R=v.subarray(B,B+p),S)oe.set(S(R,E,x),B+Ie);else{for(var V,T=ve.length,O=[];V<T;V+=1)O[V]=ve[V](R,E,x);var U=g(O.concat());oe.set(O[U],B+Ie)}x=R}return oe},i=function(v){var p=Array.apply([],v);return p.unshift(0),p},s=function(v,p){var E,S=[],R=v.length;S[0]=1;for(var x=0;x<R;x+=1)E=v[x-p]||0,S[x+1]=v[x]-E+256&255;return S},o=function(v,p,E){var S,R=[],x=v.length;R[0]=2;for(var B=0;B<x;B+=1)S=E&&E[B]||0,R[B+1]=v[B]-S+256&255;return R},a=function(v,p,E){var S,R,x=[],B=v.length;x[0]=3;for(var W=0;W<B;W+=1)S=v[W-p]||0,R=E&&E[W]||0,x[W+1]=v[W]+256-(S+R>>>1)&255;return x},c=function(v,p,E){var S,R,x,B,W=[],oe=v.length;W[0]=4;for(var ve=0;ve<oe;ve+=1)S=v[ve-p]||0,R=E&&E[ve]||0,x=E&&E[ve-p]||0,B=u(S,R,x),W[ve+1]=v[ve]-B+256&255;return W},u=function(v,p,E){if(v===p&&p===E)return v;var S=Math.abs(p-E),R=Math.abs(v-E),x=Math.abs(v+p-E-E);return S<=R&&S<=x?v:R<=x?p:E},h=function(){return[i,s,o,a,c]},g=function(v){var p=v.map(function(E){return E.reduce(function(S,R){return S+Math.abs(R)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(v,p,E,S){var R,x,B,W,oe,ve,Ie,V,T,O,U,I,C,N,Q,be=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(B=new Bte(v)).imgData,x=B.bits,R=B.colorSpace,oe=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){T=(V=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,U=new Uint8Array(T*B.colors),O=new Uint8Array(T);var ie,Z=B.pixelBitlength-B.bits;for(N=0,Q=0;N<T;N++){for(C=V[N],ie=0;ie<Z;)U[Q++]=C>>>ie&255,ie+=B.bits;O[N]=C>>>ie&255}}if(B.bits===16){T=(V=new Uint32Array(B.decodePixels().buffer)).length,U=new Uint8Array(T*(32/B.pixelBitlength)*B.colors),O=new Uint8Array(T*(32/B.pixelBitlength)),I=B.colors>1,N=0,Q=0;for(var he=0;N<T;)C=V[N++],U[Q++]=C>>>0&255,I&&(U[Q++]=C>>>16&255,C=V[N++],U[Q++]=C>>>0&255),O[he++]=C>>>16&255;x=8}S!==n.image_compression.NONE&&e()?(v=t(U,B.width*B.colors,B.colors,S),Ie=t(O,B.width,1,S)):(v=U,Ie=O,be=void 0)}if(B.colorType===3&&(R=this.color_spaces.INDEXED,ve=B.palette,B.transparency.indexed)){var _e=B.transparency.indexed,Ue=0;for(N=0,T=_e.length;N<T;++N)Ue+=_e[N];if((Ue/=255)===T-1&&_e.indexOf(0)!==-1)W=[_e.indexOf(0)];else if(Ue!==T){for(V=B.decodePixels(),O=new Uint8Array(V.length),N=0,T=V.length;N<T;N++)O[N]=_e[V[N]];Ie=t(O,B.width,1)}}var M=function(q){var H;switch(q){case n.image_compression.FAST:H=11;break;case n.image_compression.MEDIUM:H=13;break;case n.image_compression.SLOW:H=14;break;default:H=12}return H}(S);return be===this.decode.FLATE_DECODE&&(X="/Predictor "+M+" "),X+="/Colors "+oe+" /BitsPerComponent "+x+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(Ie&&this.__addimage__.isArrayBuffer(Ie)||this.__addimage__.isArrayBufferView(Ie))&&(Ie=this.__addimage__.arrayBufferToBinaryString(Ie)),{alias:E,data:v,index:p,filter:be,decodeParameters:X,transparency:W,palette:ve,sMask:Ie,predictor:M,width:B.width,height:B.height,bitsPerComponent:x,colorSpace:R}}}})(gt.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new Ute(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:a},h=new WA(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A}(gt.API),Uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Uo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Pn.log("bit decode error:"+t)}},Uo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Uo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,c=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Uo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Uo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=u}this.pos+=n}},Uo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,u=(o>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=a,this.data[h+3]=255}this.pos+=n}},Uo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Uo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Uo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Uo(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},u=new WA(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)}}(gt.API),$4.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new $4(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},u=new WA(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)}}(gt.API),gt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,u=0;u<i;u+=4){var h=r[u],g=r[u+1],v=r[u+2],p=r[u+3];s[a++]=h,s[a++]=g,s[a++]=v,o[c++]=p}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},gt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Df=gt.API,Dw=Df.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,g=e.doKerning!==!1,v=0,p=n.length,E=0,S=a[0]||c,R=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=g&&Sn(u[r])==="object"&&!isNaN(parseInt(u[r][E],10))?u[r][E]/h:0,R.push((a[r]||S)/c+v)),E=r;return R},j4=Df.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Df.processArabic&&(n=Df.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Dw.apply(this,arguments).reduce(function(s,o){return s+o},0)},B4=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},U4=function(n,e,t){t||(t={});var r,i,s,o,a,c,u,h=[],g=[h],v=t.textIndent||0,p=0,E=0,S=n.split(" "),R=Dw.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var x=Array(c).join(" "),B=[];S.map(function(oe){(oe=oe.split(/\s*\n/)).length>1?B=B.concat(oe.map(function(ve,Ie){return(Ie&&ve.length?`
`:"")+ve})):B.push(oe[0])}),S=B,c=j4.apply(this,[x,t])}for(s=0,o=S.length;s<o;s++){var W=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),W=1),v+p+(E=(i=Dw.apply(this,[r,t])).reduce(function(oe,ve){return oe+ve},0))>e||W){if(E>e){for(a=B4.apply(this,[r,i,e-(v+p),e]),h.push(a.shift()),h=[a.pop()];a.length;)g.push([a.shift()]);E=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(oe,ve){return oe+ve},0)}else h=[r];g.push(h),v=E+c,p=R}else h.push(r),v+=p+E,p=R}return u=c?function(oe,ve){return(ve?x:"")+oe.join(" ")}:function(oe){return oe.join(" ")},g.map(u)},Df.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,c,u=[];for(a=0,c=r.length;a<c;a++)u=u.concat(U4.apply(this,[r[a],o,s]));return u},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=n.__fontmetrics__.compress=function(g){var v,p,E,S,R=["{"];for(var x in g){if(v=g[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=s(x).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof v=="number")v<0?(E=s(v).slice(3),S="-"):(E=s(v).slice(2),S=""),E=S+E.slice(0,-1)+r[E.slice(-1)];else{if(Sn(v)!=="object")throw new Error("Don't know what to do with value type "+Sn(v)+".");E=o(v)}R.push(p+E)}return R.push("}"),R.join("")},a=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,p,E,S,R={},x=1,B=R,W=[],oe="",ve="",Ie=g.length-1,V=1;V<Ie;V+=1)(S=g[V])=="'"?v?(E=v.join(""),v=void 0):v=[]:v?v.push(S):S=="{"?(W.push([B,E]),B={},E=void 0):S=="}"?((p=W.pop())[0][p[1]]=B,E=void 0,B=p[0]):S=="-"?x=-1:E===void 0?t.hasOwnProperty(S)?(oe+=t[S],E=parseInt(oe,16)*x,x=1,oe=""):oe+=S:t.hasOwnProperty(S)?(ve+=t[S],B[E]=parseInt(ve,16)*x,x=1,E=void 0,ve=""):ve+=S;return R},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var v=g.font,p=h.Unicode[v.postScriptName];p&&(v.metadata.Unicode={},v.metadata.Unicode.widths=p.widths,v.metadata.Unicode.kerning=p.kerning);var E=u.Unicode[v.postScriptName];E&&(v.metadata.Unicode.encoding=E,v.encoding=E.codePages[0])}])}(gt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(im(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(gt),function(n){function e(){return(_t.canvg?Promise.resolve(_t.canvg):import("./chunk-S4NPQJ3X.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}gt.API.addSvgAsImage=function(t,r,i,s,o,a,c,u){if(isNaN(r)||isNaN(i))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(E){return E.fromString(g,t,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(v)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,c,u)})}}(),gt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},gt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],u=0,h=0,g=0;function v(E,S){var R,x=!1;for(R=0;R<E.length;R+=1)E[R]===S&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=a.length;for(g=0;g<p;g+=1)t[a[g]].value=t[a[g]].defaultValue,t[a[g]].explicitSet=!1}if(Sn(n)==="object"){for(i in n)if(s=n[i],v(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&v(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,S=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?S.push("/"+E+" /"+t[E].value):S.push("/"+E+" "+t[E].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(gt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],g=0,v=s.length;g<v;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(s){var o,a,c,u,h,g,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,v=(a=Object.keys(s).sort(function(p,E){return p-E})).length;g<v;g++)o=a[g],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",E=0;E<v.length;E++)p+=String.fromCharCode(v[E]);var S=u();h({data:p,addLength1:!0,objectId:S}),c("endobj");var R=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+xf(a.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var B=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+xf(a.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+n.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+R+" 0 R"),c("/BaseFont /"+xf(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+B+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,u=o.newObject,h=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,v="",p=0;p<g.length;p++)v+=String.fromCharCode(g[p]);var E=u();h({data:v,addLength1:!0,objectId:E}),c("endobj");var S=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var R=u();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+xf(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=u();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+xf(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,u=s.y,h=s.options||{},g=s.mutex||{},v=g.pdfEscape,p=g.activeFontKey,E=g.fonts,S=p,R="",x=0,B="",W=E[S].encoding;if(E[S].encoding!=="Identity-H")return{text:a,x:c,y:u,options:h,mutex:g};for(B=a,S=p,Array.isArray(a)&&(B=a[0]),x=0;x<B.length;x+=1)E[S].metadata.hasOwnProperty("cmap")&&(o=E[S].metadata.cmap.unicode.codeMap[B[x].charCodeAt(0)]),o||B[x].charCodeAt(0)<256&&E[S].metadata.hasOwnProperty("Unicode")?R+=B[x]:R+="";var oe="";return parseInt(S.slice(1))<14||W==="WinAnsiEncoding"?oe=v(R,S).split("").map(function(ve){return ve.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(oe=t(R,E[S])),g.isHex=!0,{text:oe,x:c,y:u,options:h,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},c,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(gt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(gt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,c,u,h,g=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,W=0;this.__bidiEngine__={};var oe=function(I){var C=I.charCodeAt(),N=C>>8,Q=S[N];return Q!==void 0?g[256*Q+(255&C)]:N===252||N===253?"AL":x.test(N)?"L":N===8?"R":"N"},ve=function(I){for(var C,N=0;N<I.length;N++){if((C=oe(I.charAt(N)))==="L")return!1;if(C==="R")return!0}return!1},Ie=function(I,C,N,Q){var be,X,ie,Z,he=C[Q];switch(he){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(he="AN");break;case"AL":B=!0,he="R";break;case"WS":he="N";break;case"CS":Q<1||Q+1>=C.length||(be=N[Q-1])!=="EN"&&be!=="AN"||(X=C[Q+1])!=="EN"&&X!=="AN"?he="N":B&&(X="AN"),he=X===be?X:"N";break;case"ES":he=(be=Q>0?N[Q-1]:"B")==="EN"&&Q+1<C.length&&C[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&N[Q-1]==="EN"){he="EN";break}if(B){he="N";break}for(ie=Q+1,Z=C.length;ie<Z&&C[ie]==="ET";)ie++;he=ie<Z&&C[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=C.length,ie=Q+1;ie<Z&&C[ie]==="NSM";)ie++;if(ie<Z){var _e=I[Q],Ue=_e>=1425&&_e<=2303||_e===64286;if(be=C[ie],Ue&&(be==="R"||be==="AL")){he="R";break}}}he=Q<1||(be=C[Q-1])==="B"?"N":N[Q-1];break;case"B":B=!1,i=!0,he=W;break;case"S":s=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":he="N"}return he},V=function(I,C,N){var Q=I.split("");return N&&T(Q,N,{hiLevel:W}),Q.reverse(),C&&C.reverse(),Q.join("")},T=function(I,C,N){var Q,be,X,ie,Z,he=-1,_e=I.length,Ue=0,M=[],q=W?p:v,H=[];for(B=!1,i=!1,s=!1,be=0;be<_e;be++)H[be]=oe(I[be]);for(X=0;X<_e;X++){if(Z=Ue,M[X]=Ie(I,H,M,X),Q=240&(Ue=q[Z][E[M[X]]]),Ue&=15,C[X]=ie=q[Ue][5],Q>0)if(Q===16){for(be=he;be<X;be++)C[be]=1;he=-1}else he=-1;if(q[Ue][6])he===-1&&(he=X);else if(he>-1){for(be=he;be<X;be++)C[be]=ie;he=-1}H[X]==="B"&&(C[X]=0),N.hiLevel|=ie}s&&function(Y,se,le){for(var ye=0;ye<le;ye++)if(Y[ye]==="S"){se[ye]=W;for(var me=ye-1;me>=0&&Y[me]==="WS";me--)se[me]=W}}(H,C,_e)},O=function(I,C,N,Q,be){if(!(be.hiLevel<I)){if(I===1&&W===1&&!i)return C.reverse(),void(N&&N.reverse());for(var X,ie,Z,he,_e=C.length,Ue=0;Ue<_e;){if(Q[Ue]>=I){for(Z=Ue+1;Z<_e&&Q[Z]>=I;)Z++;for(he=Ue,ie=Z-1;he<ie;he++,ie--)X=C[he],C[he]=C[ie],C[ie]=X,N&&(X=N[he],N[he]=N[ie],N[ie]=X);Ue=Z}Ue++}}},U=function(I,C,N){var Q=I.split(""),be={hiLevel:W};return N||(N=[]),T(Q,N,be),function(X,ie,Z){if(Z.hiLevel!==0&&h)for(var he,_e=0;_e<X.length;_e++)ie[_e]===1&&(he=R.indexOf(X[_e]))>=0&&(X[_e]=R[he+1])}(Q,N,be),O(2,Q,C,N,be),O(1,Q,C,N,be),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(I,C,N){if(function(be,X){if(X)for(var ie=0;ie<be.length;ie++)X[ie]=ie;a===void 0&&(a=ve(be)),u===void 0&&(u=ve(be))}(I,C),o||!c||u)if(o&&c&&a^u)W=a?1:0,I=V(I,C,N);else if(!o&&c&&u)W=a?1:0,I=U(I,C,N),I=V(I,C);else if(!o||a||c||u){if(o&&!c&&a^u)I=V(I,C),a?(W=0,I=U(I,C,N)):(W=1,I=U(I,C,N),I=V(I,C));else if(o&&a&&!c&&u)W=1,I=U(I,C,N),I=V(I,C);else if(!o&&!c&&a^u){var Q=h;a?(W=1,I=U(I,C,N),W=0,h=!1,I=U(I,C,N),h=Q):(W=0,I=U(I,C,N),I=V(I,C),W=1,h=!1,I=U(I,C,N),h=Q,I=V(I,C))}}else W=0,I=U(I,C,N);else W=a?1:0,I=U(I,C,N);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,a=I.isInputRtl,u=I.isOutputRtl,h=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(gt),gt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new qu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nne(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new qte(this.contents),this.head=new zte(this),this.name=new Qte(this),this.cmap=new tV(this),this.toUnicode={},this.hhea=new Hte(this),this.maxp=new Yte(this),this.hmtx=new Zte(this),this.post=new Gte(this),this.os2=new Wte(this),this.loca=new tne(this),this.glyf=new Jte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,c,u;for(u=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var $o,qu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),qte=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,c,u,h,g,v,p,E,S;for(S in p=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(p)/c),o=Math.floor(g/c),h=16*p-g,(i=new qu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(g),i.writeShort(o),i.writeShort(h),s=16*p,u=i.pos+s,a=null,E=[],t)for(v=t[S],i.writeString(S),i.writeInt(n(v)),i.writeInt(u),i.writeInt(v.length),E=E.concat(v),S==="head"&&(a=u),u+=v.length;u%4;)E.push(0),u++;return i.write(E),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=nV.call(t);t.length%4;)t.push(0);for(s=new qu(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),$te={}.hasOwnProperty,Ra=function(n,e){for(var t in e)$te.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};$o=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var zte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new qu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),z4=function(){function n(e,t){var r,i,s,o,a,c,u,h,g,v,p,E,S,R,x,B,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var oe,ve;for(ve=[],c=oe=0;0<=v?oe<v:oe>v;c=0<=v?++oe:--oe)ve.push(e.readUInt16());return ve}(),e.pos+=2,S=function(){var oe,ve;for(ve=[],c=oe=0;0<=v?oe<v:oe>v;c=0<=v?++oe:--oe)ve.push(e.readUInt16());return ve}(),u=function(){var oe,ve;for(ve=[],c=oe=0;0<=v?oe<v:oe>v;c=0<=v?++oe:--oe)ve.push(e.readUInt16());return ve}(),h=function(){var oe,ve;for(ve=[],c=oe=0;0<=v?oe<v:oe>v;c=0<=v?++oe:--oe)ve.push(e.readUInt16());return ve}(),i=(this.length-e.pos+this.offset)/2,a=function(){var oe,ve;for(ve=[],c=oe=0;0<=i?oe<i:oe>i;c=0<=i?++oe:--oe)ve.push(e.readUInt16());return ve}(),c=x=0,W=s.length;x<W;c=++x)for(R=s[c],r=B=E=S[c];E<=R?B<=R:B>=R;r=E<=R?++B:--B)h[c]===0?o=r+u[c]:(o=a[h[c]/2+(r-E)-(v-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}e.pos=g}return n.encode=function(e,t){var r,i,s,o,a,c,u,h,g,v,p,E,S,R,x,B,W,oe,ve,Ie,V,T,O,U,I,C,N,Q,be,X,ie,Z,he,_e,Ue,M,q,H,Y,se,le,ye,me,je,ke,He;switch(Q=new qu,o=Object.keys(e).sort(function($e,ct){return $e-ct}),t){case"macroman":for(S=0,R=function(){var $e=[];for(E=0;E<256;++E)$e.push(0);return $e}(),B={0:0},s={},be=0,he=o.length;be<he;be++)B[me=e[i=o[be]]]==null&&(B[me]=++S),s[i]={old:e[i],new:B[e[i]]},R[i]=B[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(R),{charMap:s,subtable:Q.data,maxGlyphID:S+1};case"unicode":for(C=[],g=[],W=0,B={},r={},x=u=null,X=0,_e=o.length;X<_e;X++)B[ve=e[i=o[X]]]==null&&(B[ve]=++W),r[i]={old:ve,new:B[ve]},a=B[ve]-i,x!=null&&a===u||(x&&g.push(x),C.push(i),u=a),x=i;for(x&&g.push(x),g.push(65535),C.push(65535),U=2*(O=C.length),T=2*Math.pow(Math.log(O)/Math.LN2,2),v=Math.log(T/2)/Math.LN2,V=2*O-T,c=[],Ie=[],p=[],E=ie=0,Ue=C.length;ie<Ue;E=++ie){if(I=C[E],h=g[E],I===65535){c.push(0),Ie.push(0);break}if(I-(N=r[I].new)>=32768)for(c.push(0),Ie.push(2*(p.length+O-E)),i=Z=I;I<=h?Z<=h:Z>=h;i=I<=h?++Z:--Z)p.push(r[i].new);else c.push(N-I),Ie.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*O+2*p.length),Q.writeUInt16(0),Q.writeUInt16(U),Q.writeUInt16(T),Q.writeUInt16(v),Q.writeUInt16(V),le=0,M=g.length;le<M;le++)i=g[le],Q.writeUInt16(i);for(Q.writeUInt16(0),ye=0,q=C.length;ye<q;ye++)i=C[ye],Q.writeUInt16(i);for(je=0,H=c.length;je<H;je++)a=c[je],Q.writeUInt16(a);for(ke=0,Y=Ie.length;ke<Y;ke++)oe=Ie[ke],Q.writeUInt16(oe);for(He=0,se=p.length;He<se;He++)S=p[He],Q.writeUInt16(S);return{charMap:r,subtable:Q.data,maxGlyphID:W+1}}},n}(),tV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new z4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=z4.encode(t,r),(s=new qu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Hte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Wte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Gte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=function(){var a,c,u;for(u=[],o=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;o=0<=c?++a:--a)u.push(t.readUInt32());return u}.call(this)}},e}(),Kte=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Qte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,c,u,h,g,v,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(u={},o=g=0,v=i.length;g<v;o=++g)s=i[o],t.pos=s.offset,h=t.readString(s.length),a=new Kte(h,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),Yte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Zte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,c,u;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)g.push(t.readInt16());return g}(),this.widths=function(){var h,g,v,p;for(p=[],h=0,g=(v=this.metrics).length;h<g;h++)o=v[h],p.push(o.advance);return p}.call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),nV=[].slice,Jte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,c,u,h,g,v;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(c=new qu(r.read(s))).readShort(),h=c.readShort(),v=c.readShort(),u=c.readShort(),g=c.readShort(),this.cache[t]=a===-1?new ene(c,h,v,u,g):new Xte(c,a,h,v,u,g),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,c,u;for(a=[],o=[],c=0,u=r.length;c<u;c++)s=t[r[c]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),Xte=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),ene=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new qu(nV.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),tne=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,$o),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a],u=this.offsets[a+1]-c;u>0&&(s+=u)}for(var h=new Array(4*i.length),g=0;g<i.length;++g)h[4*g+3]=255&i[g],h[4*g+2]=(65280&i[g])>>8,h[4*g+1]=(16711680&i[g])>>16,h[4*g]=(4278190080&i[g])>>24;return h},e}(),nne=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,c,u,h,g,v,p,E,S,R,x;for(i in r=tV.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},x=r.charMap)p[(c=x[i]).old]=c.new;for(E in v=r.maxGlyphID,o)E in p||(p[E]=v++);return h=function(B){var W,oe;for(W in oe={},B)oe[B[W]]=W;return oe}(p),g=Object.keys(h).sort(function(B,W){return B-W}),S=function(){var B,W,oe;for(oe=[],B=0,W=g.length;B<W;B++)a=g[B],oe.push(h[a]);return oe}(),s=this.font.glyf.encode(o,S,p),u=this.font.loca.encode(s.offsets,S),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},n}();gt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,c,u;for(u=[],a=0,c=t.length;a<c;a++)r=t[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();var Wt=ND("BluetoothLe",{web:()=>import("./chunk-GVJNKH4N.js").then(n=>new n.BluetoothLeWeb)});var rne=()=>{let n=Promise.resolve();return e=>new Promise((t,r)=>{n=n.then(()=>e()).then(t).catch(r)})};function Lw(n){return n?rne():e=>e()}function Dr(n){if(typeof n!="string")throw new Error(`Invalid UUID type ${typeof n}. Expected string.`);if(n=n.toLowerCase(),!(n.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${n}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return n}var eD=class{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=Lw(!0)}enableQueue(){this.queue=Lw(!0)}disableQueue(){this.queue=Lw(!1)}initialize(e){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.initialize(e)}))})}isEnabled(){return G(this,null,function*(){return yield this.queue(()=>G(this,null,function*(){return(yield Wt.isEnabled()).value}))})}requestEnable(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.requestEnable()}))})}enable(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.enable()}))})}disable(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.disable()}))})}startEnabledNotifications(e){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){var t;let r="onEnabledChanged";yield(t=this.eventListeners.get(r))===null||t===void 0?void 0:t.remove();let i=yield Wt.addListener(r,s=>{e(s.value)});this.eventListeners.set(r,i),yield Wt.startEnabledNotifications()}))})}stopEnabledNotifications(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){var e;let t="onEnabledChanged";yield(e=this.eventListeners.get(t))===null||e===void 0?void 0:e.remove(),this.eventListeners.delete(t),yield Wt.stopEnabledNotifications()}))})}isLocationEnabled(){return G(this,null,function*(){return yield this.queue(()=>G(this,null,function*(){return(yield Wt.isLocationEnabled()).value}))})}openLocationSettings(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.openLocationSettings()}))})}openBluetoothSettings(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.openBluetoothSettings()}))})}openAppSettings(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.openAppSettings()}))})}setDisplayStrings(e){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.setDisplayStrings(e)}))})}requestDevice(e){return G(this,null,function*(){return e=e?this.validateRequestBleDeviceOptions(e):void 0,yield this.queue(()=>G(this,null,function*(){return yield Wt.requestDevice(e)}))})}requestLEScan(e,t){return G(this,null,function*(){e=this.validateRequestBleDeviceOptions(e),yield this.queue(()=>G(this,null,function*(){var r;yield(r=this.scanListener)===null||r===void 0?void 0:r.remove(),this.scanListener=yield Wt.addListener("onScanResult",i=>{let s=Object.assign(Object.assign({},i),{manufacturerData:this.convertObject(i.manufacturerData),serviceData:this.convertObject(i.serviceData),rawAdvertisement:i.rawAdvertisement?this.convertValue(i.rawAdvertisement):void 0});t(s)}),yield Wt.requestLEScan(e)}))})}stopLEScan(){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){var e;yield(e=this.scanListener)===null||e===void 0?void 0:e.remove(),this.scanListener=null,yield Wt.stopLEScan()}))})}getDevices(e){return G(this,null,function*(){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(()=>G(this,null,function*(){return(yield Wt.getDevices({deviceIds:e})).devices}))})}getConnectedDevices(e){return G(this,null,function*(){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(Dr),this.queue(()=>G(this,null,function*(){return(yield Wt.getConnectedDevices({services:e})).devices}))})}getBondedDevices(){return G(this,null,function*(){return this.queue(()=>G(this,null,function*(){return(yield Wt.getBondedDevices()).devices}))})}connect(e,t,r){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){var i;if(t){let s=`disconnected|${e}`;yield(i=this.eventListeners.get(s))===null||i===void 0?void 0:i.remove();let o=yield Wt.addListener(s,()=>{t(e)});this.eventListeners.set(s,o)}yield Wt.connect(Object.assign({deviceId:e},r))}))})}createBond(e,t){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.createBond(Object.assign({deviceId:e},t))}))})}isBonded(e){return G(this,null,function*(){return yield this.queue(()=>G(this,null,function*(){return(yield Wt.isBonded({deviceId:e})).value}))})}disconnect(e){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.disconnect({deviceId:e})}))})}getServices(e){return G(this,null,function*(){return yield this.queue(()=>G(this,null,function*(){return(yield Wt.getServices({deviceId:e})).services}))})}discoverServices(e){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.discoverServices({deviceId:e})}))})}getMtu(e){return G(this,null,function*(){return yield this.queue(()=>G(this,null,function*(){return(yield Wt.getMtu({deviceId:e})).value}))})}requestConnectionPriority(e,t){return G(this,null,function*(){yield this.queue(()=>G(this,null,function*(){yield Wt.requestConnectionPriority({deviceId:e,connectionPriority:t})}))})}readRssi(e){return G(this,null,function*(){return yield this.queue(()=>G(this,null,function*(){let r=yield Wt.readRssi({deviceId:e});return parseFloat(r.value)}))})}read(e,t,r,i){return G(this,null,function*(){return t=Dr(t),r=Dr(r),yield this.queue(()=>G(this,null,function*(){let o=yield Wt.read(Object.assign({deviceId:e,service:t,characteristic:r},i));return this.convertValue(o.value)}))})}write(e,t,r,i,s){return G(this,null,function*(){return t=Dr(t),r=Dr(r),this.queue(()=>G(this,null,function*(){if(!i?.buffer)throw new Error("Invalid data.");let o=i;xm.getPlatform()!=="web"&&(o=Rm(i)),yield Wt.write(Object.assign({deviceId:e,service:t,characteristic:r,value:o},s))}))})}writeWithoutResponse(e,t,r,i,s){return G(this,null,function*(){t=Dr(t),r=Dr(r),yield this.queue(()=>G(this,null,function*(){if(!i?.buffer)throw new Error("Invalid data.");let o=i;xm.getPlatform()!=="web"&&(o=Rm(i)),yield Wt.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:r,value:o},s))}))})}readDescriptor(e,t,r,i,s){return G(this,null,function*(){return t=Dr(t),r=Dr(r),i=Dr(i),yield this.queue(()=>G(this,null,function*(){let a=yield Wt.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:r,descriptor:i},s));return this.convertValue(a.value)}))})}writeDescriptor(e,t,r,i,s,o){return G(this,null,function*(){return t=Dr(t),r=Dr(r),i=Dr(i),this.queue(()=>G(this,null,function*(){if(!s?.buffer)throw new Error("Invalid data.");let a=s;xm.getPlatform()!=="web"&&(a=Rm(s)),yield Wt.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:r,descriptor:i,value:a},o))}))})}startNotifications(e,t,r,i){return G(this,null,function*(){t=Dr(t),r=Dr(r),yield this.queue(()=>G(this,null,function*(){var s;let o=`notification|${e}|${t}|${r}`;yield(s=this.eventListeners.get(o))===null||s===void 0?void 0:s.remove();let a=yield Wt.addListener(o,c=>{i(this.convertValue(c?.value))});this.eventListeners.set(o,a),yield Wt.startNotifications({deviceId:e,service:t,characteristic:r})}))})}stopNotifications(e,t,r){return G(this,null,function*(){t=Dr(t),r=Dr(r),yield this.queue(()=>G(this,null,function*(){var i;let s=`notification|${e}|${t}|${r}`;yield(i=this.eventListeners.get(s))===null||i===void 0?void 0:i.remove(),this.eventListeners.delete(s),yield Wt.stopNotifications({deviceId:e,service:t,characteristic:r})}))})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(Dr)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(Dr)),e}convertValue(e){return typeof e=="string"?xD(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;let t={};for(let r of Object.keys(e))t[r]=this.convertValue(e[r]);return t}},Lf=new eD;function ine(n,e){if(n&1&&(ue(0,"option",37),Ee(1),ae()),n&2){let t=e.$implicit;At("value",t.id),Le(),qn(t.name)}}function sne(n,e){if(n&1){let t=ri();ue(0,"tr")(1,"td"),Ee(2),ae(),ue(3,"td"),Ee(4),ae(),ue(5,"td"),Ee(6),lr(7,"number"),ae(),ue(8,"td"),Ee(9),ae(),ue(10,"td")(11,"input",38),er("ngModelChange",function(i){let s=ar(t).$implicit;return ur(s.tempQuantity,i)||(s.tempQuantity=i),cr(i)}),ae()(),ue(12,"td")(13,"button",39),zt("click",function(){let i=ar(t).$implicit,s=Qt();return cr(s.addToCart(i,i.tempQuantity||1))}),Ee(14,"Add"),ae()()()}if(n&2){let t=e.$implicit;Le(2),qn(t.name),Le(2),qn(t.subCategory),Le(2),tn("Rs. ",dr(7,6,t.price,"1.2-2"),""),Le(3),qn(t.quantity),Le(2),Xn("ngModel",t.tempQuantity),At("max",t.quantity)}}function one(n,e){n&1&&(ue(0,"div",40)(1,"p"),Ee(2,"Your cart is empty"),ae()())}function ane(n,e){if(n&1){let t=ri();ue(0,"tr")(1,"td"),Ee(2),ae(),ue(3,"td"),Ee(4),ae(),ue(5,"td"),Ee(6),ae(),ue(7,"td")(8,"input",41),er("ngModelChange",function(i){let s=ar(t).$implicit;return ur(s.quantity,i)||(s.quantity=i),cr(i)}),zt("change",function(){let i=ar(t).$implicit,s=Qt(2);return cr(s.updateQuantity(i,i.quantity))}),ae()(),ue(9,"td"),Ee(10),lr(11,"number"),ae(),ue(12,"td",27)(13,"button",42),zt("click",function(){let i=ar(t).index,s=Qt(2);return cr(s.removeFromCart(i))}),Ee(14,"\xD7"),ae()()()}if(n&2){let t=e.$implicit;Le(2),qn(t.productName),Le(2),qn(t.subCategory),Le(2),qn(t.categoryName),Le(2),Xn("ngModel",t.quantity),Le(2),tn("Rs. ",dr(11,5,t.price*t.quantity,"1.2-2"),"")}}function cne(n,e){if(n&1&&(ue(0,"table",26)(1,"thead")(2,"tr")(3,"th"),Ee(4,"Model"),ae(),ue(5,"th"),Ee(6,"Brand"),ae(),ue(7,"th"),Ee(8,"Category"),ae(),ue(9,"th"),Ee(10,"Qty"),ae(),ue(11,"th"),Ee(12,"Price"),ae(),Zn(13,"th"),ae()(),ue(14,"tbody"),ln(15,ane,15,8,"tr",21),ae()()),n&2){let t=Qt();Le(15),At("ngForOf",t.cart)}}var Fw=class n{constructor(e,t){this.firebaseService=e;this.toastr=t}categories=[];products=[];selectedCategory="";cart=[];discountPercentage=0;customerName="";customerPhone="";printers=[];selectedPrinter="";ngOnInit(){this.loadCategories()}loadCategories(){this.firebaseService.getCategories().subscribe(e=>{this.categories=e})}onCategoryChange(){this.selectedCategory?this.firebaseService.getCategories().subscribe(e=>{let t=e.find(i=>i.id===this.selectedCategory),r=t?t.name:"Unknown Category";this.firebaseService.getProductsByCategory(this.selectedCategory).subscribe(i=>{let s=new Map;this.cart.forEach(o=>s.set(o.productId,o.quantity)),this.products=i.map(o=>pt(Re({},o),{categoryName:r,quantity:s.has(o.id)?o.quantity-s.get(o.id):o.quantity,tempQuantity:1}))})}):this.products=[]}addToCart(e,t=1){let r=t||1;if(r<=0){this.toastr.error("Quantity must be greater than 0");return}let i=this.cart.find(a=>a.productId===e.id)?.quantity||0;if(e.quantity+i-r<0){this.toastr.error("Not enough stock available");return}let o=this.cart.find(a=>a.productId===e.id);o?o.quantity+=r:this.cart.push({productId:e.id,productName:e.name,quantity:r,price:e.price,cost:e.cost,subCategory:e.subCategory,categoryName:e.categoryName||"Unknown"}),e.quantity=e.quantity+i-(o?o.quantity:r),e.tempQuantity=1,this.toastr.success("Product added to cart")}removeFromCart(e){let t=this.cart[e],r=this.products.find(i=>i.id===t.productId);r&&(r.quantity+=t.quantity),this.cart.splice(e,1)}updateQuantity(e,t){if(t<=0){this.toastr.error("Quantity must be greater than 0");return}let r=this.products.find(a=>a.id===e.productId);if(!r)return;let i=this.cart.find(a=>a.productId===e.productId)?.quantity||0,s=r.quantity+i;if(t>s){this.toastr.error("Not enough stock available");return}let o=e.quantity;e.quantity=t,r.quantity=s-t}get subtotal(){return this.cart.reduce((e,t)=>e+t.price*t.quantity,0)}get discountAmount(){return this.subtotal*(this.discountPercentage/100)}get total(){return this.subtotal-this.discountAmount}checkout(){return G(this,null,function*(){if(this.cart.length===0){this.toastr.error("Cart is empty");return}let e={items:[...this.cart],totalAmount:this.total,discount:this.discountAmount,date:new Date};try{let t=this.cart.map(r=>G(this,null,function*(){let i=yield this.firebaseService.getProductById(r.productId);if(!i)throw new Error(`Product ${r.productName} (${r.productId}) not found`);if(i.quantity<r.quantity)throw new Error(`Insufficient stock for ${r.productName}`);i.quantity-=r.quantity,yield this.firebaseService.updateProduct(i)}));yield Promise.all(t),yield this.firebaseService.addSale(e),this.toastr.success("Sale completed successfully"),this.printBill(),this.resetCart()}catch(t){this.toastr.error("Checkout failed: "+t.message)}})}resetCart(){this.cart.forEach(e=>{let t=this.products.find(r=>r.id===e.productId);t&&(t.quantity+=e.quantity)}),this.cart=[],this.discountPercentage=0,this.customerName="",this.customerPhone=""}printBill(){let e=new gt,t=e.internal.pageSize.height-50,r=30,i=1,s=()=>{e.setFontSize(18),e.setFont("helvetica","bold"),e.text("INVOICE",196,15,{align:"right"}),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("M&R MOBILE",14,15),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("No, 392, Doolmala, Thihariya, Kalagedihena",14,20),e.text("Gampaha",14,25),e.text("077 581 5415 / 075 382 0515",14,30),e.setFontSize(8),e.text(`Date: ${new Date().toLocaleDateString()}`,14,37),e.text(`Time: ${new Date().toLocaleTimeString()}`,55,37),this.customerName||this.customerPhone?(this.customerName&&e.text(`Customer Name: ${this.customerName}`,14,45),this.customerPhone&&e.text(`Phone: ${this.customerPhone}`,14,50),r=65):r=45};s(),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("MODEL",14,r),e.text("CATEGORY",60,r),e.text("PRICE",100,r),e.text("QUANTITY",140,r),e.text("TOTAL",180,r),e.setLineWidth(.5),e.line(14,r+2,196,r+2),r+=12,this.cart.forEach((o,a)=>{r>t&&(e.addPage(),i++,r=30,s(),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("INVOICE (continued)",14,r),e.setLineWidth(.5),e.line(14,r+2,196,r+2),r+=12),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(o.productName,14,r),e.text(o.categoryName,60,r),e.text(`Rs. ${o.price.toFixed(2)}`,100,r),e.text(o.quantity.toString(),140,r),e.text(`Rs. ${(o.price*o.quantity).toFixed(2)}`,180,r),r+=7}),r>t-20&&(e.addPage(),r=30),e.setLineWidth(.3),e.line(14,r,196,r),r+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`Subtotal: Rs. ${this.subtotal.toFixed(2)}`,196,r,{align:"right"}),r+=5,e.text(`Discount (${this.discountPercentage}%): Rs. ${this.discountAmount.toFixed(2)}`,196,r,{align:"right"}),r+=5,e.text(`Net Amount: Rs. ${this.total.toFixed(2)}`,196,r,{align:"right"});for(let o=1;o<=i;o++)e.setPage(o),e.setFontSize(8),e.text("Make all checks payable to M&R MOBILE",14,266),e.text("Payment is due within 30 days",14,270),e.text("If you have any question concerning this invoice, contact us",14,274),e.text("Thank you for your business",14,278),e.setLineWidth(.3),e.line(14,283,196,283),e.text("Software By Cormy Soft Solutions - cormy.tech",110,287,{align:"center"}),e.text("Contact Us : 076 228 9809",110,291,{align:"center"});e.save(`invoice_${new Date().getTime()}.pdf`)}formatReceipt(){return["\x1B@","\x1B!0",`MY STORE

`,`----------------
`,`Date: ${new Date().toLocaleString()}
`,`----------------
`,...this.cart.map(e=>`${e.quantity}x ${e.productName.substring(0,12).padEnd(12)} $${e.price.toFixed(2)}
`),`----------------
`,`TOTAL: $${this.total.toFixed(2)}

`,"\x1Bi"].join("")}deviceId="";serviceUUID="000018f0-0000-1000-8000-00805f9b34fb";characteristicUUID="00002af1-0000-1000-8000-00805f9b34fb";createCommandBuffer(e){return new DataView(new Uint8Array(e).buffer)}initializeBluetooth(){return G(this,null,function*(){yield Lf.initialize({androidNeverForLocation:!0})})}scanAndConnect(){return G(this,null,function*(){let e=yield Lf.requestDevice({services:[this.serviceUUID],optionalServices:[this.serviceUUID]});return this.deviceId=e.deviceId,yield Lf.connect(this.deviceId),this.deviceId})}printReceipt(){return G(this,null,function*(){try{let e=[this.createCommandBuffer([27,64]),fo(`
`),this.createCommandBuffer([27,97,1]),fo(`MY STORE
`),this.createCommandBuffer([27,69,1]),fo(`RECEIPT #123
`),this.createCommandBuffer([27,69,0]),fo(`----------------------------
`),this.createCommandBuffer([27,69,1]),fo("Modal Brand Cat QTY Price Total"),this.createCommandBuffer([27,105])];this.cart.forEach((t,r)=>{fo(t.productName),fo(t.categoryName),fo(`Rs. ${t.price.toFixed(2)}`),fo(t.quantity.toString()),fo(`Rs. ${(t.price*t.quantity).toFixed(2)}`)});for(let t of e)yield this.writeToPrinter(t)}catch(e){throw console.error("Print error:",e),e}})}writeToPrinter(e){return G(this,null,function*(){yield Lf.write(this.deviceId,this.serviceUUID,this.characteristicUUID,e)})}disconnect(){return G(this,null,function*(){yield Lf.disconnect(this.deviceId)})}print(){return G(this,null,function*(){try{yield this.initializeBluetooth(),yield this.scanAndConnect(),yield this.printReceipt(),yield this.disconnect(),alert("Printing successful!")}catch(e){alert("Printing error: "+e)}})}static \u0275fac=function(t){return new(t||n)(Ze(Xs),Ze(ya))};static \u0275cmp=Yr({type:n,selectors:[["app-billing"]],decls:96,vars:20,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","sticky-top"],[1,"h2","p-3","bg-grad-stl",2,"width","100%"],[1,"card","mb-4"],[1,"card-header","header-stl"],[1,"row","card-body"],[1,"col-md-6","mb-3"],["for","customerName",1,"form-label"],["type","text","id","customerName",1,"form-control",3,"ngModelChange","ngModel"],["for","customerPhone",1,"form-label"],["type","text","id","customerPhone",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-8"],[1,"card-body"],[1,"mb-3"],["for","categorySelect",1,"form-label"],["id","categorySelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card"],["for","discount",1,"form-label"],["type","number","id","discount","min","0","max","100",1,"form-control",3,"ngModelChange","ngModel"],[1,"table"],[1,"text-end"],[1,"table-active"],[1,"text-end","fw-bold"],[1,"col-md-6"],[1,"btn","btn-stl-success","w-100",3,"click"],[1,"btn","btn-outline-danger","w-100",3,"click"],[1,"col-md-6","mt-3"],[1,"btn","btn-stl-primary","w-100",3,"click"],["class","text-center py-3",4,"ngIf"],["class","table",4,"ngIf"],[3,"value"],["type","number","min","1","value","1",1,"form-control","form-control-sm",2,"width","70px",3,"ngModelChange","ngModel","max"],[1,"btn","btn-sm","btn-stl-primary",3,"click"],[1,"text-center","py-3"],["type","number","min","1","disabled","",1,"form-control","form-control-sm",2,"width","60px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-sm","btn-stl-danger",3,"click"]],template:function(t,r){t&1&&(ue(0,"div",0)(1,"div",1)(2,"h1",2),Ee(3,"Billing Area - Sub Branch 1"),ae()(),ue(4,"div",3)(5,"div",4)(6,"h5"),Ee(7,"Customer Details"),ae()(),ue(8,"div",5)(9,"div",6)(10,"label",7),Ee(11,"Name (Optional)"),ae(),ue(12,"input",8),er("ngModelChange",function(s){return ur(r.customerName,s)||(r.customerName=s),s}),ae()(),ue(13,"div",6)(14,"label",9),Ee(15,"Phone (Optional)"),ae(),ue(16,"input",10),er("ngModelChange",function(s){return ur(r.customerPhone,s)||(r.customerPhone=s),s}),ae()()()(),ue(17,"div",11)(18,"div",12)(19,"div",3)(20,"div",4)(21,"h5"),Ee(22,"Products"),ae()(),ue(23,"div",13)(24,"div",14)(25,"label",15),Ee(26,"Select Category"),ae(),ue(27,"select",16),er("ngModelChange",function(s){return ur(r.selectedCategory,s)||(r.selectedCategory=s),s}),zt("change",function(){return r.onCategoryChange()}),ue(28,"option",17),Ee(29,"All Categories"),ae(),ln(30,ine,2,2,"option",18),ae()(),ue(31,"div",19)(32,"table",20)(33,"thead")(34,"tr")(35,"th"),Ee(36,"Model"),ae(),ue(37,"th"),Ee(38,"Brand"),ae(),ue(39,"th"),Ee(40,"Price"),ae(),ue(41,"th"),Ee(42,"Available Stocks"),ae(),ue(43,"th"),Ee(44,"Quantity"),ae(),ue(45,"th"),Ee(46,"Action"),ae()()(),ue(47,"tbody"),ln(48,sne,15,9,"tr",21),ae()()()()()(),ue(49,"div",22)(50,"div",23)(51,"div",4)(52,"h5"),Ee(53,"Summary"),ae()(),ue(54,"div",13)(55,"div",14)(56,"label",24),Ee(57,"Discount (%)"),ae(),ue(58,"input",25),er("ngModelChange",function(s){return ur(r.discountPercentage,s)||(r.discountPercentage=s),s}),ae()(),ue(59,"table",26)(60,"tr")(61,"th"),Ee(62,"Subtotal:"),ae(),ue(63,"td",27),Ee(64),lr(65,"number"),ae()(),ue(66,"tr")(67,"th"),Ee(68,"Discount:"),ae(),ue(69,"td",27),Ee(70),lr(71,"number"),ae()(),ue(72,"tr",28)(73,"th"),Ee(74,"TOTAL:"),ae(),ue(75,"td",29),Ee(76),lr(77,"number"),ae()()(),ue(78,"div",11)(79,"div",30)(80,"button",31),zt("click",function(){return r.checkout()}),Ee(81,"Checkout"),ae()(),ue(82,"div",30)(83,"button",32),zt("click",function(){return r.resetCart()}),Ee(84,"Clear Cart"),ae()(),ue(85,"div",33)(86,"button",34),zt("click",function(){return r.print()}),Ee(87," Print "),ae()()()()(),Zn(88,"br"),ue(89,"div",3)(90,"div",4)(91,"h5"),Ee(92,"Cart"),ae()(),ue(93,"div",13),ln(94,one,3,0,"div",35)(95,cne,16,1,"table",36),ae()()()()()),t&2&&(Le(12),Xn("ngModel",r.customerName),Le(4),Xn("ngModel",r.customerPhone),Le(11),Xn("ngModel",r.selectedCategory),Le(3),At("ngForOf",r.categories),Le(18),At("ngForOf",r.products),Le(10),Xn("ngModel",r.discountPercentage),Le(6),tn("Rs. ",dr(65,11,r.subtotal,"1.2-2"),""),Le(6),tn("Rs. ",dr(71,14,r.discountAmount,"1.2-2"),""),Le(6),tn("Rs. ",dr(77,17,r.total,"1.2-2"),""),Le(18),At("ngIf",r.cart.length===0),Le(),At("ngIf",r.cart.length>0))},dependencies:[Ao,da,Co,ha,Aa,Tf,Cf,Js,Zg,Vu,Ca,xA,NA,Vo],encapsulation:2})};function une(n,e){if(n&1){let t=ri();ue(0,"button",23),zt("click",function(){ar(t);let i=Qt();return cr(i.clearSalesHistory())}),Ee(1," Clear All Sales "),ae()}}function lne(n,e){if(n&1&&(ue(0,"div",27)(1,"span"),Ee(2),ae()()),n&2){let t=e.$implicit;Le(2),qn(t.subCategory)}}function dne(n,e){if(n&1&&(ue(0,"div",27)(1,"span"),Ee(2),ae()()),n&2){let t=e.$implicit;Le(2),_I("",t.quantity," \xD7 ",t.productName,"")}}function hne(n,e){if(n&1&&(ue(0,"div",27)(1,"span",28),Ee(2),lr(3,"number"),ae()()),n&2){let t=e.$implicit;Le(2),tn("Rs. ",dr(3,1,t.price*t.quantity,"1.2-2"),"")}}function fne(n,e){if(n&1&&(ue(0,"tr")(1,"td"),Ee(2),ae(),ue(3,"td"),Ee(4),ae(),ue(5,"td"),ln(6,lne,3,1,"div",24),ae(),ue(7,"td"),ln(8,dne,3,2,"div",24),ae(),ue(9,"td"),ln(10,hne,4,4,"div",24),ae(),ue(11,"td"),Ee(12),lr(13,"number"),ae(),ue(14,"td",25),Ee(15),lr(16,"number"),ae(),ue(17,"td",26),Ee(18),lr(19,"number"),ae(),Zn(20,"td"),ae()),n&2){let t=e.$implicit,r=e.index,i=Qt();Le(2),qn(r+1),Le(2),qn(i.getFormattedDate(t.date)),Le(2),At("ngForOf",t.items),Le(2),At("ngForOf",t.items),Le(2),At("ngForOf",t.items),Le(2),tn("Rs. ",dr(13,8,t.subtotal,"1.2-2"),""),Le(3),tn("-Rs. ",dr(16,11,t.discount,"1.2-2"),""),Le(3),tn("Rs. ",dr(19,14,t.totalAmount,"1.2-2"),"")}}function pne(n,e){n&1&&(ue(0,"div",29)(1,"p"),Ee(2,"No sales records found"),ae()())}var Vw=class n{constructor(e,t){this.firebaseService=e;this.datePipe=t}sales=[];filteredSales=[];activeIds=[];searchTerm="";dateFrom="";dateTo="";getTimestamp(e){return new Date(e).getTime()}ngOnInit(){this.loadSales()}loadSales(){this.firebaseService.getSales().subscribe(e=>{this.sales=e.map(t=>pt(Re({},t),{subtotal:t.totalAmount+t.discount,items:t.items.map(r=>pt(Re({},r),{total:r.price*r.quantity}))})).sort((t,r)=>{let i=t.date instanceof tr?t.date.toMillis():t.date.getTime();return(r.date instanceof tr?r.date.toMillis():r.date.getTime())-i}),this.filteredSales=[...this.sales]})}getFormattedDate(e){return this.datePipe.transform(e.toDate(),"medium")||""}toggleAccordion(e){let t=this.activeIds.indexOf(e);t>-1?this.activeIds.splice(t,1):this.activeIds.push(e)}filterSales(){this.filteredSales=this.sales.filter(e=>{let t=this.searchTerm===""||e.items.some(i=>i.productName.toLowerCase().includes(this.searchTerm.toLowerCase())),r=!0;if(this.dateFrom){let i=new Date(this.dateFrom),s=e.date instanceof tr?e.date.toDate():e.date;r=r&&s>=i}if(this.dateTo){let i=new Date(this.dateTo);i.setDate(i.getDate()+1);let s=e.date instanceof tr?e.date.toDate():e.date;r=r&&s<=i}return t&&r})}getItemNames(e){return e.map(t=>t.productName).join(", ")}clearSalesHistory(){confirm("Are you sure you want to delete ALL sales history? This action cannot be undone.")&&this.firebaseService.clearAllSales().then(()=>{this.sales=[],this.filteredSales=[]}).catch(e=>{console.error(e)})}static \u0275fac=function(t){return new(t||n)(Ze(Xs),Ze(Tu))};static \u0275cmp=Yr({type:n,selectors:[["app-sales-history"]],features:[Wi([Tu])],decls:52,vars:6,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","sticky-top"],[1,"h2","p-3","bg-grad-stl",2,"width","100%"],[1,"card","mb-4"],[1,"card-header","header-stl"],[1,"card-body"],[1,"row"],[1,"col-md-4","mb-3"],["for","searchTerm",1,"form-label"],["type","text","id","searchTerm",1,"form-control",3,"ngModelChange","input","ngModel"],["for","dateFrom",1,"form-label"],["type","date","id","dateFrom",1,"form-control",3,"ngModelChange","change","ngModel"],["for","dateTo",1,"form-label"],["type","date","id","dateTo",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center","header-stl"],["class","btn btn-stl-danger btn-sm",3,"click",4,"ngIf"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-striped","table-hover","mb-0"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","text-center p-4",4,"ngIf"],[1,"btn","btn-stl-danger","btn-sm",3,"click"],["class","d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"text-danger"],[1,"fw-bold"],[1,"d-flex","justify-content-between"],[1,"ms-3"],[1,"text-center","p-4"]],template:function(t,r){t&1&&(ue(0,"div",0)(1,"div",1)(2,"h1",2),Ee(3,"Sales History - Sub Branch 1"),ae()(),ue(4,"div",3)(5,"div",4)(6,"h5"),Ee(7,"Filters"),ae()(),ue(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),Ee(12,"Search Products"),ae(),ue(13,"input",9),er("ngModelChange",function(s){return ur(r.searchTerm,s)||(r.searchTerm=s),s}),zt("input",function(){return r.filterSales()}),ae()(),ue(14,"div",7)(15,"label",10),Ee(16,"From Date"),ae(),ue(17,"input",11),er("ngModelChange",function(s){return ur(r.dateFrom,s)||(r.dateFrom=s),s}),zt("change",function(){return r.filterSales()}),ae()(),ue(18,"div",7)(19,"label",12),Ee(20,"To Date"),ae(),ue(21,"input",13),er("ngModelChange",function(s){return ur(r.dateTo,s)||(r.dateTo=s),s}),zt("change",function(){return r.filterSales()}),ae()()()()(),ue(22,"div",14)(23,"div",15)(24,"h5"),Ee(25,"Sales Records"),ae(),ln(26,une,2,0,"button",16),ae(),ue(27,"div",17)(28,"div",18)(29,"table",19)(30,"thead",20)(31,"tr")(32,"th"),Ee(33,"Sale #"),ae(),ue(34,"th"),Ee(35,"Date"),ae(),ue(36,"th"),Ee(37,"Brand"),ae(),ue(38,"th"),Ee(39,"Items"),ae(),ue(40,"th"),Ee(41,"Amount"),ae(),ue(42,"th"),Ee(43,"Subtotal"),ae(),ue(44,"th"),Ee(45,"Discount"),ae(),ue(46,"th"),Ee(47,"Total"),ae(),Zn(48,"th"),ae()(),ue(49,"tbody"),ln(50,fne,21,17,"tr",21),ae()()(),ln(51,pne,3,0,"div",22),ae()()()),t&2&&(Le(13),Xn("ngModel",r.searchTerm),Le(4),Xn("ngModel",r.dateFrom),Le(4),Xn("ngModel",r.dateTo),Le(5),At("ngIf",r.filteredSales.length>0),Le(24),At("ngForOf",r.filteredSales),Le(),At("ngIf",r.filteredSales.length===0))},dependencies:[Ao,da,Co,ha,Aa,Js,Ca,Vo],encapsulation:2})};function gne(n,e){if(n&1){let t=ri();ue(0,"tr")(1,"td"),Ee(2),ae(),ue(3,"td"),Ee(4),ae(),ue(5,"td",25),Ee(6),lr(7,"number"),ae(),ue(8,"td")(9,"button",26),zt("click",function(){let i=ar(t).$implicit,s=Qt();return cr(s.deleteExpense(i))}),Ee(10," Delete "),ae()()()}if(n&2){let t=e.$implicit,r=Qt();Le(2),qn(r.getFormattedDate(t.date)),Le(2),qn(t.reason),Le(2),tn("-Rs. ",dr(7,3,t.amount,"1.2-2"),"")}}var jw=class n{constructor(e,t,r){this.firebaseService=e;this.toastr=t;this.datePipe=r}expenses=[];newExpense={reason:"",amount:0,date:new Date};filteredExpenses=[];searchTerm="";ngOnInit(){this.loadExpenses()}loadExpenses(){this.firebaseService.getExpenses().subscribe(e=>{this.expenses=e.sort((t,r)=>this.getTimestamp(r.date)-this.getTimestamp(t.date)),this.filteredExpenses=[...this.expenses]})}addExpense(){if(!this.newExpense.reason||this.newExpense.amount<=0){this.toastr.error("Please enter valid reason and amount");return}this.firebaseService.addExpense(this.newExpense).then(()=>{this.toastr.success("Expense added successfully"),this.newExpense={reason:"",amount:0,date:new Date},this.loadExpenses()}).catch(e=>{this.toastr.error("Failed to add expense"),console.error(e)})}deleteExpense(e){confirm("Are you sure you want to delete this expense?")&&this.firebaseService.deleteExpense(e).then(()=>{this.toastr.success("Expense deleted successfully"),this.loadExpenses()}).catch(t=>{this.toastr.error("Failed to delete expense"),console.error(t)})}getTimestamp(e){return e?.toMillis?e.toMillis():e?.getTime?e.getTime():e?.seconds?e.seconds*1e3:0}getFormattedDate(e){let t=e?.toDate?e.toDate():e?.seconds?new Date(e.seconds*1e3):new Date(e);return this.datePipe.transform(t,"mediumDate")||""}clearAllExpensesHistory(){confirm("Are you sure you want to delete ALL expenses? This action cannot be undone.")&&this.firebaseService.clearAllExpenses().then(()=>{this.expenses=[]}).catch(e=>{console.error(e)})}static \u0275fac=function(t){return new(t||n)(Ze(Xs),Ze(ya),Ze(Tu))};static \u0275cmp=Yr({type:n,selectors:[["app-expenses"]],features:[Wi([Tu])],decls:48,vars:4,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","sticky-top"],[1,"h2","p-3","bg-grad-stl",2,"width","100%"],[1,"card","mb-4"],[1,"card-header","header-stl"],[1,"card-body"],[3,"submit"],[1,"row"],[1,"col-md-5","mb-3"],["for","expenseReason",1,"form-label"],["type","text","id","expenseReason","name","reason","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3","mb-3"],["for","expenseAmount",1,"form-label"],["type","number","step","0.01","id","expenseAmount","name","amount","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","expenseDate",1,"form-label"],["type","date","id","expenseDate","name","date","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-1","mb-3","d-flex","align-items-end"],["type","submit",1,"btn","btn-stl-primary"],[1,"bi","bi-plus-lg"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center","header-stl"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-stl-danger","btn-sm",3,"click"],[1,"text-danger"],[1,"btn","btn-sm","btn-stl-danger",3,"click"]],template:function(t,r){t&1&&(ue(0,"div",0)(1,"div",1)(2,"h1",2),Ee(3,"Expenses - Sub Branch 1"),ae()(),ue(4,"div",3)(5,"div",4)(6,"h5"),Ee(7,"Add New Expense"),ae()(),ue(8,"div",5)(9,"form",6),zt("submit",function(){return r.addExpense()}),ue(10,"div",7)(11,"div",8)(12,"label",9),Ee(13,"Reason"),ae(),ue(14,"input",10),er("ngModelChange",function(s){return ur(r.newExpense.reason,s)||(r.newExpense.reason=s),s}),ae()(),ue(15,"div",11)(16,"label",12),Ee(17,"Amount"),ae(),ue(18,"input",13),er("ngModelChange",function(s){return ur(r.newExpense.amount,s)||(r.newExpense.amount=s),s}),ae()(),ue(19,"div",11)(20,"label",14),Ee(21,"Date"),ae(),ue(22,"input",15),er("ngModelChange",function(s){return ur(r.newExpense.date,s)||(r.newExpense.date=s),s}),ae()(),ue(23,"div",16)(24,"button",17),Zn(25,"i",18),Ee(26," Add"),ae()()()()()(),ue(27,"div",19)(28,"div",20)(29,"h5"),Ee(30,"Expenses History"),ae()(),ue(31,"div",5)(32,"div",21)(33,"table",22)(34,"thead")(35,"tr")(36,"th"),Ee(37,"Date"),ae(),ue(38,"th"),Ee(39,"Reason"),ae(),ue(40,"th"),Ee(41,"Amount"),ae(),ue(42,"th"),Ee(43,"Actions"),ae()()(),ue(44,"tbody"),ln(45,gne,11,6,"tr",23),ae()(),ue(46,"button",24),zt("click",function(){return r.clearAllExpensesHistory()}),Ee(47," Clear All Sales "),ae()()()()()),t&2&&(Le(14),Xn("ngModel",r.newExpense.reason),Le(4),Xn("ngModel",r.newExpense.amount),Le(4),Xn("ngModel",r.newExpense.date),Le(23),At("ngForOf",r.filteredExpenses))},dependencies:[Ao,da,ha,Aa,d4,Js,Zg,Ca,s4,RA,Vo,AA],encapsulation:2})};var rV=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:ww},{path:"products",component:bw},{path:"billing",component:Fw},{path:"sales",component:Vw},{path:"expenses",component:jw}];var iV={providers:[LP({eventCoalescing:!0}),hk(rV),bM(wM()),Kk(),Jk(),xO(()=>RO(q3.firebase)),F3(()=>j3())]};var Bw=class n{title="inventory";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Yr({type:n,selectors:[["app-root"]],decls:27,vars:0,consts:[[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasWithBothOptions","aria-controls","offcanvasWithBothOptions",1,"btn","btn-stl-primary","mt-2"],[1,"bi","bi-list"],["data-bs-scroll","true","tabindex","-1","id","offcanvasWithBothOptions","aria-labelledby","offcanvasWithBothOptionsLabel",1,"offcanvas","offcanvas-start",2,"width","200px"],[1,"d-flex",2,"justify-content","flex-end"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","mt-2","me-2",2,"background-color","#FFF","padding","10px","float","right"],[1,"offcanvas-title","p-2"],["src","logo.jpg","alt","",2,"width","100%","height","auto","border-radius","50%"],[1,"mt-3","fw-bold","text-center",2,"color","#FFF"],[2,"color","#FFF"],[1,"offcanvas-body","align-items-sm-start"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active","data-bs-dismiss","offcanvas",1,"nav-link","align-middle","px-0"],["routerLink","/products","routerLinkActive","active","data-bs-dismiss","offcanvas",1,"nav-link","align-middle","px-0"],["routerLink","/billing","routerLinkActive","active","data-bs-dismiss","offcanvas",1,"nav-link","align-middle","px-0"],["routerLink","/sales","routerLinkActive","active","data-bs-dismiss","offcanvas",1,"nav-link","align-middle","px-0"],["routerLink","/expenses","routerLinkActive","active","data-bs-dismiss","offcanvas",1,"nav-link","align-middle","px-0"],[1,""]],template:function(t,r){t&1&&(ue(0,"div",0)(1,"button",1),Zn(2,"i",2),ae()(),ue(3,"div",3)(4,"div",4),Zn(5,"button",5)(6,"br"),ae(),ue(7,"div",6),Zn(8,"img",7),ue(9,"h4",8),Ee(10,"M&R Mobile"),ae()(),Zn(11,"hr",9),ue(12,"div",10)(13,"ul",11)(14,"li",12)(15,"a",13),Ee(16," Dashboard "),ae(),ue(17,"a",14),Ee(18," Products "),ae(),ue(19,"a",15),Ee(20," Billing "),ae(),ue(21,"a",16),Ee(22," Sales History "),ae(),ue(23,"a",17),Ee(24," Expenses "),ae()()()()(),ue(25,"main",18),Zn(26,"router-outlet"),ae())},dependencies:[b2,v0,lk],encapsulation:2})};vM(Bw,iV).catch(n=>console.error(n));
